{"version":3,"sources":["redux/hooks.ts","compositions/Helmet/Helmet.tsx","components/Button/Button.tsx","hooks/useEnsAddress.ts","redux/stores/web3/web3Api.ts","redux/stores/web3/web3Slice.ts","constants/nativeCurrency.ts","constants/rpc.ts","web3-connectors/chainInfo.ts","web3-connectors/helpers.ts","web3-connectors/walletConnect.ts","web3-connectors/connections.ts","web3-connectors/injected.ts","components/Icon/icons/IconAirswap.tsx","components/Icon/icons/IconArrowDown.tsx","components/Icon/icons/IconArrowLeft.tsx","components/Icon/icons/IconArrowRight.tsx","components/Icon/icons/IconBars.tsx","components/Icon/icons/IconBin.tsx","components/Icon/icons/IconCampaign.tsx","components/Icon/icons/IconCheck.tsx","components/Icon/icons/IconChevronDown.tsx","components/Icon/icons/IconChevronRight.tsx","components/Icon/icons/IconChevronUpDown.tsx","components/Icon/icons/IconClose.tsx","components/Icon/icons/IconCloseCircleOutline.tsx","components/Icon/icons/IconCode.tsx","components/Icon/icons/IconContactSupport.tsx","components/Icon/icons/IconCopy.tsx","components/Icon/icons/IconCopy2.tsx","components/Icon/icons/IconDarkModeSwitch.tsx","components/Icon/icons/IconDeny.tsx","components/Icon/icons/IconDiscord.tsx","components/Icon/icons/IconEdit.tsx","components/Icon/icons/IconForbidden.tsx","components/Icon/icons/IconGithub.tsx","components/Icon/icons/IconInformationCircleOutline.tsx","components/Icon/icons/IconLaunch.tsx","components/Icon/icons/IconLibrary.tsx","components/Icon/icons/IconLink.tsx","components/Icon/icons/IconLogout.tsx","components/Icon/icons/IconMarkerCheck.tsx","components/Icon/icons/IconMedium.tsx","components/Icon/icons/IconMenu.tsx","components/Icon/icons/IconPending.tsx","components/Icon/icons/IconPlus.tsx","components/Icon/icons/IconSearch.tsx","components/Icon/icons/IconStar.tsx","components/Icon/icons/IconSwap.tsx","components/Icon/icons/IconSwapHorizontal.tsx","components/Icon/icons/IconTelegram.tsx","components/Icon/icons/IconTransaction.tsx","components/Icon/icons/IconTwitter.tsx","components/Icon/icons/IconVote.tsx","components/Icon/icons/IconX.tsx","components/Icon/Icon.tsx","compositions/IconButton/IconButton.tsx","web3-connectors/walletProviders.ts","widgets/WalletConnector/subcomponents/WalletProviderList/subcomponents/WalletProviderButton/WalletProviderButton.tsx","widgets/WalletConnector/subcomponents/WalletProviderList/WalletProviderList.tsx","widgets/WalletConnector/WalletConnector.tsx","helpers/string.ts","components/Avatar/Avatar.tsx","components/WalletInfo/WalletInfo.tsx","routes.ts","compositions/MobileMenu/MobileMenu.tsx","compositions/IconNavLink/IconNavLink.tsx","compositions/UserPopup/UserPopup.tsx","compositions/TopBar/TopBar.tsx","compositions/Page/Page.tsx","components/Input/Input.tsx","components/SearchInput/SearchInput.tsx","components/LoadingSpinner/LoadingSpinner.tsx","components/NftCard/NftCard.tsx","components/NftCardSkeleton/NftCardSkeleton.tsx","compositions/EmptyState/EmptyState.tsx","entities/FullOrder/FullOrderHelpers.ts","containers/OrdersContainer/OrdersContainer.tsx","entities/CollectionToken/CollectionTokenHelpers.ts","redux/stores/metadata/metadataApi.ts","redux/stores/metadata/metdataHelpers.ts","helpers/json.ts","redux/stores/metadata/metadataSlice.ts","redux/stores/metadata/metadataActions.ts","helpers/ethers.ts","hooks/useDefaultProvider.ts","hooks/useCollectionTokens.ts","hooks/useScrollToBottom.ts","redux/stores/indexer/indexerHelpers.ts","constants/indexer.ts","types/ToastType.ts","redux/stores/toasts/toastsSlice.ts","redux/stores/toasts/toastsActions.ts","redux/stores/collection/collectionSlice.ts","redux/stores/collection/collectionApi.ts","widgets/CollectionWidget/helpers/getListCallToActionText.ts","widgets/CollectionWidget/subcomponents/CollectionPortrait/CollectionPortrait.tsx","widgets/CollectionWidget/subcomponents/ConnectedCollectionWidget/ConnectedCollectionWidget.tsx","widgets/CollectionWidget/subcomponents/DisconnectedCollectionWidget/DisconnectedCollectionWidget.tsx","widgets/CollectionWidget/CollectionWidget.tsx","pages/CollectionPage/CollectionPage.tsx","widgets/DebugWidget/DebugWidget.tsx","pages/DebugPage/DebugPage.tsx","redux/stores/listNft/listNftApi.ts","entities/SubmittedTransaction/SubmittedTransactionHelpers.ts","redux/stores/transactions/transactionsSlice.ts","types/ExpiryTimeUnit.ts","constants/expiry.ts","entities/SubmittedTransaction/SubmittedTransaction.ts","errors/appError.ts","hooks/useApproveNftTransaction.ts","hooks/useCollectionToken.ts","types/IndexedOrderResult.ts","hooks/useIndexedOrderResult.ts","hooks/useInsufficientAmount.ts","errors/swapError.ts","errors/rpcError.ts","errors/transformUnknownErrorToAppError.ts","errors/ethersProjectError.ts","errors/numericFaultError.ts","errors/rpcSignRejectedError.ts","errors/rpcErrorWithSwapErrorCode.ts","redux/stores/orders/ordersApi.ts","hooks/useNftTokenApproval.ts","helpers/airswap/getRoundedAtomicString.ts","helpers/createOrderSignature.ts","redux/stores/listNft/listNftSlice.ts","redux/stores/listNft/listNftActions.ts","redux/stores/orders/ordersSlice.ts","redux/stores/orders/ordersActions.ts","redux/stores/transactions/transactionsActions.ts","widgets/ListNftWidget/hooks/useTokenAmountAndFee.ts","widgets/ListNftWidget/subcomponents/ListActionButtons/ListActionButtons.tsx","components/ExpiryIndicator/ExpiryIndicator.tsx","components/ReviewNftDetails/ReviewNftDetails.tsx","components/ReviewTokenDetails/ReviewTokenDetails.tsx","compositions/Dropdown/subcomponents/DropdownButton/DropdownButton.tsx","compositions/Dropdown/Dropdown.tsx","compositions/Dropdown/helpers/getDropdownOptionsTranslateY.ts","components/SelectNft/SelectNft.tsx","components/SelectNft/helpers/getSelectNftOptions.ts","components/TradeDetails/TradeDetails.tsx","compositions/CopyLinkButton/CopyLinkButton.tsx","compositions/SelectExpiry/SelectExpiry.tsx","compositions/SelectExpiry/helpers/index.ts","compositions/TradeTokenInput/TradeTokenInput.tsx","compositions/TradeTokenInput/helpers/transformInputEventToValue.ts","compositions/TransactionLink/TransactionLink.tsx","widgets/ListNftWidget/subcomponents/SwapIcon/SwapIcon.tsx","widgets/ListNftWidget/subcomponents/ListNftDetailsContainer/ListNftDetailsContainer.tsx","helpers/browser.ts","widgets/ListNftWidget/subcomponents/ListNftWidgetHeader/ListNftWidgetHeader.tsx","widgets/ListNftWidget/subcomponents/ConnectedListNftWidget/ConnectedListNftWidget.tsx","widgets/ListNftWidget/helpers/index.ts","helpers/input.ts","widgets/ListNftWidget/subcomponents/DisconnectedListNftWidget/DisconnectedListNftWidget.tsx","widgets/ListNftWidget/ListNftWidget.tsx","pages/ListNftPage/ListNftPage.tsx","components/Accordion/Accordion.tsx","hooks/useAddressOrEnsName.ts","hooks/useNftTokenOwner.ts","entities/NftTransactionLog/NftTransactionLogTransformers.ts","helpers/array.ts","redux/stores/nftDetail/nftDetailSlice.ts","redux/stores/nftDetail/nftDetailApi.ts","redux/stores/nftDetail/nftDetailHelpers.ts","helpers/date/getDifferenceBetweenDatesInTimeUnits.ts","widgets/NftDetailWidget/subcomponents/NftDetailActivityItem/NftDetailActivityItem.tsx","helpers/date/getTimeBetweenTwoDates.ts","widgets/NftDetailWidget/subcomponents/NftDetailActivity/NftDetailActivity.tsx","widgets/NftDetailWidget/subcomponents/NftDetailAttributeCard/NftDetailAttributeCard.tsx","widgets/NftDetailWidget/subcomponents/NftDetailAttributes/NftDetailAttributes.tsx","widgets/NftDetailWidget/subcomponents/NftDetailContentContainer/NftDetailContentContainer.tsx","widgets/NftDetailWidget/subcomponents/NftDetailList/NftDetailList.tsx","widgets/NftDetailWidget/subcomponents/NftDetailMainInfo/NftDetailMainInfo.tsx","widgets/NftDetailWidget/subcomponents/NftDetailPortrait/NftDetailPortrait.tsx","widgets/NftDetailWidget/subcomponents/NftDetailProceedButton/NftDetailProceedButton.tsx","widgets/NftDetailWidget/subcomponents/NftDetailSaleInfo/NftDetailSaleInfo.tsx","widgets/NftDetailWidget/subcomponents/ConnectedNftDetailWidget/ConnectedNftDetailWidget.tsx","widgets/NftDetailWidget/subcomponents/DisconnectedNftDetailWidget/DisconnectedNftDetailWidget.tsx","widgets/NftDetailWidget/NftDetailWidget.tsx","pages/NftDetailPage/NftDetailPage.tsx","compositions/OrderWidgetHeader/OrderWidgetHeader.tsx","compositions/DisconnectedOrderDetail/DisconnectedOrderDetail.tsx","redux/stores/orderDetail/orderDetailApi.ts","hooks/useFullOrderNonceUsed.ts","hooks/useApproveCurrencyTokenTransaction.ts","hooks/useFullOrderExpired.ts","hooks/useInsufficientBalance.ts","hooks/useOrderTransaction.ts","hooks/useSufficientErc20Allowance.ts","widgets/BuyNftWidget/subcomponents/BuyActionButtons/BuyActionButtons.tsx","components/TradeNftDetails/TradeNftDetails.tsx","widgets/BuyNftWidget/subcomponents/BuyNftWidgetDetailsContainer/BuyNftWidgetDetailsContainer.tsx","widgets/BuyNftWidget/helpers/index.ts","widgets/BuyNftWidget/subcomponents/ConnectedBuyNftWidget/ConnectedBuyNftWidget.tsx","widgets/BuyNftWidget/subcomponents/DisconnectedBuyNftWidget/DisconnectedBuyNftWidget.tsx","widgets/BuyNftWidget/BuyNftWidget.tsx","hooks/useCancelOrderTransaction.ts","widgets/CancelOrderWidget/subcomponents/CancelActionButtons/CancelActionButtons.tsx","components/ExpiryDateInfo/ExpiryDateInfo.tsx","widgets/CancelOrderWidget/subcomponents/CancelDetailsContainer/CancelDetailsContainer.tsx","widgets/CancelOrderWidget/subcomponents/ConnectedCancelOrderWidget/ConnectedCancelOrderWidget.tsx","widgets/CancelOrderWidget/helpers/index.ts","widgets/CancelOrderWidget/subcomponents/DisconnectedCancelOrderWidget/DisconnectedCancelOrderWidget.tsx","widgets/CancelOrderWidget/CancelOrderWidget.tsx","widgets/OrderDetailWidget/subcomponents/ConnectedOrderDetailWidget/ConnectedOrderDetailWidget.tsx","widgets/OrderDetailWidget/OrderDetailWidget.tsx","pages/OrderDetailPage/OrderDetailPage.tsx","helpers/airswap/getOwnedTokensByAccountUrl.ts","widgets/ProfileWidget/subcomponents/ProfileNavigationNavLink/ProfileNavigationNavLink.tsx","widgets/ProfileWidget/subcomponents/ProfileNavigation/ProfileNavigation.tsx","widgets/ProfileWidget/subcomponents/ProfileHeader/ProfileHeader.tsx","widgets/ProfileWidget/subcomponents/DisconnectedProfileWidget/DisconnectedProfileWidget.tsx","redux/stores/profileOrders/profileOrdersSlice.ts","redux/stores/profileOrders/profileOrdersApi.ts","widgets/ProfileOrdersWidget/helpers/getListCallToActionText.ts","widgets/ProfileOrdersWidget/subcomponents/ConnectedProfileOrdersWidget/ConnectedProfileOrdersWidget.tsx","widgets/ProfileOrdersWidget/ProfileOrdersWidget.tsx","pages/ProfileOrdersPage/ProfileOrdersPage.tsx","redux/stores/balances/balancesHelpers.ts","redux/stores/profile/profileApi.ts","redux/stores/profile/profileSlice.ts","widgets/ProfileWidget/helpers/getEmptyTokensText.ts","widgets/ProfileWidget/subcomponents/OwnedNftsContainer/OwnedNftsContainer.tsx","widgets/ProfileWidget/subcomponents/ConnectedProfileWidget/ConnectedProfileWidget.tsx","widgets/ProfileWidget/ProfileWidget.tsx","pages/ProfilePage/ProfilePage.tsx","compositions/Routes/Routes.tsx","hooks/useMapWeb3ReactToStore.ts","hooks/useSwitchChain.ts","constants/supportedTokenKinds.ts","redux/stores/config/configApi.ts","redux/stores/config/configHelpers.ts","redux/stores/config/configSlice.ts","redux/stores/config/configHooks.ts","redux/stores/indexer/indexerApi.ts","redux/stores/indexer/indexerSlice.ts","redux/stores/indexer/indexerHooks.ts","redux/stores/transactions/transactionsHelpers.ts","redux/stores/transactions/transactionsHooks.ts","components/Toast/Toast.tsx","components/Toast/helpers/getToastIcon.ts","widgets/ToastsWidget/ToastsWidget.tsx","App.tsx","redux/stores/metadata/metadataHooks.ts","redux/stores/web3/web3Hooks.ts","redux/stores/balances/balancesApi.ts","redux/stores/balances/balancesSlice.ts","redux/stores/balances/balancesSubscriber.ts","redux/stores/orderDetail/orderDetailSlice.ts","redux/stores/user/userApi.ts","redux/stores/user/userSlice.ts","redux/stores/user/userSubscriber.ts","redux/store.ts","reportWebVitals.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","Helmet","title","collectionName","state","config","Button","forwardRef","ref","type","text","className","children","buttonProps","useEnsAddress","address","provider","library","useWeb3React","lookedUpAddress","setLookedUpAddress","useState","useEffect","async","value","newLookedUpAddress","lookupAddress","undefined","LAST_PROVIDER_LOCAL_STORAGE_KEY","web3Slice","createSlice","name","initialState","hasLibrary","isActive","isInitialized","showConnectModal","userHasClosedConnectModal","reducers","setWeb3Data","action","payload","setConnectionType","localStorage","setItem","connectionType","setIsInitialized","setHasLibrary","setShowConnectModal","setUserHasClosedConnectModal","setError","error","actions","nativeCurrencyAddress","nativeCurrency","chainId","decimals","symbol","logoURI","rpcUrls","process","chainInfo","ChainIds","MAINNET","explorer","label","rpcUrl","GOERLI","onConnectionError","console","switchNetwork","connector","getConnection","ConnectionType","walletConnect","activate","info","addChainParameter","chainName","blockExplorerUrls","chains","Object","keys","map","Number","filter","prioritizedConnectors","injected","web3MetamaskWallet","web3MetamaskWalletHooks","initializeConnector","MetaMask","onError","hooks","buildInjectedConnector","web3WalletConnect","web3WalletConnectHooks","WalletConnect","options","projectId","optionalChains","chain","showQrModal","buildWalletConnectConnector","c","Connector","connection","values","find","Error","IconAirswap","fill","viewBox","d","IconArrowDown","strokeWidth","IconArrowLeft","strokeLinecap","transform","IconArrowRight","IconBars","IconBin","IconCampaign","IconCheck","IconChevronDown","IconChevronRight","IconChevronUpDown","clipPath","id","IconClose","IconCloseCircleOutline","IconCode","IconContactSupport","IconCopy","IconCopy2","IconDarkModeSwitch","strokeLinejoin","IconDeny","IconDiscord","width","height","xmlns","IconEdit","IconForbidden","IconGithub","IconInformationCircleOutline","IconLaunch","IconLibrary","IconLink","IconLogout","IconMarkerCheck","IconMedium","IconMenu","IconPending","IconPlus","IconSearch","IconStar","IconSwap","IconTelegram","IconTransaction","IconTwitter","IconVote","IconX","icons","airswap","bars","bin","campaign","check","close","code","copy","copy2","deny","discord","edit","launch","logout","forbidden","github","learn","menu","medium","plus","search","star","swap","IconSwapHorizontal","telegram","transaction","twitter","vote","Icon","IconComponent","IconButton","hideLabel","icon","iconAlign","iconClassName","restProps","iconButtonClassName","classNames","walletProviders","logo","isInstalled","window","ethereum","isMetaMask","isBraveWallet","getIsBraveWallet","getHasMetaMaskExtensionInstalled","url","WalletProviderButton","walletProvider","onClick","buttonText","alt","src","WalletProviderList","onWalletProviderButtonClick","WalletConnector","onCloseButtonClick","dispatch","activateWallet","tryActivateConnector","getItem","getLastProviderFromLocalStorage","connectEagerly","activateWalletEagerly","open","truncateAddress","account","length","slice","Avatar","avatarUrl","style","backgroundImage","WalletInfo","isBanner","accountUrl","ensAddress","avatarClassName","walletInfoClassName","href","rel","target","AppRoutes","ProfileRoutes","routes","tokenId","listNft","nftDetail","orderNonce","orderDetail","profile","ownedNfts","orders","activity","MobileMenu","isHidden","onNavLinkClick","mobileMenuClassName","to","IconNavLink","UserPopup","TopBar","listButtonIsDisabled","mobileMenuIsVisible","showDesktopConnectButton","showDesktopUserButton","userWalletButtonIsDisabled","onConnectButtonClick","onDisconnectButtonClick","onMobileMenuButtonClick","userPopupRef","useRef","userButtonRef","isPopupOpen","setIsPopupOpen","containerClassName","handleDocumentClick","e","Node","current","contains","document","addEventListener","removeEventListener","onLogoutButtonClick","Page","contentClassName","web3","user","chainIdIsCorrect","setMobileMenuIsVisible","pageClassName","handleIconButtonClick","toggleShowWalletConnector","deactivate","resetState","tryDeactivateConnector","Input","props","SearchInput","LoadingSpinner","cx","cy","r","NftCard","imageURI","price","NftCardSkeleton","EmptyState","hasButton","route","getFullOrderSenderAmountPlusTotalFees","fullOrder","feePercentage","protocolFee","affiliateAmount","BigNumber","sender","amount","dividedBy","getFullOrderReadableSenderAmountPlusTotalFees","token","format","tokenDecimals","omitTrailingZeroes","OrdersContainer","hasListCallToActionButton","isEndOfOrders","isLoading","currencyTokenInfo","listCallToActionText","tokens","order","orderToken","signer","image","toString","nonce","getCollectionToken","tokenInfo","getCollectionTokenInfo","getCollectionTokenOwner","contractAbi","kind","TokenKinds","ERC721","erc721AbiContract","abi","ERC1155","erc1155AbiContract","erc721AbiEnumerableContract","contract","ethers","functions","ownerOf","then","owner","catch","isCollectionTokenInfo","resource","uri","attributes","Array","isArray","filterCollectionTokenBySearchValue","toLowerCase","includes","getCurrencyTokenInfo","createAsyncThunk","currencyToken","getTokenInfo","getCollectionTokensLocalStorageKey","collectionAddress","getLocalStorageCollectionTokens","parsedObject","JSON","parse","parseJsonObject","collectionTokens","reduce","total","metadataSlice","projectFee","setIsLoading","setCollectionTokens","stringify","extraReducers","builder","addCase","pending","fulfilled","rejected","fetchProtocolFee","SwapERC20","getContract","toNumber","getProtocolFee","addCollectionTokenInfo","getState","metadata","cachedLibrary","getLibrary","useDefaultLibrary","providerChainId","useMemo","getDefaultProvider","getRpcUrl","useCollectionTokens","tokenIds","isContractCalled","setIsContractCalled","isContractLoading","setIsContractLoading","collectionTokensFromStore","tokenIdsToFetch","results","Promise","all","forEach","result","newCollectionTokens","callGetCollectionToken","useScrollToBottom","scrolledToBottom","setIsScrolledToBottom","handleScroll","scrollTop","documentElement","scrollHeight","clientHeight","isPromiseFulfilledResult","status","isOrderResponse","getUndefinedAfterTimeout","time","resolve","setTimeout","getOrdersFromServer","server","filterWithDefaults","sortField","SortField","NONCE","sortOrder","SortOrder","DESC","getOrders","locator","message","getServers","allSettled","indexerUrls","Server","at","sendOrderToIndexers","servers","response","any","reject","addOrder","addOrderHelper","isSuccessResponse","getOrdersFromIndexers","orderResponses","race","indexedOrders","orderResponse","indexedOrder","ToastType","toastsSlice","toasts","setLastToastActionButtonIdClicked","lastToastActionButtonIdClicked","setToasts","addToast","newToast","newToasts","toast","index","amountOfNonWillAutomaticallyHide","t","willAutomaticallyHide","updatedToast","hideToast","toastId","findIndex","updatedToasts","splice","addUserRejectedToast","crypto","randomUUID","addGetOrderFailedToast","fail","addInfoToast","hasServerError","isTotalOrdersReached","offset","collectionSlice","reset","setOffset","getCollectionOrders","newOrders","indexer","collectionToken","limit","signerTokens","senderTokens","urls","getListCallToActionText","searchValue","userHasTokens","CollectionPortrait","subTitle","ConnectedCollectionWidget","collectionImage","userTokens","balances","collection","setSearchValue","filteredOrders","placeholder","onChange","DisconnectedCollectionWidget","CollectionWidget","CollectionPage","DebugWidget","isLoadingCollectionTokenKind","isLoadingCurrencyTokenKind","collectionTokenKind","currencyTokenKind","chainNames","DebugPage","getUserOrders","isNftApprovalTransaction","isErc20ApprovalTransaction","isOrderTransaction","isCancelOrderTransaction","transactionsSlice","transactions","setTransactions","selectErc20ApprovalTransactions","selectNftApprovalTransactions","selectCancelOrderTransactions","selectOrderTransactions","ExpiryTimeUnit","msPerMinute","expiryAmounts","minutes","hours","days","weeks","SubmittedTransactionType","SubmittedTransactionStatus","AppErrorType","isAppError","x","transformToAppError","argument","useApproveNftTransaction","hash","useCollectionToken","setCollectionToken","collectionTokenFromStore","IndexedOrderResult","useIndexedOrderResult","lastSentOrder","lastFailedOrder","setResult","indexerError","failed","orderIndexFailed","success","useInsufficientAmount","parseFloat","swapErrors","transformSwapErrorToAppError","expiryPassed","nonceAlreadyUsed","senderAllowanceLow","senderBalanceLow","signerAllowanceLow","signerBalanceLow","signatureInvalid","unauthorized","unpredictableGasLimit","unknownError","isRpcError","errorCodes","rpc","transformRpcErrorToAppError","rejectedByUser","unsupportedMethod","disconnected","chainDisconnected","invalidInput","invalidRequest","approveCallerIsNotOwner","transformUnknownErrorToAppError","isEthersProjectError","invalidAddress","invalidValue","transformEthersProjectErrorToAppError","isNumericFaultErrorError","fault","arithmeticUnderflow","reason","transformNumericFaultErrorErrorToAppError","isRpcSignRejectedError","transformRpcSignRejectedErrorToAppError","isRpcErrorWithSwapErrorCode","reasonError","swapError","indexOf","transformRpcErrorWithSwapErrorCodeToAppError","isSwapError","erc20Interface","utils","Interface","erc20Contract","erc721Interface","erc721Contract","erc1155Interface","erc1155Contract","getNonceUsed","Swap","nonceUsed","wallet","useNftTokenApproval","isApproved","setIsApproved","timer","clearTimeout","tokenKind","callGetNftTokenApproved","approved","baseToken","Contract","getSigner","getApproved","getAddress","getNftTokenApproved","setInterval","clearInterval","toRoundedAtomicString","roundedNumber","multipliedBy","decimalPlaces","ROUND_UP","toAtomicString","lastUserOrderLocalStorageKey","localStorageLastUserOrder","lastUserOrder","isLoadingUserOrders","userOrders","listNftSlice","setUserOrder","clearLastUserOrder","createNftOrder","params","rejectWithValue","senderAmount","senderTokenInfo","unsignedOrder","createOrder","expiry","Date","now","signerWallet","signerTokenInfo","ERC20","signature","swapContract","airswapCreateOrderSignature","createOrderSignature","reRequestTimerId","ordersSlice","clear","setReRequestTimerId","take","approve","tx","approveAmount","constants","MaxUint256","network","approveErc20Token","approveNftToken","erc20Approval","processing","timestamp","nftApproval","addNftApprovalTransaction","senderWallet","checkErrors","count","errors","checkResultToErrors","checkOrder","takeOrder","addOrderTransaction","cancel","cancelOrder","useTokenAmountAndFee","hasInsufficientAmount","feeAmount","minus","ListActionButtons","hasInsufficientExpiryAmount","hasNoCollectionTokenApproval","activeUserOrder","onActionButtonClick","onBackButtonClick","classnames","ListNftState","tokenAlreadyListedWarning","getActionButton","useCallback","disabled","details","review","sign","ExpiryIndicator","unit","ReviewNftDetails","ReviewTokenDetails","amountMinusProtocolFee","projectFeePercent","protocolFeePercent","DropdownButton","option","buttonClassName","Dropdown","selectedOption","onBlur","onFocus","dropdownButtonClassName","dropdownButtonBackgroundClassName","mobileSelectIconClassName","wrapperRef","optionsRef","activeOptionIndex","setActiveOptionIndex","activeHoverIndex","setActiveHoverIndex","optionsTranslateY","optionsHeight","wrapperY","activeIndex","optionsLength","minTranslateY","Math","max","translateY","getDropdownOptionsTranslateY","getBoundingClientRect","y","currentTarget","focus","onMouseOver","onPointerDown","newSelectedOption","SelectNft","onSelect","getSelectNftOptions","TradeDetails","amountSubtext","readableAmount","significantFigures","CopyLinkButton","SelectExpiry","timeUnit","onAmountChange","onTimeUnitChange","expiryOptions","unitOption","min","parseInt","TradeTokenInput","protocolFeeInCurrencyToken","onInputChange","inputMode","autoComplete","pattern","minLength","maxLength","spellCheck","newValue","test","replace","transformInputEventToValue","TransactionLink","SwapIcon","ListNftDetailContainer","collectionTokenInfo","currencyTokenAmount","currencyTokenAmountMinusProtocolFee","expiryAmount","expiryTimeUnit","selectedTokenId","submittedApproval","widgetState","onExpiryAmountChange","onExpiryTimeUnitChange","onSelectedNftChange","onTradeTokenInputChange","wrapperClassNames","approvalUrl","getReceiptUrl","link","location","host","navigator","clipboard","writeText","writeTextToClipboard","approving","indexing","ListNftWidgetHeader","ConnectedListNftWidget","defaultSelectedTokenId","ordersError","listNftError","setWidgetState","setSelectedTokenId","setCurrencyTokenAmount","setExpiryTimeUnit","setExpiryAmount","approvalTransactionHash","setApprovalTransactionHash","setOrder","hasCollectionTokenApproval","approveTransaction","indexedOrderResult","userOrder","getTitle","succeeded","firstCharacter","lastCharacter","firstCharacterIsPeriod","bigNumber","numberStringWithoutDecimals","split","number","minimalAllowedValue","substring","toMaxAllowedDecimalsNumberString","approveNft","unwrap","transactionHash","expiryDate","floor","DisconnectedListNftWidget","hasNoUserTokens","ListNftWidget","searchParams","useSearchParams","key","useLocation","isBalancesInitialized","isMetadataLoading","isIndexerInitialized","get","excludeNonces","ListNftPage","Accordion","isDefaultOpen","hasBorder","content","isOpen","setIsOpen","contentHeight","setContentHeight","contentRef","transitionDuration","resizeHandler","useAddressOrEnsName","shouldTruncate","fallback","truncateEthAddress","useLayoutEffect","useNftTokenOwner","useDefaultProvider","setOwner","callGetCollectionTokenOwner","transformTransactionReceiptToNftTransactionLog","transactionReceipt","recipient","blockNumber","from","getUniqueArrayChildren","array","Map","item","getUniqueSingleDimensionArray","isLoadingTransactionReceipts","isOrderNotFound","transactionLogs","nftDetailSlice","setTokenId","getNftOrderByTokenId","getNftTransactionReceipts","signerIds","transferFilter","filters","TransferSingle","transferEvents","queryFilter","event","transferredTokenId","args","transactionReceipts","getTransactionReceipt","transactionReceiptBlocks","receipt","getBlock","logs","recipientLogTopics","topics","defaultAbiCoder","decode","sort","a","b","getErc1155Logs","Transfer","events","getErc721Logs","getDifferenceBetweenDatesInTimeUnits","date1","date2","seconds","differenceInSeconds","differenceInMinutes","differenceInHours","differenceInDays","differenceInWeeks","months","differenceInMonths","years","differenceInYears","NftDetailActivityItem","log","readableAddressName","transactionLink","timeAgo","formatter","Intl","RelativeTimeFormat","numeric","getTimeBetweenTwoDates","NftDetailActivity","NftDetailAttributeCard","NftDetailAttributes","attrs","attribute","NftDetailContentContainer","NftDetailList","standard","fee","getAccountUrl","NftDetailMainInfo","accountRoute","NftDetailPortrait","NftDetailProceedButton","accountIsOwner","listRoute","orderRoute","navLink","NftDetailSaleInfo","ConnectedNftDetailWidget","isPriceLoading","isOwnerLoading","readableOwnerAddress","description","DisconnectedNftDetailWidget","isNftNotFound","NftDetailWidget","isLoadingCollectionTokenInfo","scrollTo","NftDetailPage","useParams","OrderWidgetHeader","nftId","DisconnectedOrderDetail","isOrderNonceUndefined","getNftOrderByOrderNonce","useFullOrderNonceUsed","usePolling","isNonceUsed","setIsNonceUsed","getNonceUsedCall","useApproveCurrencyTokenTransaction","useFullOrderExpired","orderExpiry","isExpired","setIsExpired","getTime","useInsufficientBalance","currencyTokenBalance","store","lt","useOrderTransaction","pendingOrders","useSufficientErc20Allowance","currencyTokenAllowance","hasSufficientAllowance","setHasSufficientAllowance","gte","BuyActionButtons","hasNoCurrencyTokenApproval","isOrderExpired","isOrderNonceUsed","ownerIsAccount","currencyTokenSymbol","BuyNftState","buying","TradeNftDetails","wrapperClassName","BuyNftWidgetDetailsContainer","submittedOrder","pricePlusFees","nftDetailsIcon","getNftDetailsIcon","orderUrl","BuyNftWidget","hasInsufficientBalance","hasSufficientCurrencyAllowance","orderTransaction","approveErc20","DisconnectedBuyNftWidget","configChainId","isCollectionTokenInfoLoading","isNonceUsedLoading","ConnectedBuyNftWidget","useCancelOrderTransaction","CancelActionButtons","CancelOrderState","ExpiryDateInfo","readableDate","toLocaleDateString","getHours","getMinutes","CancelDetailsContainer","submittedTransaction","transactionUrl","getFullOrderExpiryDate","readableSenderAmountPlusFees","readableSenderAmount","getFullOrderReadableSenderAmount","canceling","ConnectedCancelOrderWidget","cancelTransactionHash","setCancelTransactionHash","cancelOrderTransaction","DisconnectedCancelOrderWidget","CancelOrderWidget","ConnectedOrderDetailWidget","userIsOwner","OrderDetailWidget","isIndexerLoading","isOrderLoading","OrderDetailPage","getOwnedTokensByAccountUrl","etherScanUrl","ProfileNavigationNavLink","ProfileNavigation","ProfileHeader","ConnectedProfileWidget","profileAccount","profileSlice","setOrdersOffset","getProfileOrders","userHasOrders","ConnectedProfileOrdersWidget","profileOrders","userIsProfileAccount","ProfileOrdersWidget","DisconnectedProfileWidget","ProfileOrdersPage","getUniqueTokenIds","sub","getOwnedTokenIdsOfWallet","walletAddress","isErc721Enumerable","isErc721","isErc1155","supportsInterface","collectionContract","erc721EnumerableContract","balance","balanceOf","tokenIdsPromises","_","i","tokenOfOwnerByIndex","foundTokenIds","uniqueTokenIds","tokenOwners","tokenBalances","getProfileTokens","isLoadingOrders","isLoadingTokens","tokensOffset","setTokensOffset","getEmptyStateText","OwnedNftsContainer","isEndOfTokens","nft","tokenOrder","isLoadingUserTokens","ownedTokenIds","filteredTokens","emptyStateText","ProfileWidget","ProfilePage","Routes","router","createHashRouter","path","element","useMapWeb3ReactToStore","setCachedLibrary","useSwitchChain","lastToastId","setLastToastId","warning","hideCloseButton","actionButtonText","supportedCollectionTokenKinds","supportedCurrencyTokenKinds","getCollectionTokenKind","getCollectionTokenKindHelper","getCurrencyTokenKind","erc20AbiContract","totalSupply","getCurrencyTokenKindHelper","isFailed","isSuccessful","configSlice","setIsSuccessful","initialize","RegistryV4","getServerURLs","Protocols","Storage","indexerSlice","setLastFailedOrder","setLastSentOrder","useIndexers","lastOrder","sendAndClearLastOrder","getTransactionsLocalStorageKey","getLocalStorageTransactions","parseJsonArray","handleTransactionReceipt","updatedTransaction","transactionIndex","updatedTransactions","useTransactions","activeListenerHashes","setActiveListenerHashes","localStorageKey","newListenerHashes","once","listenForTransactionReceipt","Toast","onHide","setHeight","elementRef","toastClassName","iconName","toastType","timeoutId","ToastsWidget","debouncedCleanupToasts","debounce","some","handleActionButtonClick","handleToastHide","reverse","ConnectedApp","useConfig","useMetadata","useWeb3","App","connectors","balancesInterface","BalanceChecker","fetchCurrencyTokenBalance","balancesDeploys","walletBalances","collectionTokenAddress","fetchCurrencyTokenAllowance","spenderAddress","allowance","getErc20TokenAllowance","fetchUserTokens","balancesSlice","isLoadingAllowances","isLoadingBalances","setAllowance","setBalance","setTokens","OrderDetailSlice","fetchAvatarByAddress","blob","fetch","base64","convertBase64ToBlob","URL","createObjectURL","reader","FileReader","onerror","onload","readAsDataURL","convertBlobToBase64","userSlice","configureStore","reducer","balancesReducer","collectionReducer","configReducer","indexerReducer","listNftReducer","metadataReducer","nftDetailReducer","ordersReducer","orderDetailReducer","profileReducer","profileOrdersReducer","toastsReducer","transactionsReducer","userReducer","web3Reducer","lastTransactionHash","subscribe","lastTransaction","lastSucceededTransaction","configureBalancesSubscriber","userAccount","configureUserSubscriber","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9a2cedda.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\n\nimport type { AppDispatch, RootState } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { FC, ReactElement } from 'react';\n\nimport { Helmet as ReactHelmet } from 'react-helmet';\n\nimport { useAppSelector } from '../../redux/hooks';\n\ninterface HelmetProps {\n  title?: string;\n}\n\nconst Helmet: FC<HelmetProps> = ({ title }): ReactElement => {\n  const { collectionName } = useAppSelector((state) => state.config);\n\n  return (\n    <ReactHelmet>\n      <title>{`${collectionName} ${title ? `- ${title}` : ''}`}</title>\n    </ReactHelmet>\n  );\n};\n\nexport default Helmet;\n","import {\n  forwardRef,\n  ForwardRefExoticComponent,\n  ReactElement,\n  Ref,\n  RefAttributes,\n} from 'react';\n\nimport './Button.scss';\n\ntype HTMLButtonProps = JSX.IntrinsicElements['button'];\n\nexport interface ButtonProps extends HTMLButtonProps {\n  text: string;\n}\n\nexport type ButtonWithRefProps = ButtonProps & RefAttributes<HTMLButtonElement>;\n\nconst Button: ForwardRefExoticComponent<ButtonWithRefProps> = forwardRef(({\n  type = 'button',\n  text,\n  className = '',\n  children,\n  ...buttonProps\n}, ref: Ref<HTMLButtonElement>): ReactElement => (\n  <button\n    {...buttonProps}\n    ref={ref}\n    type={type} // eslint-disable-line react/button-has-type\n    className={`button ${className}`}\n  >\n    {children || text}\n  </button>\n));\n\nexport default Button;\n","import { useEffect, useState } from 'react';\n\nimport { Web3Provider } from '@ethersproject/providers';\nimport { useWeb3React } from '@web3-react/core';\n\nconst useEnsAddress = (address?: string): string | undefined => {\n  const { provider: library } = useWeb3React<Web3Provider>();\n  const [lookedUpAddress, setLookedUpAddress] = useState<string | null>(null);\n\n  const lookupAddress = async (provider: Web3Provider, value: string) => {\n    // Note: lookupAddress only seems to work on mainnet.\n    const newLookedUpAddress = await provider.lookupAddress(value);\n    setLookedUpAddress(newLookedUpAddress);\n  };\n\n  useEffect(() => {\n    if (!library || !address) {\n      return;\n    }\n\n    lookupAddress(library, address);\n  }, [library, address]);\n\n  return lookedUpAddress || undefined;\n};\n\nexport default useEnsAddress;\n","import { ConnectionType } from '../../../web3-connectors/connections';\n\nconst LAST_PROVIDER_LOCAL_STORAGE_KEY = 'airswap/lastConnectedProvider';\n\nexport const saveLastProviderToLocalStorage = (type: ConnectionType) => {\n  localStorage.setItem(LAST_PROVIDER_LOCAL_STORAGE_KEY, type);\n};\n\nexport const clearLastProvider = () => {\n  localStorage.setItem(LAST_PROVIDER_LOCAL_STORAGE_KEY, '');\n};\n\nexport const getLastProviderFromLocalStorage = (): ConnectionType | undefined => {\n  const type = localStorage.getItem(LAST_PROVIDER_LOCAL_STORAGE_KEY);\n\n  if (!type) {\n    return undefined;\n  }\n\n  return type as ConnectionType;\n};\n\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { ConnectionType } from '../../../web3-connectors/connections';\nimport { saveLastProviderToLocalStorage } from './web3Api';\n\n\nexport interface Web3State {\n  hasLibrary: boolean;\n  isActive: boolean;\n  isInitialized: boolean;\n  showConnectModal: boolean;\n  userHasClosedConnectModal: boolean;\n  account?: string;\n  chainId?: number;\n  walletName?: string;\n  connectionType?: ConnectionType;\n  error?: Error;\n}\n\nconst initialState: Web3State = {\n  hasLibrary: false,\n  isActive: false,\n  isInitialized: false,\n  showConnectModal: false,\n  userHasClosedConnectModal: false,\n};\n\nexport const web3Slice = createSlice({\n  name: 'web3',\n  initialState,\n  reducers: {\n    setWeb3Data: (state, action: PayloadAction<Pick<Web3State, 'isActive' | 'account' | 'chainId'>>) => ({\n      ...state,\n      ...action.payload,\n    }),\n    setConnectionType: (state, action: PayloadAction<ConnectionType>) => {\n      if (action.payload) {\n        saveLastProviderToLocalStorage(action.payload);\n      }\n\n      return {\n        ...state,\n        connectionType: action.payload,\n      };\n    },\n    setIsInitialized: (state, action: PayloadAction<boolean>) => ({\n      ...state,\n      isInitialized: action.payload,\n    }),\n    setHasLibrary: (state, action: PayloadAction<boolean>) => ({\n      ...state,\n      hasLibrary: action.payload,\n    }),\n    setShowConnectModal: (state, action: PayloadAction<boolean>) => ({\n      ...state,\n      showConnectModal: action.payload,\n    }),\n    setUserHasClosedConnectModal: (state, action: PayloadAction<boolean>) => ({\n      ...state,\n      userHasClosedConnectModal: action.payload,\n    }),\n    setError: (state, action: PayloadAction<Error | undefined>) => ({\n      ...state,\n      error: action.payload,\n    }),\n  },\n});\n\nexport const {\n  setConnectionType,\n  setError,\n  setHasLibrary,\n  setIsInitialized,\n  setShowConnectModal,\n  setUserHasClosedConnectModal,\n  setWeb3Data,\n} = web3Slice.actions;\n\nexport default web3Slice.reducer;\n","import { TokenInfo as AirswapTokenInfo } from '@airswap/types';\n\nexport const nativeCurrencyAddress = '0x0000000000000000000000000000000000000000';\n\ninterface TokenInfo extends Partial<AirswapTokenInfo> {\n  decimals: 18;\n  name: string;\n  symbol: string;\n}\n\nconst nativeCurrency: Record<number, TokenInfo> = {\n  1: {\n    chainId: 1,\n    address: nativeCurrencyAddress,\n    name: 'Ether',\n    decimals: 18,\n    symbol: 'ETH',\n    logoURI: 'images/ethereum-logo.png',\n  },\n  5: {\n    chainId: 5,\n    address: nativeCurrencyAddress,\n    name: 'Ether',\n    decimals: 18,\n    symbol: 'ETH',\n    logoURI: 'images/ethereum-logo.png',\n  },\n  30: {\n    chainId: 30,\n    address: nativeCurrencyAddress,\n    name: 'RBTC',\n    decimals: 18,\n    symbol: 'RBTC',\n    logoURI: 'images/rbtc-logo.png',\n  },\n  56: {\n    chainId: 56,\n    address: nativeCurrencyAddress,\n    name: 'BNB',\n    decimals: 18,\n    symbol: 'BNB',\n    logoURI: 'images/bnb-logo.png',\n  },\n  97: {\n    chainId: 97,\n    address: nativeCurrencyAddress,\n    name: 'BNB',\n    decimals: 18,\n    symbol: 'BNB',\n    logoURI: 'images/bnb-logo.png',\n  },\n  137: {\n    chainId: 137,\n    address: nativeCurrencyAddress,\n    name: 'MATIC',\n    decimals: 18,\n    symbol: 'MATIC',\n    logoURI: 'images/matic-logo.png',\n  },\n  43113: {\n    chainId: 43113,\n    address: nativeCurrencyAddress,\n    name: 'AVAX',\n    decimals: 18,\n    symbol: 'AVAX',\n    logoURI: 'images/avalanche-logo.png',\n  },\n  43114: {\n    chainId: 43114,\n    address: nativeCurrencyAddress,\n    name: 'AVAX',\n    decimals: 18,\n    symbol: 'AVAX',\n    logoURI: 'images/avalanche-logo.png',\n  },\n  80001: {\n    chainId: 80001,\n    address: nativeCurrencyAddress,\n    name: 'MATIC',\n    decimals: 18,\n    symbol: 'MATIC',\n    logoURI: 'images/matic-logo.png',\n  },\n};\n\nexport const nativeCurrencySafeTransactionFee: Partial<Record<number, number>> = {\n  1: 0.01,\n  4: 0.001,\n  5: 0.001,\n};\n\nexport default nativeCurrency;\n","export const rpcUrls: { [chainId: number]: string | undefined } = {\n  1: process.env.REACT_APP_RPC_URL_1,\n  5: process.env.REACT_APP_RPC_URL_5,\n};\n","import { ChainIds } from '@airswap/constants';\nimport { AddEthereumChainParameter } from '@web3-react/types';\n\nimport nativeCurrency from '../constants/nativeCurrency';\nimport { rpcUrls } from '../constants/rpc';\n\ninterface ChainInfo extends Partial<AddEthereumChainParameter> {\n  explorer: string;\n  label: string;\n  nativeCurrency: {\n    name: string;\n    symbol: string;\n    decimals: 18;\n  }\n  rpcUrl: string;\n}\n\nexport const chainInfo: { [key: string]: ChainInfo } = {\n  [ChainIds.MAINNET]: {\n    explorer: 'https://etherscan.io/',\n    label: 'Ethereum',\n    nativeCurrency: nativeCurrency[ChainIds.MAINNET],\n    rpcUrl: rpcUrls[ChainIds.MAINNET] as string,\n  },\n  [ChainIds.GOERLI]: {\n    explorer: 'https://goerli.etherscan.io/',\n    label: 'Goerli',\n    nativeCurrency: nativeCurrency[ChainIds.GOERLI],\n    rpcUrl: rpcUrls[ChainIds.GOERLI] as string,\n  },\n};\n","import { AddEthereumChainParameter, Connector } from '@web3-react/types';\n\nimport { chainInfo } from './chainInfo';\nimport { ConnectionType, getConnection } from './connections';\n\nconst getIsBraveWallet = (): boolean => window.ethereum?.isBraveWallet ?? false;\n\nexport const getHasMetaMaskExtensionInstalled = (): boolean => (window.ethereum?.isMetaMask ?? false) && !getIsBraveWallet();\n\nexport const onConnectionError = (error: Error) => {\n  console.error(`web3-react error: ${error}`);\n};\n\nexport const switchNetwork = async (chainId: number, connectionType: ConnectionType | null): Promise<void> => {\n  if (!connectionType) {\n    return;\n  }\n\n  const { connector } = getConnection(connectionType);\n\n  if (connectionType === ConnectionType.walletConnect) {\n    await connector.activate(chainId);\n\n    return;\n  }\n\n  const info = chainInfo[chainId];\n  const addChainParameter: AddEthereumChainParameter = {\n    chainId,\n    chainName: info.nativeCurrency.name,\n    rpcUrls: [info.rpcUrl],\n    nativeCurrency: info.nativeCurrency,\n    blockExplorerUrls: [info.explorer],\n  };\n  await connector.activate(addChainParameter);\n};\n\nexport const tryActivateConnector = async (connector: Connector): Promise<ConnectionType | undefined> => {\n  await connector.activate();\n\n  return getConnection(connector).type;\n};\n\nexport const tryDeactivateConnector = async (connector: Connector): Promise<null | undefined> => {\n  await connector.deactivate?.();\n  await connector.resetState();\n\n  return null;\n};\n","import { ChainIds } from '@airswap/constants';\nimport { initializeConnector } from '@web3-react/core';\nimport { WalletConnect } from '@web3-react/walletconnect-v2';\n\nimport { Connection, ConnectionType } from './connections';\nimport { onConnectionError } from './helpers';\n\nconst chains = Object.keys(ChainIds).map(Number).filter(Number);\n\nexport const buildWalletConnectConnector = () => {\n  const [web3WalletConnect, web3WalletConnectHooks] = initializeConnector<WalletConnect>(\n    (actions) => new WalletConnect({\n      actions,\n      options: {\n        projectId: process.env.REACT_APP_WALLET_CONNECT_PROJECT_ID || '',\n        chains: [ChainIds.MAINNET, ChainIds.GOERLI],\n        optionalChains: chains.filter((chain) => chain !== ChainIds.MAINNET),\n        showQrModal: true,\n      },\n      onError: onConnectionError,\n    }),\n  );\n  const walletConnectConnection: Connection = {\n    connector: web3WalletConnect,\n    hooks: web3WalletConnectHooks,\n    type: ConnectionType.walletConnect,\n  };\n  return walletConnectConnection;\n};\n","import { Web3ReactHooks } from '@web3-react/core';\nimport { Connector } from '@web3-react/types';\n\nimport { buildInjectedConnector } from './injected';\nimport { buildWalletConnectConnector } from './walletConnect';\n\nexport interface Connection {\n  connector: Connector;\n  hooks: Web3ReactHooks;\n  type: ConnectionType;\n}\n\nexport enum ConnectionType {\n  injected = 'injected',\n  walletConnect = 'walletConnect',\n}\n\nexport const prioritizedConnectors: { [key in ConnectionType]: Connection } = {\n  [ConnectionType.injected]: buildInjectedConnector(),\n  [ConnectionType.walletConnect]: buildWalletConnectConnector(),\n};\n\nexport function getConnection(c: Connector | ConnectionType): Connection {\n  if (c instanceof Connector) {\n    const connection = Object.values(prioritizedConnectors).find(connector => connector.connector === c);\n    if (!connection) {\n      throw Error('Unsupported Connector');\n    }\n\n    return connection;\n  }\n\n  if (c === ConnectionType.walletConnect) {\n    return prioritizedConnectors[ConnectionType.walletConnect];\n  }\n\n  return prioritizedConnectors[ConnectionType.injected];\n}\n","import { initializeConnector } from '@web3-react/core';\nimport { MetaMask } from '@web3-react/metamask';\n\nimport { Connection, ConnectionType } from './connections';\nimport { onConnectionError } from './helpers';\n\nexport const buildInjectedConnector = () => {\n  const [web3MetamaskWallet, web3MetamaskWalletHooks] = initializeConnector<MetaMask>(\n    (actions) => new MetaMask({ actions, onError: onConnectionError }),\n  );\n  const injectedConnection: Connection = {\n    connector: web3MetamaskWallet,\n    hooks: web3MetamaskWalletHooks,\n    type: ConnectionType.injected,\n  };\n\n  return injectedConnection;\n};\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconAirswap: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 40 40\" className={className}>\n    <path d=\"M29.1306 28.9805L20.0115 38.0754L15.4785 33.5544C20.3656 33.2719 25.0757 31.7001 29.1306 28.9805Z\" />\n    {/* eslint-disable max-len */}\n    <path d=\"M37.7705 19.6388L36.655 18.5262L20.0104 1.92578L3.3659 18.5262L1.93164 19.9567C2.10871 20.098 2.26807 20.2569 2.44514 20.3982C3.02947 20.8927 3.63151 21.3518 4.25125 21.7757C10.8382 26.4026 19.0011 27.7977 26.5443 25.9611C29.6253 25.2194 32.547 23.9302 35.1853 22.1819C35.8405 21.7404 36.4779 21.2812 37.0976 20.7867C37.4341 20.5218 37.7705 20.2392 38.1069 19.939L37.7705 19.6388ZM24.4018 23.8066C19.4438 20.7514 13.7245 19.162 7.88118 19.1796C15.4775 15.8949 24.7913 15.4357 33.3438 20.3452C30.6169 22.0759 27.5713 23.2591 24.4018 23.8066Z\" />\n  </svg>\n);\n\nexport default IconAirswap;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconArrowDown: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 12 12\" className={className}>\n    <path\n      d=\"M11.3334 5.99996L10.3934 5.05996L6.66675 8.77996V0.666626H5.33341V8.77996L1.61341 5.05329L0.666748 5.99996L6.00008 11.3333L11.3334 5.99996Z\"\n      strokeWidth=\"0.4\"\n    />\n  </svg>\n);\n\nexport default IconArrowDown;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconArrowLeft: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 12 20\" className={className}>\n    <path\n      className=\"stroke\"\n      d=\"M2 18L10 10L2 2\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"square\"\n      transform=\"scale(-1, 1)\"\n    />\n  </svg>\n);\n\nexport default IconArrowLeft;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconArrowRight: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 12 20\" className={className}>\n    <path\n      className=\"stroke\"\n      d=\"M2 18L10 10L2 2\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"square\"\n    />\n  </svg>\n);\n\nexport default IconArrowRight;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconBars: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M5 9.2H8V19H5V9.2ZM10.6 5H13.4V19H10.6V5ZM16.2 13H19V19H16.2V13Z\" />\n  </svg>\n);\n\nexport default IconBars;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconBin: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 10 12\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M1.00004 10.6667C1.00004 11.4 1.60004 12 2.33337 12H7.66671C8.40004 12 9.00004 11.4 9.00004 10.6667V2.66667H1.00004V10.6667ZM2.33337 4H7.66671V10.6667H2.33337V4ZM7.33337 0.666667L6.66671 0H3.33337L2.66671 0.666667H0.333374V2H9.66671V0.666667H7.33337Z\" />\n  </svg>\n);\n\nexport default IconBin;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconCampaign: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 25 24\" className={className}>\n    <path d=\"M18.9316 11C18.9316 11.67 18.9316 12.33 18.9316 13C20.1316 13 21.6916 13 22.9316 13C22.9316 12.33 22.9316 11.67 22.9316 11C21.6916 11 20.1316 11 18.9316 11Z\" />\n    <path d=\"M16.9316 17.61C17.8916 18.32 19.1416 19.26 20.1316 20C20.5316 19.47 20.9316 18.93 21.3316 18.4C20.3416 17.66 19.0916 16.72 18.1316 16C17.7316 16.54 17.3316 17.08 16.9316 17.61Z\" />\n    <path d=\"M21.3316 5.6C20.9316 5.07 20.5316 4.53 20.1316 4C19.1416 4.74 17.8916 5.68 16.9316 6.4C17.3316 6.93 17.7316 7.47 18.1316 8C19.0916 7.28 20.3416 6.35 21.3316 5.6Z\" />\n    {/* eslint-disable-next-line max-len */}\n    <path d=\"M4.93164 9C3.83164 9 2.93164 9.9 2.93164 11V13C2.93164 14.1 3.83164 15 4.93164 15H5.93164V19H7.93164V15H8.93164L13.9316 18V6L8.93164 9H4.93164ZM9.96164 10.71L11.9316 9.53V14.47L9.96164 13.29L9.48164 13H8.93164H4.93164V11H8.93164H9.48164L9.96164 10.71Z\" />\n    <path d=\"M16.4316 12.0004C16.4316 10.6704 15.8516 9.47039 14.9316 8.65039V15.3404C15.8516 14.5304 16.4316 13.3304 16.4316 12.0004Z\" />\n  </svg>\n);\n\nexport default IconCampaign;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconCheck: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\" />\n  </svg>\n);\n\nexport default IconCheck;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconChevronDown: FC<SvgIconProps> = ({\n  className = '',\n}): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" className={className}>\n    <path\n      strokeWidth=\"0\"\n      d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n    />\n  </svg>\n);\n\nexport default IconChevronDown;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconChevronRight: FC<SvgIconProps> = ({\n  className = '',\n}): ReactElement => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <path\n      d=\"M9.99997 6L8.58997 7.41L13.17 12L8.58997 16.59L9.99997 18L16 12L9.99997 6Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport default IconChevronRight;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconChevronUpDown: FC<SvgIconProps> = ({\n  className = '',\n}): ReactElement => (\n  <svg viewBox=\"0 0 16 23\" className={className}>\n    <g clipPath=\"url(#clip0_11007_17296)\">\n      <path d=\"M4.94 12.2969L8 15.0726L11.06 12.2969L12 13.1514L8 16.7878L4 13.1514L4.94 12.2969Z\" />\n    </g>\n    <g clipPath=\"url(#clip1_11007_17296)\">\n      <path d=\"M11.06 10.2485L8 7.47278L4.94 10.2485L4 9.39399L8 5.75763L12 9.39399L11.06 10.2485Z\" />\n    </g>\n    <defs>\n      <clipPath id=\"clip0_11007_17296\">\n        <path d=\"M0 15.2727C0 11.2561 3.25611 8 7.27272 8H16V22.5455H7.27272C3.25611 22.5455 0 19.2893 0 15.2727Z\" />\n      </clipPath>\n      <clipPath id=\"clip1_11007_17296\">\n        <path d=\"M16 7.27268C16 11.2893 12.7439 14.5454 8.72728 14.5454H0V-4.48227e-05H8.72728C12.7439 -4.48227e-05 16 3.25607 16 7.27268Z\" />\n      </clipPath>\n    </defs>\n  </svg>\n);\n\nexport default IconChevronUpDown;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconClose: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 14 14\" className={className}>\n    <path\n      d=\"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport default IconClose;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconCloseCircleOutline: FC<SvgIconProps> = ({\n  className = '',\n}): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 68 68\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M21.5 50.0003L34 37.5003L46.5 50.0003L50 46.5003L37.5 34.0003L50 21.5003L46.5 18.0003L34 30.5003L21.5 18.0003L18 21.5003L30.5 34.0003L18 46.5003L21.5 50.0003ZM34 67.3337C29.2778 67.3337 24.8889 66.4864 20.8334 64.792C16.7778 63.0975 13.25 60.7503 10.25 57.7503C7.25002 54.7503 4.9028 51.2225 3.20835 47.167C1.51391 43.1114 0.666687 38.7225 0.666687 34.0003C0.666687 29.3337 1.51391 24.9725 3.20835 20.917C4.9028 16.8614 7.25002 13.3337 10.25 10.3337C13.25 7.33366 16.7778 4.97255 20.8334 3.25033C24.8889 1.5281 29.2778 0.666992 34 0.666992C38.6667 0.666992 43.0278 1.5281 47.0834 3.25033C51.1389 4.97255 54.6667 7.33366 57.6667 10.3337C60.6667 13.3337 63.0278 16.8614 64.75 20.917C66.4722 24.9725 67.3334 29.3337 67.3334 34.0003C67.3334 38.7225 66.4722 43.1114 64.75 47.167C63.0278 51.2225 60.6667 54.7503 57.6667 57.7503C54.6667 60.7503 51.1389 63.0975 47.0834 64.792C43.0278 66.4864 38.6667 67.3337 34 67.3337ZM34 62.3337C41.7778 62.3337 48.4445 59.5559 54 54.0003C59.5556 48.4448 62.3334 41.7781 62.3334 34.0003C62.3334 26.2225 59.5556 19.5559 54 14.0003C48.4445 8.44477 41.7778 5.66699 34 5.66699C26.2222 5.66699 19.5556 8.44477 14 14.0003C8.44446 19.5559 5.66669 26.2225 5.66669 34.0003C5.66669 41.7781 8.44446 48.4448 14 54.0003C19.5556 59.5559 26.2222 62.3337 34 62.3337Z\" />\n  </svg>\n);\n\nexport default IconCloseCircleOutline;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconCode: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z\" />\n  </svg>\n);\n\nexport default IconCode;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconContactSupport: FC<SvgIconProps> = ({\n  className = '',\n}): ReactElement => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M4 13C5.1 13 6 12.1 6 11C6 9.9 5.1 9 4 9C2.9 9 2 9.9 2 11C2 12.1 2.9 13 4 13ZM5.13 14.1C4.76 14.04 4.39 14 4 14C3.01 14 2.07 14.21 1.22 14.58C0.48 14.9 0 15.62 0 16.43V18H4.5V16.39C4.5 15.56 4.73 14.78 5.13 14.1ZM20 13C21.1 13 22 12.1 22 11C22 9.9 21.1 9 20 9C18.9 9 18 9.9 18 11C18 12.1 18.9 13 20 13ZM24 16.43C24 15.62 23.52 14.9 22.78 14.58C21.93 14.21 20.99 14 20 14C19.61 14 19.24 14.04 18.87 14.1C19.27 14.78 19.5 15.56 19.5 16.39V18H24V16.43ZM16.24 13.65C15.07 13.13 13.63 12.75 12 12.75C10.37 12.75 8.93 13.14 7.76 13.65C6.68 14.13 6 15.21 6 16.39V18H18V16.39C18 15.21 17.32 14.13 16.24 13.65ZM8.07 16C8.16 15.77 8.2 15.61 8.98 15.31C9.95 14.93 10.97 14.75 12 14.75C13.03 14.75 14.05 14.93 15.02 15.31C15.79 15.61 15.83 15.77 15.93 16H8.07ZM12 8C12.55 8 13 8.45 13 9C13 9.55 12.55 10 12 10C11.45 10 11 9.55 11 9C11 8.45 11.45 8 12 8ZM12 6C10.34 6 9 7.34 9 9C9 10.66 10.34 12 12 12C13.66 12 15 10.66 15 9C15 7.34 13.66 6 12 6Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport default IconContactSupport;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconCopy: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 16 16\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M10.6668 0.666748H2.66683C1.9335 0.666748 1.3335 1.26675 1.3335 2.00008V11.3334H2.66683V2.00008H10.6668V0.666748ZM12.6668 3.33341H5.3335C4.60016 3.33341 4.00016 3.93341 4.00016 4.66675V14.0001C4.00016 14.7334 4.60016 15.3334 5.3335 15.3334H12.6668C13.4002 15.3334 14.0002 14.7334 14.0002 14.0001V4.66675C14.0002 3.93341 13.4002 3.33341 12.6668 3.33341ZM12.6668 14.0001H5.3335V4.66675H12.6668V14.0001Z\" />\n  </svg>\n);\n\nexport default IconCopy;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconCopy2: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 14 10\" className={className}>\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M4.3335 3.33317H9.66683V4.6665H4.3335V3.33317ZM12.4002 3.99984H13.6668C13.6668 2.15984 12.1735 0.666504 10.3335 0.666504H7.66683V1.93317H10.3335C11.4735 1.93317 12.4002 2.85984 12.4002 3.99984ZM1.60016 3.99984C1.60016 2.85984 2.52683 1.93317 3.66683 1.93317H6.3335V0.666504H3.66683C1.82683 0.666504 0.333496 2.15984 0.333496 3.99984C0.333496 5.83984 1.82683 7.33317 3.66683 7.33317H6.3335V6.0665H3.66683C2.52683 6.0665 1.60016 5.13984 1.60016 3.99984ZM11.6668 3.99984H10.3335V5.99984H8.3335V7.33317H10.3335V9.33317H11.6668V7.33317H13.6668V5.99984H11.6668V3.99984Z\"\n      fill=\"#6E7686\"\n    />\n  </svg>\n);\n\nexport default IconCopy2;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconDarkModeSwitch: FC<SvgIconProps> = ({\n  className = '',\n}): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 26 26\" className={className}>\n    {/* eslint-disable max-len */}\n    <path\n      className=\"stroke\"\n      d=\"M12.9946 18.4559C16.0076 18.4559 18.4501 16.0134 18.4501 13.0005C18.4501 9.98761 16.0076 7.54517 12.9946 7.54517C9.98158 7.54517 7.53906 9.98761 7.53906 13.0005C7.53906 16.0134 9.98158 18.4559 12.9946 18.4559Z\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M13 1V3.18214\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M13 22.822V25.0042\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M4.51562 4.51343L6.06506 6.06274\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M19.9375 19.9404L21.4869 21.4897\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M1 13.0024H3.18222\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M22.8203 13.0024H25.0025\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M4.51562 21.4897L6.06506 19.9404\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M19.9375 6.06274L21.4869 4.51343\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path d=\"M13 19.003V7.60107L17.0507 9.02632L18.4009 13.302L16.3756 17.5778L13 19.003Z\" />\n  </svg>\n);\n\nexport default IconDarkModeSwitch;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconDeny: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 20 20\" className={className}>\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M5 9V11H15V9H5ZM10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM10 18C5.59 18 2 14.41 2 10C2 5.59 5.59 2 10 2C14.41 2 18 5.59 18 10C18 14.41 14.41 18 10 18Z\"\n      fill=\"#6E7686\"\n    />\n  </svg>\n);\n\nexport default IconDeny;\n","import { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconDiscord: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg\n    width=\"16\"\n    height=\"12\"\n    viewBox=\"0 0 16 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={className}\n  >\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M13.1981 1.23123C12.2256 0.784835 11.1993 0.466511 10.1449 0.284233C10.1354 0.282446 10.1255 0.283725 10.1167 0.287888C10.1078 0.292051 10.1006 0.298886 10.0959 0.30742C9.964 0.541983 9.81794 0.84792 9.71569 1.08836C8.56275 0.915733 7.41569 0.915733 6.28644 1.08836C6.18419 0.842545 6.03281 0.541983 5.90038 0.30742C5.89547 0.299081 5.88817 0.292413 5.87941 0.288288C5.87066 0.284162 5.86087 0.282771 5.85131 0.284295C4.7968 0.46615 3.77044 0.784447 2.79806 1.23117C2.78975 1.23472 2.78274 1.24077 2.778 1.24848C0.833378 4.15373 0.300628 6.98755 0.562002 9.78623C0.562742 9.79309 0.564848 9.79972 0.568198 9.80574C0.571547 9.81176 0.576072 9.81705 0.581502 9.82129C1.8645 10.7635 3.10731 11.3355 4.32706 11.7147C4.33655 11.7175 4.34667 11.7174 4.35608 11.7143C4.36548 11.7112 4.37372 11.7053 4.37969 11.6974C4.66819 11.3034 4.92538 10.8879 5.14594 10.451C5.14897 10.4451 5.1507 10.4385 5.15102 10.4318C5.15133 10.4251 5.15023 10.4184 5.14777 10.4122C5.14531 10.4059 5.14156 10.4003 5.13677 10.3956C5.13197 10.3909 5.12624 10.3873 5.11994 10.385C4.71194 10.2302 4.3235 10.0415 3.94981 9.8273C3.943 9.82329 3.93728 9.81767 3.93315 9.81094C3.92902 9.8042 3.92661 9.79655 3.92615 9.78866C3.92568 9.78077 3.92716 9.77289 3.93046 9.7657C3.93376 9.75852 3.93877 9.75226 3.94506 9.74748C4.02369 9.68855 4.10238 9.62729 4.17744 9.56536C4.18411 9.55986 4.19219 9.55633 4.20075 9.55517C4.20932 9.55401 4.21805 9.55526 4.22594 9.55879C6.68081 10.6796 9.33844 10.6796 11.7643 9.55879C11.7722 9.55504 11.781 9.5536 11.7897 9.55465C11.7984 9.5557 11.8066 9.5592 11.8134 9.56473C11.8885 9.62661 11.9671 9.68855 12.0464 9.74748C12.0527 9.75222 12.0577 9.75843 12.0611 9.76558C12.0644 9.77272 12.066 9.78058 12.0655 9.78846C12.0651 9.79633 12.0628 9.80399 12.0587 9.81075C12.0547 9.81751 12.049 9.82317 12.0423 9.82723C11.6684 10.0456 11.2768 10.2319 10.8716 10.3844C10.8653 10.3868 10.8596 10.3905 10.8549 10.3952C10.8501 10.4 10.8464 10.4057 10.844 10.412C10.8416 10.4183 10.8405 10.425 10.8409 10.4318C10.8413 10.4385 10.8431 10.4451 10.8462 10.451C11.0714 10.8873 11.3286 11.3028 11.6118 11.6968C11.6176 11.7049 11.6258 11.711 11.6352 11.7142C11.6447 11.7174 11.6549 11.7176 11.6644 11.7147C12.8901 11.3355 14.1329 10.7635 15.4159 9.82129C15.4214 9.81726 15.426 9.8121 15.4294 9.80615C15.4327 9.80021 15.4348 9.79361 15.4354 9.7868C15.7482 6.55117 14.9116 3.74061 13.2176 1.24905C13.2135 1.24095 13.2066 1.23461 13.1981 1.23117V1.23123ZM5.5125 8.08211C4.77344 8.08211 4.16444 7.40355 4.16444 6.57023C4.16444 5.73698 4.76163 5.05842 5.51256 5.05842C6.26931 5.05842 6.87238 5.74292 6.86056 6.5703C6.86056 7.40355 6.26338 8.08211 5.5125 8.08211ZM10.4968 8.08211C9.75769 8.08211 9.14869 7.40355 9.14869 6.57023C9.14869 5.73698 9.74581 5.05842 10.4968 5.05842C11.2535 5.05842 11.8566 5.74292 11.8448 6.5703C11.8448 7.40355 11.2535 8.08211 10.4968 8.08211Z\"\n      fill=\"currentcolor\"\n    />\n  </svg>\n);\n\nexport default IconDiscord;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconEdit: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 25 24\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M14.5131 9.02L15.4331 9.94L6.37312 19H5.45312V18.08L14.5131 9.02ZM18.1131 3C17.8631 3 17.6031 3.1 17.4131 3.29L15.5831 5.12L19.3331 8.87L21.1631 7.04C21.5531 6.65 21.5531 6.02 21.1631 5.63L18.8231 3.29C18.6231 3.09 18.3731 3 18.1131 3ZM14.5131 6.19L3.45312 17.25V21H7.20312L18.2631 9.94L14.5131 6.19Z\" />\n  </svg>\n);\n\nexport default IconEdit;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconForbidden: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 24 24\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 014 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0120 12c0 4.42-3.58 8-8 8z\" />\n  </svg>\n);\n\nexport default IconForbidden;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconGithub: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 24 24\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" />\n  </svg>\n);\n\nexport default IconGithub;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconInformationCircleOutline: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 14 14\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M6.3335 3.66634H7.66683V4.99967H6.3335V3.66634ZM6.3335 6.33301H7.66683V10.333H6.3335V6.33301ZM7.00016 0.333008C3.32016 0.333008 0.333496 3.31967 0.333496 6.99967C0.333496 10.6797 3.32016 13.6663 7.00016 13.6663C10.6802 13.6663 13.6668 10.6797 13.6668 6.99967C13.6668 3.31967 10.6802 0.333008 7.00016 0.333008ZM7.00016 12.333C4.06016 12.333 1.66683 9.93967 1.66683 6.99967C1.66683 4.05967 4.06016 1.66634 7.00016 1.66634C9.94016 1.66634 12.3335 4.05967 12.3335 6.99967C12.3335 9.93967 9.94016 12.333 7.00016 12.333Z\" />\n  </svg>\n);\n\nexport default IconInformationCircleOutline;\n","import { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconLaunch: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg\n    className={className}\n    viewBox=\"0 0 18 18\"\n  >\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M16 16H2V2H9V0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V16C0 16.5304 0.210714 17.0391 0.585786 17.4142C0.960859 17.7893 1.46957 18 2 18H16C17.1 18 18 17.1 18 16V9H16V16ZM11 0V2H14.59L4.76 11.83L6.17 13.24L16 3.41V7H18V0H11Z\"\n    />\n  </svg>\n);\nexport default IconLaunch;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconLibrary: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 21 21\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M20.5968 4.76732C20.166 4.54732 19.7168 4.36398 19.2493 4.20815V15.2357C18.2043 14.8598 17.1318 14.6673 16.041 14.6673C14.2993 14.6673 12.576 15.1623 10.9993 16.1157V5.02398C9.51435 4.17148 7.80018 3.66732 5.95768 3.66732C4.31685 3.66732 2.76768 4.07065 1.40185 4.76732C1.09935 4.91398 0.916016 5.23482 0.916016 5.57398V16.6473C0.916016 17.179 1.34685 17.5548 1.83268 17.5548C1.97935 17.5548 2.12602 17.5182 2.27268 17.4448C3.38185 16.8673 4.62852 16.5007 5.95768 16.5007C7.85518 16.5007 9.60602 17.2523 10.9993 18.334C12.3927 17.2523 14.1435 16.5007 16.041 16.5007C17.3702 16.5007 18.6168 16.8673 19.726 17.454C19.8727 17.5273 20.0193 17.564 20.166 17.564C20.6427 17.564 21.0827 17.1882 21.0827 16.6565V5.57398C21.0827 5.23482 20.8993 4.91398 20.5968 4.76732ZM9.16602 15.2357C8.12102 14.8598 7.04852 14.6673 5.95768 14.6673C4.86685 14.6673 3.79435 14.8598 2.74935 15.2357V6.15148C3.76685 5.72065 4.83935 5.50065 5.95768 5.50065C7.05768 5.50065 8.14852 5.72982 9.16602 6.16065V15.2357ZM17.416 0.458984L12.8327 5.04232V13.7507L17.416 9.62565V0.458984Z\" />\n  </svg>\n);\n\nexport default IconLibrary;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconLink: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\" />\n  </svg>\n);\n\nexport default IconLink;\n","import { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconLogout: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg\n    className={className}\n    viewBox=\"0 0 20 19\"\n  >\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M15 4.47266L13.59 5.88266L16.17 8.47266H6V10.4727H16.17L13.59 13.0527L15 14.4727L20 9.47266L15 4.47266ZM2 2.47266H10V0.472656H2C0.9 0.472656 0 1.37266 0 2.47266V16.4727C0 17.5727 0.9 18.4727 2 18.4727H10V16.4727H2V2.47266Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport default IconLogout;\n","import { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconMarkerCheck: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M10,16L5,11L6.41,9.58L10,13.17L17.59,5.58L19,7M19,1H5C3.89,1 3,1.89 3,3V15.93C3,16.62 3.35,17.23 3.88,17.59L12,23L20.11,17.59C20.64,17.23 21,16.62 21,15.93V3C21,1.89 20.1,1 19,1Z\" />\n  </svg>\n);\n\nexport default IconMarkerCheck;\n","import { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconMedium: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg\n    width=\"16\"\n    height=\"10\"\n    viewBox=\"0 0 16 10\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={className}\n  >\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M8.96252 5.00005C8.96584 6.12614 8.52211 7.20752 7.72878 8.00672C6.93544 8.80591 5.85736 9.25758 4.73127 9.26255C3.60518 9.25758 2.5271 8.80591 1.73376 8.00672C0.940424 7.20752 0.496696 6.12614 0.500019 5.00005C0.496696 3.87396 0.940424 2.79258 1.73376 1.99338C2.5271 1.19419 3.60518 0.742512 4.73127 0.737549C5.85736 0.742512 6.93544 1.19419 7.72878 1.99338C8.52211 2.79258 8.96584 3.87396 8.96252 5.00005ZM13.6 5.00005C13.6 7.21255 12.6563 9.01255 11.4875 9.01255C10.3188 9.01255 9.36877 7.21255 9.36877 5.00005C9.36877 2.78755 10.3188 0.987549 11.4875 0.987549C12.6563 0.987549 13.6 2.78755 13.6 5.00005ZM15.5 5.00005C15.5 6.9813 15.1688 8.5938 14.7563 8.5938C14.3438 8.5938 14.0125 6.9813 14.0125 5.00005C14.0125 3.0188 14.3438 1.4063 14.7563 1.4063C15.1688 1.4063 15.5 3.0188 15.5 5.00005Z\"\n      fill=\"currentcolor\"\n    />\n  </svg>\n);\n\nexport default IconMedium;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconMenu: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg viewBox=\"0 0 18 18\" className={className}>\n    <path\n      transform=\"translate(0 3)\"\n      d=\"M0 12H18V10H0V12ZM0 7H18V5H0V7ZM0 0V2H18V0H0Z\"\n    />\n  </svg>\n);\n\nexport default IconMenu;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconPending: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" />\n    <path d=\"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\" />\n  </svg>\n);\n\nexport default IconPending;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconPlus: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 14 14\" className={className}>\n    <path d=\"M6.25 14V7.75H0V6.25H6.25V0H7.75V6.25H14V7.75H7.75V14H6.25Z\" />\n  </svg>\n);\n\nexport default IconPlus;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconSearch: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 18 18\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M12.5 11H11.71L11.43 10.73C12.4439 9.55402 13.0011 8.0527 13 6.5C13 5.21442 12.6188 3.95772 11.9046 2.8888C11.1903 1.81988 10.1752 0.986756 8.98744 0.494786C7.79973 0.00281635 6.49279 -0.125905 5.23192 0.124899C3.97104 0.375703 2.81285 0.994767 1.90381 1.90381C0.994767 2.81285 0.375703 3.97104 0.124899 5.23192C-0.125905 6.49279 0.00281635 7.79973 0.494786 8.98744C0.986756 10.1752 1.81988 11.1903 2.8888 11.9046C3.95772 12.6188 5.21442 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11V11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z\" />\n  </svg>\n);\n\nexport default IconSearch;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconStar: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 14 13\" className={className}>\n    <path d=\"M6.99967 10.5133L11.1197 12.9999L10.0263 8.31325L13.6663 5.15992L8.87301 4.75325L6.99967 0.333252L5.12634 4.75325L0.333008 5.15992L3.97301 8.31325L2.87967 12.9999L6.99967 10.5133Z\" />\n  </svg>\n);\n\nexport default IconStar;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconSwap: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 10 13\" className={className}>\n    <path d=\"M7.85714 10.0071V5H6.42857V10.0071H4.28571L7.14286 12.8571L10 10.0071H7.85714ZM2.85714 0L0 2.85H2.14286V7.85714H3.57143V2.85H5.71429L2.85714 0Z\" />\n  </svg>\n);\n\nexport default IconSwap;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\n// used for OTC in menu bar.\nconst IconSwap: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg\n    width=\"18\"\n    height=\"14\"\n    viewBox=\"0 0 18 14\"\n    fill=\"none\"\n    className={className}\n  >\n    <path\n      d=\"M3.99 6L0 10L3.99 14V11H11V9H3.99V6ZM18 4L14.01 0V3H7V5H14.01V8L18 4Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n\nexport default IconSwap;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconTelegram: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={className}\n  >\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M7.965 0.50002C5.98195 0.509275 4.08327 1.30353 2.68431 2.70906C1.28535 4.11458 0.499978 6.01695 0.5 8.00002C0.5 9.98914 1.29018 11.8968 2.6967 13.3033C4.10322 14.7098 6.01088 15.5 8 15.5C9.98912 15.5 11.8968 14.7098 13.3033 13.3033C14.7098 11.8968 15.5 9.98914 15.5 8.00002C15.5 6.0109 14.7098 4.10324 13.3033 2.69672C11.8968 1.2902 9.98912 0.50002 8 0.50002C7.98833 0.499993 7.97667 0.499993 7.965 0.50002ZM11.0662 5.01502C11.1287 5.01377 11.2669 5.0294 11.3569 5.10252C11.4167 5.15446 11.4548 5.22694 11.4637 5.30564C11.4738 5.36377 11.4862 5.49689 11.4762 5.60065C11.3638 6.78689 10.875 9.66439 10.6262 10.9925C10.5212 11.555 10.3144 11.7431 10.1138 11.7613C9.67875 11.8019 9.34813 11.4738 8.92625 11.1975C8.26625 10.7644 7.89313 10.495 7.2525 10.0725C6.51188 9.58502 6.99188 9.31627 7.41375 8.87877C7.52437 8.76377 9.44313 7.01814 9.48063 6.86002C9.485 6.84002 9.48938 6.76627 9.44563 6.72752C9.40187 6.68877 9.33687 6.70189 9.29 6.71252C9.22375 6.72752 8.16937 7.42502 6.12687 8.80314C5.82688 9.00939 5.55625 9.1094 5.31313 9.10314C5.04563 9.09814 4.53062 8.95252 4.1475 8.82814C3.6775 8.67502 3.30437 8.59439 3.33687 8.33502C3.35375 8.20002 3.54 8.06189 3.895 7.92064C6.08125 6.96814 7.53875 6.34002 8.26875 6.03689C10.3513 5.17064 10.7844 5.02002 11.0662 5.01502Z\"\n      fill=\"currentcolor\"\n    />\n  </svg>\n);\n\nexport default IconTelegram;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconTransaction: FC<SvgIconProps> = ({\n  className = '',\n}): ReactElement => (\n  <svg width=\"12\" height=\"21\" viewBox=\"0 0 12 21\" className={className}>\n    {/* eslint-disable max-len */}\n    <path d=\"M4.57384 17.9222L10.7109 12.7726L9.24172 11.0216L3.10461 16.1713L0.900767 13.5448L0.346062 19.9779L6.77768 20.5487L4.57384 17.9222ZM11.697 1.50192L5.26538 0.931111L7.46923 3.55755L1.33212 8.7072L2.80134 10.4582L8.93845 5.30851L11.1423 7.93495L11.697 1.50192Z\" />\n  </svg>\n);\n\nexport default IconTransaction;\n","import { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconTwitter: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg\n    width=\"16\"\n    height=\"14\"\n    viewBox=\"0 0 16 14\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={className}\n  >\n\n    {/* eslint-disable max-len */}\n    <path\n      d=\"M15.4706 2.35624C14.909 2.6035 14.3141 2.76671 13.705 2.84062C14.3463 2.45515 14.8265 1.85065 15.0569 1.13874C14.4625 1.48562 13.8038 1.73812 13.1025 1.87874C12.6398 1.38401 12.0268 1.05588 11.3585 0.945307C10.6903 0.834732 10.0042 0.9479 9.40684 1.26724C8.80948 1.58658 8.33429 2.09421 8.05503 2.71132C7.77578 3.32843 7.7081 4.02047 7.8625 4.67999C5.30625 4.55937 3.04188 3.33124 1.525 1.47624C1.24925 1.94488 1.10541 2.47938 1.10875 3.02312C1.10875 4.09187 1.6525 5.03124 2.47625 5.58312C1.98804 5.56758 1.51061 5.43558 1.08375 5.19812V5.23562C1.08347 5.94586 1.32892 6.63433 1.77844 7.18422C2.22797 7.7341 2.85388 8.11154 3.55 8.25249C3.09894 8.37336 2.62651 8.39151 2.1675 8.30562C2.36508 8.91687 2.74854 9.45121 3.26438 9.83405C3.78023 10.2169 4.40272 10.4292 5.045 10.4412C3.9572 11.295 2.61405 11.7583 1.23125 11.7569C0.9875 11.7569 0.744375 11.7425 0.5 11.715C1.90982 12.6177 3.54907 13.0969 5.22312 13.0956C10.8813 13.0956 13.9719 8.41062 13.9719 4.35499C13.9719 4.22374 13.9719 4.09249 13.9625 3.96124C14.5662 3.52678 15.087 2.98738 15.5 2.36874L15.4706 2.35624Z\"\n      fill=\"currentcolor\"\n    />\n  </svg>\n);\n\nexport default IconTwitter;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconVote: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 24 24\" className={className}>\n    {/* eslint-disable-next-line max-len */}\n    <path d=\"M18 12.9993H17.32L15.32 14.9993H17.23L19 16.9993H5L6.78 14.9993H8.83L6.83 12.9993H6L3 15.9993V19.9993C3 21.0993 3.89 21.9993 4.99 21.9993H19C20.1 21.9993 21 21.1093 21 19.9993V15.9993L18 12.9993ZM19 19.9993H5V18.9993H19V19.9993ZM11.34 15.0193C11.73 15.4093 12.36 15.4093 12.75 15.0193L19.11 8.65931C19.5 8.26931 19.5 7.63931 19.11 7.24931L14.16 2.29931C13.78 1.89931 13.15 1.89931 12.76 2.28931L6.39 8.65931C6 9.04931 6 9.67931 6.39 10.0693L11.34 15.0193ZM13.46 4.40931L17 7.94931L12.05 12.8993L8.51 9.35931L13.46 4.40931Z\" />\n  </svg>\n);\n\nexport default IconVote;\n","import React, { FC, ReactElement } from 'react';\n\nimport { SvgIconProps } from '../Icon';\n\nconst IconX: FC<SvgIconProps> = ({ className = '' }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 14 14\" className={className}>\n    <path\n      d=\"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport default IconX;\n","import React, { FC } from 'react';\n\nimport {\n  IconAirswap,\n  IconArrowDown,\n  IconArrowLeft,\n  IconArrowRight,\n  IconBars,\n  IconBin,\n  IconCampaign,\n  IconCheck,\n  IconChevronDown,\n  IconChevronRight,\n  IconChevronUpDown,\n  IconClose,\n  IconCloseCircleOutline,\n  IconCode,\n  IconContactSupport,\n  IconCopy,\n  IconCopy2,\n  IconDarkModeSwitch,\n  IconDeny,\n  IconDiscord,\n  IconEdit,\n  IconForbidden,\n  IconGithub,\n  IconInformationCircleOutline,\n  IconLaunch,\n  IconLibrary,\n  IconLink,\n  IconLogout,\n  IconMarkerCheck,\n  IconMedium,\n  IconMenu,\n  IconPending,\n  IconPlus,\n  IconSearch,\n  IconStar,\n  IconSwap,\n  IconSwapHorizontal,\n  IconTelegram,\n  IconTransaction,\n  IconTwitter,\n  IconVote,\n  IconX,\n} from './icons';\n\nimport './Icon.scss';\n\nexport interface SvgIconProps {\n  className?: string;\n}\n\nexport type IconSet = {\n  [key: string]: FC<IconProps>;\n};\n\nexport const icons: IconSet = {\n  airswap: IconAirswap,\n  'arrow-down': IconArrowDown,\n  'arrow-right': IconArrowRight,\n  'arrow-left': IconArrowLeft,\n  bars: IconBars,\n  bin: IconBin,\n  'button-x': IconX,\n  campaign: IconCampaign,\n  check: IconCheck,\n  'chevron-down': IconChevronDown,\n  'chevron-right': IconChevronRight,\n  'chevron-up-down': IconChevronUpDown,\n  close: IconClose,\n  'close-circle-outline': IconCloseCircleOutline,\n  code: IconCode,\n  copy: IconCopy,\n  copy2: IconCopy2,\n  'contact-support': IconContactSupport,\n  'dark-mode-switch': IconDarkModeSwitch,\n  deny: IconDeny,\n  discord: IconDiscord,\n  edit: IconEdit,\n  launch: IconLaunch,\n  logout: IconLogout,\n  // 'exit-modal': HiX,\n  forbidden: IconForbidden,\n  github: IconGithub,\n  'information-circle-outline': IconInformationCircleOutline,\n  learn: IconLibrary,\n  'marker-check': IconMarkerCheck,\n  menu: IconMenu,\n  medium: IconMedium,\n  plus: IconPlus,\n  // settings: IoMdSettings,\n  search: IconSearch,\n  star: IconStar,\n  swap: IconSwap,\n  'swap-horizontal': IconSwapHorizontal,\n  telegram: IconTelegram,\n  // 'transaction-completed': BiCheck,\n  // 'transaction-failed': HiX,\n  'transaction-pending': IconPending,\n  'transaction-link': IconLink,\n  transaction: IconTransaction,\n  twitter: IconTwitter,\n  'wallet-link': IconLink,\n  vote: IconVote,\n};\n\ninterface IconProps {\n  name: keyof typeof icons;\n  className?: string;\n}\n\nconst Icon: FC<IconProps> = ({ name, className = '' }) => {\n  const IconComponent = icons[name];\n\n  return IconComponent\n    ? <IconComponent name={name} className={`icon-component ${className}`} />\n    : null;\n};\n\nexport default Icon;\n","import React, {\n  forwardRef,\n  ForwardRefExoticComponent,\n  ReactElement,\n  Ref,\n  RefAttributes,\n} from 'react';\n\nimport classNames from 'classnames';\n\nimport Button, { ButtonProps } from '../../components/Button/Button';\nimport Icon, { IconSet } from '../../components/Icon/Icon';\n\nimport './IconButton.scss';\n\ninterface IconButtonProps extends ButtonProps {\n  hideLabel?: boolean;\n  icon: keyof IconSet;\n  iconAlign?: 'left' | 'right';\n  iconClassName?: string;\n  className?: string;\n}\n\nexport type IconButtonWithRefProps = IconButtonProps & RefAttributes<HTMLButtonElement>;\n\nconst IconButton: ForwardRefExoticComponent<IconButtonWithRefProps> = forwardRef(({\n  hideLabel,\n  icon,\n  iconAlign = 'left',\n  text,\n  iconClassName,\n  className = '',\n  ...restProps\n}, ref: Ref<HTMLButtonElement>): ReactElement => {\n  const iconButtonClassName = classNames('icon-button', {\n    'icon-button--hidden-label': hideLabel,\n    [`icon-button--icon-align-${iconAlign}`]: iconAlign,\n  }, className);\n\n  return (\n    <Button\n      {...restProps}\n      ref={ref}\n      text={text}\n      className={iconButtonClassName}\n    >\n      <Icon name={icon} className={`icon-button__icon ${iconClassName}`} />\n      {!hideLabel && text}\n    </Button>\n  );\n});\n\nexport default IconButton;\n","import { ConnectionType } from './connections';\nimport { getHasMetaMaskExtensionInstalled } from './helpers';\n\nexport type WalletProvider = {\n  name: string;\n  logo: string;\n  isInstalled: boolean;\n  url: string;\n  type: ConnectionType;\n};\n\nconst walletConnectProjectId = process.env.REACT_APP_WALLET_CONNECT_PROJECT_ID;\n\nconst walletProviders: WalletProvider[] = [\n  {\n    name: 'MetaMask',\n    logo: 'logos/metamask.svg',\n    isInstalled: getHasMetaMaskExtensionInstalled(),\n    url: 'https://metamask.io/',\n    type: ConnectionType.injected,\n  },\n  ...(walletConnectProjectId ? [\n    {\n      name: 'WalletConnect',\n      logo: 'logos/walletconnect.svg',\n      isInstalled: true,\n      url: 'https://walletconnect.com/',\n      type: ConnectionType.walletConnect,\n    },\n  ] : []),\n];\n\nexport default walletProviders;\n","import React, { FC } from 'react';\n\nimport Button from '../../../../../../components/Button/Button';\nimport { WalletProvider } from '../../../../../../web3-connectors/walletProviders';\n\nimport './WalletProviderButton.scss';\n\ninterface WalletProviderButtonProps {\n  walletProvider: WalletProvider;\n  onClick: (provider: WalletProvider) => void;\n  className?: string;\n}\n\nconst WalletProviderButton: FC<WalletProviderButtonProps> = ({ walletProvider, onClick, className = '' }) => {\n  const handleClick = () => {\n    onClick(walletProvider);\n  };\n\n  const buttonText = walletProvider.isInstalled ? walletProvider.name : `${walletProvider.name} (install)`;\n\n  return (\n    <Button\n      text={buttonText}\n      className={`wallet-provider-button ${className}`}\n      onClick={handleClick}\n    >\n      <img\n        alt={`${walletProvider.name} logo`}\n        src={walletProvider.logo}\n        className=\"wallet-provider-button__logo\"\n      />\n      <span className=\"wallet-provider-button__name\">\n        {buttonText}\n      </span>\n    </Button>\n  );\n};\n\nexport default WalletProviderButton;\n","import React, { FC } from 'react';\n\nimport { WalletProvider } from '../../../../web3-connectors/walletProviders';\nimport WalletProviderButton from './subcomponents/WalletProviderButton/WalletProviderButton';\n\nimport './WalletProviderList.scss';\n\ninterface WalletProviderListProps {\n  walletProviders: WalletProvider[];\n  onWalletProviderButtonClick: (provider: WalletProvider) => void;\n  className?: string;\n}\n\nconst WalletProviderList: FC<WalletProviderListProps> = ({ walletProviders, onWalletProviderButtonClick, className = '' }) => (\n  <div className={`wallet-provider-list ${className}`}>\n    {walletProviders.map((provider) => (\n      <WalletProviderButton\n        key={provider.name}\n        walletProvider={provider}\n        onClick={onWalletProviderButtonClick}\n        className=\"wallet-provider-list__button\"\n      />\n    ))}\n  </div>\n);\n\nexport default WalletProviderList;\n","import React, { FC, useEffect } from 'react';\n\nimport { Connector } from '@web3-react/types';\n\nimport IconButton from '../../compositions/IconButton/IconButton';\nimport { useAppDispatch } from '../../redux/hooks';\nimport { getLastProviderFromLocalStorage } from '../../redux/stores/web3/web3Api';\nimport { setConnectionType, setIsInitialized, setUserHasClosedConnectModal } from '../../redux/stores/web3/web3Slice';\nimport { ConnectionType, getConnection } from '../../web3-connectors/connections';\nimport { tryActivateConnector } from '../../web3-connectors/helpers';\nimport walletProviders, { WalletProvider } from '../../web3-connectors/walletProviders';\nimport WalletProviderList from './subcomponents/WalletProviderList/WalletProviderList';\n\nimport './WalletConnector.scss';\n\ninterface WalletConnectorProps {\n  onCloseButtonClick: () => void;\n  className?: string;\n}\n\nconst WalletConnector: FC<WalletConnectorProps> = ({ onCloseButtonClick, className = '' }) => {\n  const dispatch = useAppDispatch();\n\n  const activateWallet = async (provider: WalletProvider) => {\n    try {\n      await tryActivateConnector(getConnection(provider.type).connector);\n      dispatch(setConnectionType(provider.type));\n    } catch (error) {\n      console.error(error);\n    } finally {\n      dispatch(setIsInitialized(true));\n    }\n  };\n\n  const activateWalletEagerly = async (connector: Connector, type: ConnectionType) => {\n    try {\n      if (connector.connectEagerly) {\n        await connector.connectEagerly();\n        dispatch(setConnectionType(type));\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      dispatch(setIsInitialized(true));\n    }\n  };\n\n  const handleCloseButtonClick = (): void => {\n    dispatch(setUserHasClosedConnectModal(true));\n    onCloseButtonClick();\n  };\n\n  useEffect(() => {\n    const type = getLastProviderFromLocalStorage();\n\n    if (!type) {\n      dispatch(setIsInitialized(true));\n\n      return;\n    }\n\n    activateWalletEagerly(getConnection(type).connector, type);\n  }, []);\n\n  const handleWalletProviderButtonClick = (provider: WalletProvider): void => {\n    if (!provider.isInstalled) {\n      window.open(provider.url, '_blank');\n\n      return;\n    }\n\n    activateWallet(provider);\n  };\n\n  return (\n    <div className={`wallet-connector ${className}`}>\n      <div className=\"wallet-connector__wrapper\">\n        <div className=\"wallet-connector__header\">\n          <h1 className=\"wallet-connector__title\">Select wallet</h1>\n          <IconButton\n            hideLabel\n            icon=\"close\"\n            text=\"Close\"\n            onClick={handleCloseButtonClick}\n            className=\"wallet-connector__close-button\"\n          />\n        </div>\n        <WalletProviderList\n          walletProviders={walletProviders}\n          onWalletProviderButtonClick={handleWalletProviderButtonClick}\n          className=\"wallet-connector__wallet-providers-list\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default WalletConnector;\n","export const truncateAddress = (account: string): string => (account.length >= 20 ? `${account.slice(0, 6)}...${account.slice(-4)}` : account);\n","import { FC } from 'react';\n\nimport './Avatar.scss';\n\ninterface AvatarProps {\n  avatarUrl?: string;\n  className?: string;\n}\n\nconst Avatar: FC<AvatarProps> = ({ avatarUrl, className = '' }) => (\n  <div className={`avatar ${className}`} style={{ backgroundImage: `url(\"${avatarUrl}\")` }} />\n);\n\nexport default Avatar;\n","import React, { FC } from 'react';\n\nimport classNames from 'classnames';\n\nimport { truncateAddress } from '../../helpers/string';\nimport Avatar from '../Avatar/Avatar';\nimport Icon from '../Icon/Icon';\n\nimport './WalletInfo.scss';\n\ninterface WalletInfoProps {\n  isBanner?: boolean;\n  accountUrl?: string;\n  address?: string;\n  avatarUrl?: string;\n  ensAddress?: string;\n  className?: string;\n  avatarClassName?: string;\n}\n\nconst WalletInfo: FC<WalletInfoProps> = ({\n  isBanner = false,\n  accountUrl,\n  address = '',\n  avatarUrl = '',\n  ensAddress = '',\n  className = '',\n  avatarClassName = '',\n}) => {\n  const walletInfoClassName = classNames('wallet-info', {\n    'wallet-info--is-menu': !isBanner,\n  }, className);\n\n  return (\n    <div className={walletInfoClassName}>\n      <Avatar className={`wallet-info__avatar ${avatarClassName}`} avatarUrl={avatarUrl} />\n      <div className=\"wallet-info__address-bar\">\n        <h2 className=\"wallet-info__sub-title\">Wallet</h2>\n        <span className=\"wallet-info__address\">{truncateAddress(ensAddress || address)}</span>\n        {ensAddress && <span className=\"wallet-info__address-secondary\">{truncateAddress(address)}</span>}\n      </div>\n      {accountUrl && (\n        <a\n          aria-label=\"address\"\n          href={accountUrl}\n          rel=\"noreferrer\"\n          target=\"_blank\"\n          className=\"wallet-info__link\"\n        >\n          <Icon\n            name=\"launch\"\n            className=\"wallet-info__icon\"\n          />\n        </a>\n      )}\n    </div>\n  );\n};\n\nexport default WalletInfo;\n","export enum AppRoutes {\n  collection = 'collection',\n  listNft = 'list-nft',\n  nftDetail = 'nft-detail',\n  orderDetail = 'order-detail',\n  profile = 'profile',\n  swap = 'swap',\n}\n\nexport enum ProfileRoutes {\n  activity = 'activity',\n  orders = 'orders',\n  ownedNfts = 'owned-nfts',\n}\n\nexport const routes = {\n  collection: () => '/',\n  listNft: (tokenId?: string) => `/${AppRoutes.listNft}${tokenId ? `?tokenId=${tokenId}` : ''}`,\n  nftDetail: (tokenId: string) => `/${AppRoutes.nftDetail}/${tokenId}`,\n  orderDetail: (account: string, orderNonce: string) => `/${AppRoutes.orderDetail}/${account}/${orderNonce}`,\n  profile: (account: string) => `/${AppRoutes.profile}/${account}/${ProfileRoutes.ownedNfts}`,\n  userOrders: (account: string) => `/${AppRoutes.profile}/${account}/${ProfileRoutes.orders}`,\n  activity: (account: string) => `/${AppRoutes.profile}/${account}/${ProfileRoutes.activity}`,\n};\n","import React, { FC } from 'react';\n\nimport classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nimport WalletInfo from '../../components/WalletInfo/WalletInfo';\nimport { routes } from '../../routes';\n\nimport './MobileMenu.scss';\n\ninterface MobileMenuProp {\n  isHidden: boolean;\n  avatarUrl?: string;\n  address: string;\n  ensAddress?: string | undefined;\n  onNavLinkClick: () => void;\n  className?: string;\n}\n\nconst MobileMenu: FC<MobileMenuProp> = ({\n  avatarUrl,\n  isHidden,\n  address,\n  ensAddress,\n  onNavLinkClick,\n  className = '',\n}) => {\n  const mobileMenuClassName = classNames('mobile-menu', {\n    'mobile-menu--is-hidden': isHidden,\n  }, className);\n\n  return (\n    <div className={mobileMenuClassName}>\n      <WalletInfo\n        avatarUrl={avatarUrl}\n        address={address}\n        ensAddress={ensAddress}\n      />\n      <div className=\"mobile-menu__nav-links\">\n        <NavLink\n          to={routes.profile(address)}\n          onClick={onNavLinkClick}\n          className=\"mobile-menu__nav-link\"\n        >\n          My Tokens\n        </NavLink>\n        <NavLink\n          to={routes.userOrders(address)}\n          onClick={onNavLinkClick}\n          className=\"mobile-menu__nav-link\"\n        >\n          My Listings\n        </NavLink>\n        <NavLink\n          to={routes.listNft()}\n          onClick={onNavLinkClick}\n          className=\"mobile-menu__nav-link\"\n        >\n          List a Token\n        </NavLink>\n      </div>\n    </div>\n  );\n};\n\nexport default MobileMenu;\n","import React, { FC } from 'react';\n\nimport classNames from 'classnames';\nimport { NavLink, NavLinkProps } from 'react-router-dom';\n\nimport Icon, { IconSet } from '../../components/Icon/Icon';\n\nimport './IconNavLink.scss';\n\ninterface IconNavLinkProps extends NavLinkProps {\n  hideLabel?: boolean;\n  icon: keyof IconSet;\n  iconAlign?: 'left' | 'right';\n  iconClassName?: string;\n  text: string;\n  className?: string;\n}\n\nconst IconNavLink: FC<IconNavLinkProps> = ({\n  hideLabel,\n  icon,\n  iconAlign = 'left',\n  text,\n  iconClassName,\n  className = '',\n  ...restProps\n}) => {\n  const iconButtonClassName = classNames('nav-link-button', {\n    'nav-link-button--hidden-label': hideLabel,\n    [`nav-link-button--icon-align-${iconAlign}`]: iconAlign,\n  }, className);\n\n  return (\n    <NavLink\n      {...restProps}\n      className={iconButtonClassName}\n    >\n      <Icon name={icon} className={`nav-link-button__icon ${iconClassName}`} />\n      {!hideLabel && text}\n    </NavLink>\n  );\n};\n\nexport default IconNavLink;\n","import {\n  FC,\n  forwardRef,\n  ReactElement,\n  Ref,\n  RefAttributes,\n} from 'react';\n\nimport { NavLink } from 'react-router-dom';\n\nimport WalletInfo from '../../components/WalletInfo/WalletInfo';\nimport { routes } from '../../routes';\n\nimport './UserPopup.scss';\n\ninterface UserPopupProps {\n  address?: string;\n  ensAddress?: string;\n  onLogoutButtonClick: () => void;\n  className?: string;\n}\n\nexport type UserPopupWithRefProps = UserPopupProps & RefAttributes<HTMLDivElement>;\n\nconst UserPopup: FC<UserPopupWithRefProps> = forwardRef(({\n  address,\n  ensAddress,\n  className = '',\n}, ref: Ref<HTMLDivElement>): ReactElement => (\n  <div ref={ref} className={`user-popup ${className}`}>\n    <WalletInfo\n      address={address}\n      ensAddress={ensAddress}\n      className=\"user-popup__wallet-info\"\n      avatarClassName=\"user-popup__wallet-info-avatar\"\n    />\n    {address && (\n      <>\n        <NavLink to={routes.profile(address)} className=\"user-popup__nav-link\">Profile</NavLink>\n        <NavLink to={routes.profile(address)} className=\"user-popup__nav-link\">NFTs</NavLink>\n        <NavLink to={routes.userOrders(address)} className=\"user-popup__nav-link\">Listed</NavLink>\n        <NavLink to={routes.activity(address)} className=\"user-popup__nav-link\">Activity</NavLink>\n      </>\n    )}\n  </div>\n));\n\nexport default UserPopup;\n","import React, {\n  FC,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\nimport classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nimport Avatar from '../../components/Avatar/Avatar';\nimport Button from '../../components/Button/Button';\nimport { truncateAddress } from '../../helpers/string';\nimport { routes } from '../../routes';\nimport IconButton from '../IconButton/IconButton';\nimport IconNavLink from '../IconNavLink/IconNavLink';\nimport UserPopup from '../UserPopup/UserPopup';\n\nimport './TopBar.scss';\n\ninterface TopBarProps {\n  listButtonIsDisabled: boolean;\n  mobileMenuIsVisible: boolean;\n  showDesktopConnectButton: boolean;\n  showDesktopUserButton: boolean;\n  userWalletButtonIsDisabled: boolean;\n  account?: string;\n  avatarUrl?: string;\n  ensAddress: string | undefined;\n  onConnectButtonClick: () => void;\n  onDisconnectButtonClick: () => void;\n  onMobileMenuButtonClick: () => void;\n  className?: string;\n}\n\nconst TopBar: FC<TopBarProps> = ({\n  listButtonIsDisabled,\n  mobileMenuIsVisible,\n  showDesktopConnectButton,\n  showDesktopUserButton,\n  userWalletButtonIsDisabled,\n  account,\n  avatarUrl,\n  ensAddress,\n  onConnectButtonClick,\n  onDisconnectButtonClick,\n  onMobileMenuButtonClick,\n  className = '',\n}) => {\n  const userPopupRef = useRef<HTMLDivElement>(null);\n  const userButtonRef = useRef<HTMLButtonElement>(null);\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\n\n  const containerClassName = classNames('top-bar', {\n    'top-bar--mobile-menu-is-visible': mobileMenuIsVisible,\n  }, className);\n\n  const handleDisconnectClick = () => {\n    setIsPopupOpen(false);\n    onDisconnectButtonClick();\n  };\n\n  const handleDocumentClick = (e: MouseEvent) => {\n    if (e.target instanceof Node && (userPopupRef.current?.contains(e.target))) {\n      return;\n    }\n\n    if (e.target === userButtonRef.current) {\n      return;\n    }\n\n    setIsPopupOpen(false);\n  };\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleDocumentClick);\n\n    return () => document.removeEventListener('mousedown', handleDocumentClick);\n  }, [isPopupOpen]);\n\n  return (\n    <div className={containerClassName}>\n      <IconNavLink\n        hideLabel\n        icon=\"airswap\"\n        text=\"AirSwap button\"\n        to=\"/\"\n        className=\"top-bar__airswap-button\"\n      />\n      {account && (\n        <IconButton\n          hideLabel\n          icon={!mobileMenuIsVisible ? 'menu' : 'close'}\n          text=\"Menu button\"\n          onClick={onMobileMenuButtonClick}\n          className=\"top-bar__menu-button\"\n          iconClassName=\"top-bar__menu-button-icon\"\n        />\n      )}\n      <div className=\"top-bar__list-button-and-wallet-button-wrapper\">\n        <IconNavLink\n          aria-disabled={listButtonIsDisabled}\n          icon=\"plus\"\n          text=\"List a token\"\n          to={routes.listNft()}\n          className=\"top-bar__list-button\"\n          iconClassName=\"top-bar__list-button-icon\"\n        />\n        {showDesktopConnectButton && (\n          <Button\n            text=\"Connect\"\n            onClick={onConnectButtonClick}\n            className=\"top-bar__connect-button\"\n          />\n        )}\n        {showDesktopUserButton\n          && (\n            <NavLink\n              aria-disabled={userWalletButtonIsDisabled}\n              to={routes.profile(ensAddress || account || '')}\n              className=\"top-bar__user-button\"\n            >\n              <Avatar avatarUrl={avatarUrl} className=\"top-bar__user-button-icon\" />\n              {truncateAddress(ensAddress || account || '')}\n            </NavLink>\n          )}\n      </div>\n      {isPopupOpen && (\n        <UserPopup\n          address={account || undefined}\n          ensAddress={ensAddress}\n          ref={userPopupRef}\n          onLogoutButtonClick={handleDisconnectClick}\n          className=\"top-bar__user-popup\"\n        />\n      )}\n    </div>\n  );\n};\n\n\nexport default TopBar;\n","import React, { FC, ReactNode, useState } from 'react';\n\nimport { Web3Provider } from '@ethersproject/providers';\nimport { useWeb3React } from '@web3-react/core';\nimport classNames from 'classnames';\nimport { Helmet } from 'react-helmet';\n\nimport Button from '../../components/Button/Button';\nimport useEnsAddress from '../../hooks/useEnsAddress';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport { clearLastProvider } from '../../redux/stores/web3/web3Api';\nimport { setShowConnectModal } from '../../redux/stores/web3/web3Slice';\nimport { getConnection } from '../../web3-connectors/connections';\nimport { tryDeactivateConnector } from '../../web3-connectors/helpers';\nimport WalletConnector from '../../widgets/WalletConnector/WalletConnector';\nimport MobileMenu from '../MobileMenu/MobileMenu';\nimport TopBar from '../TopBar/TopBar';\n\nimport './Page.scss';\n\ninterface PageProps {\n  children?: ReactNode;\n  className?: string;\n  contentClassName?: string;\n}\n\nconst Page: FC<PageProps> = ({ className = '', contentClassName = '', children }) => {\n  const {\n    isActive,\n    account,\n    chainId,\n  } = useWeb3React<Web3Provider>();\n  const dispatch = useAppDispatch();\n  const ensAddress = useEnsAddress(account || '');\n  const { config } = useAppSelector((state) => state);\n  const { isInitialized, showConnectModal, connectionType } = useAppSelector((state) => state.web3);\n  const { avatarUrl } = useAppSelector((state) => state.user);\n\n  const chainIdIsCorrect = !!chainId && chainId === config.chainId;\n\n  const [mobileMenuIsVisible, setMobileMenuIsVisible] = useState(false);\n\n  const pageClassName = classNames('page', {\n    'page--show-wallet-connector': showConnectModal,\n  }, className);\n\n  const handleIconButtonClick = (): void => {\n    setMobileMenuIsVisible(!mobileMenuIsVisible);\n  };\n\n  const handleDisconnectButtonClick = (): void => {\n    if (!connectionType) {\n      return;\n    }\n\n    tryDeactivateConnector(getConnection(connectionType).connector);\n    clearLastProvider();\n  };\n\n  const toggleShowWalletConnector = (): void => {\n    dispatch(setShowConnectModal(!showConnectModal));\n  };\n\n  return (\n    <div className={pageClassName}>\n      <Helmet>\n        <title>{config.collectionName}</title>\n      </Helmet>\n      <TopBar\n        listButtonIsDisabled={!chainIdIsCorrect || !account}\n        mobileMenuIsVisible={mobileMenuIsVisible}\n        showDesktopConnectButton={isInitialized && !isActive}\n        showDesktopUserButton={isInitialized && isActive}\n        userWalletButtonIsDisabled={!chainIdIsCorrect}\n        avatarUrl={avatarUrl}\n        account={account}\n        ensAddress={ensAddress}\n        onConnectButtonClick={toggleShowWalletConnector}\n        onDisconnectButtonClick={handleDisconnectButtonClick}\n        onMobileMenuButtonClick={handleIconButtonClick}\n        className=\"page__top-bar\"\n      />\n      {account && (\n        <MobileMenu\n          isHidden={!mobileMenuIsVisible}\n          avatarUrl={avatarUrl}\n          address={account}\n          onNavLinkClick={handleIconButtonClick}\n          className=\"page__mobile-menu\"\n        />\n      )}\n      <WalletConnector\n        onCloseButtonClick={toggleShowWalletConnector}\n        className=\"page__wallet-connector\"\n      />\n\n      <div className={`page__content ${contentClassName}`}>\n        {children}\n\n        {(!isActive && !showConnectModal) && (\n          <Button\n            text=\"Connect wallet\"\n            onClick={toggleShowWalletConnector}\n            className=\"page__connect-wallet-button\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Page;\n","import React, { FC } from 'react';\n\nimport './Input.scss';\n\ntype HTMLInputProps = JSX.IntrinsicElements['input'];\n\ninterface InputProps extends HTMLInputProps {\n  className?: string;\n}\n\nconst Input: FC<InputProps> = ({ type, className = '', ...props }) => (\n  <input\n    {...props}\n    type={type}\n    className={`input ${className}`}\n  />\n);\n\nexport default Input;\n","import React, { FC } from 'react';\n\nimport Icon from '../Icon/Icon';\nimport Input from '../Input/Input';\n\nimport './SearchInput.scss';\n\ntype HTMLInputProps = JSX.IntrinsicElements['input'];\n\ninterface SearchInputProps extends HTMLInputProps {\n  className?: string;\n}\n\nconst SearchInput: FC<SearchInputProps> = ({ className = '', ...props }) => (\n  <div className={`search-input ${className}`}>\n    <Input\n      {...props}\n      type=\"text\"\n      className=\"search-input__input\"\n    />\n    <Icon name=\"search\" className=\"search-input__icon\" />\n  </div>\n);\n\nexport default SearchInput;\n","import React, { FC } from 'react';\n\nimport './LoadingSpinner.scss';\n\ninterface LoadingSpinnerProps {\n  className?: string;\n}\n\nconst LoadingSpinner: FC<LoadingSpinnerProps> = ({ className = '' }) => (\n  <div className={`loading-spinner ${className}`}>\n    <svg className=\"loading-spinner__svg\" viewBox=\"0 0 26 26\">\n      <circle cx=\"13\" cy=\"13\" r=\"12\" fill=\"none\" />\n    </svg>\n  </div>\n);\n\nexport default LoadingSpinner;\n","import React from 'react';\n\nimport { NavLink, NavLinkProps } from 'react-router-dom';\n\nimport './NftCard.scss';\n\ninterface NftCardProps extends NavLinkProps {\n  imageURI?: string;\n  name?: string;\n  price?: string;\n  symbol?: string;\n  className?: string;\n}\n\nconst NftCard = ({\n  imageURI,\n  name,\n  price,\n  symbol,\n  to,\n  className = '',\n}: NftCardProps) => (\n  <NavLink to={to} className={`nft-card ${className}`}>\n    <img className=\"nft-card__img\" src={imageURI} alt={name} />\n    <div className=\"nft-card__info-wrapper\">\n      <h3 className=\"nft-card__name\">{name}</h3>\n      <h4 className=\"nft-card__price\">\n        {(price && symbol) ? `${price} ${symbol}` : <>&nbsp;</>}\n      </h4>\n    </div>\n  </NavLink>\n);\n\nexport default NftCard;\n","import React from 'react';\n\nimport { NavLink, NavLinkProps } from 'react-router-dom';\n\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner';\n\nimport './NftCardSkeleton.scss';\n\ninterface NftCardSkeletonProps extends NavLinkProps {\n  price?: string;\n  symbol?: string;\n  className?: string;\n}\n\nconst NftCardSkeleton = ({\n  price,\n  symbol,\n  to,\n  className = '',\n}: NftCardSkeletonProps) => (\n  <NavLink\n    to={to}\n    className={`nft-card-skeleton ${className}`}\n  >\n    <div className=\"nft-card-skeleton__loader-wrapper\">\n      <LoadingSpinner className=\"nft-card__loader\" />\n    </div>\n    <div className=\"nft-card-skeleton__info-wrapper\">\n      <h3 className=\"nft-card__name\">&nbsp;</h3>\n      {(price && symbol) && (\n        <h4 className=\"nft-card__price\">\n          {`${price} ${symbol}`}\n        </h4>\n      )}\n    </div>\n  </NavLink>\n);\n\nexport default NftCardSkeleton;\n","import { FC, ReactElement } from 'react';\n\nimport { NavLink } from 'react-router-dom';\n\nimport './EmptyState.scss';\n\ninterface EmptyStateProps {\n  hasButton?: boolean;\n  buttonText?: string;\n  route?: string;\n  text?: string;\n  className?: string;\n}\n\nconst EmptyState: FC<EmptyStateProps> = ({\n  hasButton = false,\n  buttonText,\n  route,\n  text,\n  className = '',\n}): ReactElement => (\n  <div className={`empty-state ${className}`}>\n    {text && (\n      <p className=\"empty-state__text\">\n        {text}\n      </p>\n    )}\n    {(hasButton && route) && (\n      <NavLink\n        to={route}\n        className=\"empty-state__link\"\n      >\n        {buttonText}\n      </NavLink>\n    )}\n  </div>\n);\n\nexport default EmptyState;\n","import { FullOrder, TokenInfo } from '@airswap/types';\nimport { format } from '@greypixel_/nicenumbers';\nimport { BigNumber } from 'bignumber.js';\n\nexport const getFullOrderSenderAmountPlusTotalFees = (fullOrder: FullOrder): BigNumber => {\n  const protocolFeePercentage = +fullOrder.protocolFee / 10000;\n  const affiliateFeePercentage = +fullOrder.affiliateAmount / 10000;\n  const feePercentage = protocolFeePercentage + affiliateFeePercentage;\n\n  return new BigNumber(fullOrder.sender.amount).dividedBy(1 - feePercentage);\n};\n\nexport const getFullOrderReadableSenderAmountPlusTotalFees = (fullOrder: FullOrder, token: TokenInfo): string => {\n  const amount = getFullOrderSenderAmountPlusTotalFees(fullOrder);\n\n  return format(amount, {\n    tokenDecimals: token.decimals,\n    omitTrailingZeroes: true,\n  });\n};\n\nexport const getFullOrderReadableSenderAmount = (fullOrder: FullOrder, token: TokenInfo): string => format(fullOrder.sender.amount, {\n  tokenDecimals: token.decimals,\n  omitTrailingZeroes: true,\n});\n\nexport const getFullOrderExpiryDate = (fullOrder: FullOrder): Date => new Date(+fullOrder.expiry * 1000);\n","import React, { FC, ReactElement } from 'react';\n\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\n\nimport Icon from '../../components/Icon/Icon';\nimport LoadingSpinner from '../../components/LoadingSpinner/LoadingSpinner';\nimport NftCard from '../../components/NftCard/NftCard';\nimport NftCardSkeleton from '../../components/NftCardSkeleton/NftCardSkeleton';\nimport EmptyState from '../../compositions/EmptyState/EmptyState';\nimport { getFullOrderReadableSenderAmountPlusTotalFees } from '../../entities/FullOrder/FullOrderHelpers';\nimport { routes } from '../../routes';\n\nimport './OrdersContainer.scss';\n\ninterface OrdersContainerProps {\n  hasListCallToActionButton?: boolean;\n  isEndOfOrders: boolean;\n  isLoading: boolean;\n  currencyTokenInfo: TokenInfo;\n  listCallToActionText?: string;\n  orders: FullOrder[];\n  tokens: CollectionTokenInfo[];\n  className?: string;\n}\n\nconst OrdersContainer: FC<OrdersContainerProps> = ({\n  hasListCallToActionButton = false,\n  isEndOfOrders,\n  isLoading,\n  currencyTokenInfo,\n  listCallToActionText,\n  orders,\n  tokens,\n  className = '',\n}): ReactElement => {\n  if (!isLoading && !orders.length) {\n    return (\n      <div className={`orders-container ${className}`}>\n        <EmptyState\n          hasButton={hasListCallToActionButton}\n          buttonText=\"List a token\"\n          route={routes.listNft()}\n          text={listCallToActionText}\n          className=\"orders-container__empty-state\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`orders-container ${className}`}>\n      <div className=\"orders-container__orders\">\n        {orders\n          .map(order => {\n            const orderToken = tokens.find(token => token.id === +order.signer.id);\n            const price = getFullOrderReadableSenderAmountPlusTotalFees(order, currencyTokenInfo);\n\n            if (!orderToken) {\n              return (\n                <NftCardSkeleton\n                  key={order.nonce}\n                  price={price.toString()}\n                  symbol={currencyTokenInfo.symbol}\n                  to={routes.nftDetail(order.signer.id)}\n                  className=\"collection-widget__nft-card\"\n                />\n              );\n            }\n\n            return (\n              <NftCard\n                key={order.nonce}\n                imageURI={orderToken.image}\n                price={price.toString()}\n                name={orderToken.name}\n                symbol={currencyTokenInfo.symbol}\n                to={routes.nftDetail(order.signer.id)}\n                className=\"collection-widget__nft-card\"\n              />\n            );\n          })}\n      </div>\n      <div className=\"orders-container__bottom\">\n        {isLoading && <LoadingSpinner className=\"orders-container__loader\" />}\n        {(!isLoading && isEndOfOrders) && <Icon name=\"airswap\" className=\"orders-container__end-of-orders-icon\" />}\n      </div>\n    </div>\n  );\n};\n\nexport default OrdersContainer;\n","import { TokenKinds } from '@airswap/constants';\nimport { getCollectionTokenInfo } from '@airswap/metadata';\nimport { CollectionTokenInfo } from '@airswap/types';\nimport erc721AbiContract from '@openzeppelin/contracts/build/contracts/ERC721.json';\nimport erc721AbiEnumerableContract from '@openzeppelin/contracts/build/contracts/ERC721Enumerable.json';\nimport erc1155AbiContract from '@openzeppelin/contracts/build/contracts/ERC1155.json';\nimport * as ethers from 'ethers';\n\nexport const getCollectionToken = async (library: ethers.providers.BaseProvider, address: string, tokenId: string): Promise<CollectionTokenInfo | undefined> => {\n  let tokenInfo: CollectionTokenInfo;\n\n  try {\n    tokenInfo = await getCollectionTokenInfo(library, address, tokenId);\n  } catch (e) {\n    console.error(new Error(`Unable to fetch data for ${address} with id ${tokenId}`));\n\n    return undefined;\n  }\n\n  return tokenInfo;\n};\n\nexport const getCollectionTokenContractAbi = (kind: CollectionTokenInfo['kind']): ethers.ContractInterface => {\n  if (kind === TokenKinds.ERC721) {\n    return erc721AbiContract.abi;\n  }\n\n  if (kind === TokenKinds.ERC1155) {\n    return erc1155AbiContract.abi;\n  }\n\n  return erc721AbiEnumerableContract.abi;\n};\n\nexport const getCollectionTokenOwner = async (library: ethers.providers.BaseProvider, token: CollectionTokenInfo): Promise<string | undefined> => {\n  const contractAbi = getCollectionTokenContractAbi(token.kind);\n  const contract = new ethers.Contract(token.address, contractAbi, library);\n\n  if (token.kind === TokenKinds.ERC1155) {\n    // TODO: Use NftTransactionLogs to determine the people who owns this token (can be multiple owners)\n    // https://github.com/orgs/airswap/projects/9/views/1?pane=issue&itemId=26957049\n\n    // Maybe use this or derive it all from logs:\n    // balanceOf(address account, uint256 id)  uint256\n    // Returns the amount of tokens of token type id owned by account.\n    return undefined;\n  }\n\n  return contract.functions.ownerOf(token.id)\n    .then((owner: [string]) => owner[0])\n    .catch(() => undefined);\n};\n\nexport const isCollectionTokenInfo = (resource: any): resource is CollectionTokenInfo => (\n  resource\n    && typeof resource.chainId === 'number'\n    && typeof resource.kind === 'string'\n    && typeof resource.address === 'string'\n    && typeof resource.id === 'number'\n    && typeof resource.uri === 'string'\n    && resource.attributes && Array.isArray(resource.attributes)\n);\n\nexport const filterCollectionTokenBySearchValue = (token: CollectionTokenInfo, value: string): boolean => {\n  if (value === '') return true;\n\n  if (token.name && token.name.toLowerCase().includes(value.toLowerCase())) return true;\n\n  return token.id.toString().toLowerCase().includes(value.toLowerCase());\n};\n","import { SwapERC20 } from '@airswap/libraries';\nimport { getTokenInfo } from '@airswap/metadata';\nimport { TokenInfo } from '@airswap/types';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { ethers } from 'ethers';\n\ninterface GetCurrencyTokenInfoParams {\n  currencyToken: string;\n  library: ethers.providers.BaseProvider;\n  chainId?: number;\n}\n\nexport const getCurrencyTokenInfo = createAsyncThunk<\nTokenInfo,\nGetCurrencyTokenInfoParams\n>('metadata/getCurrencyTokenInfo', ({ currencyToken, library }) => (\n  getTokenInfo(library, currencyToken)\n));\n\nexport const getProtocolFee = async (\n  chainId: number,\n  provider: ethers.providers.BaseProvider,\n): Promise<number> => {\n  const protocolFee = await SwapERC20.getContract(provider, chainId).protocolFee();\n  return protocolFee.toNumber();\n};\n","import { CollectionTokenInfo } from '@airswap/types';\n\nimport { isCollectionTokenInfo } from '../../../entities/CollectionToken/CollectionTokenHelpers';\nimport { parseJsonObject } from '../../../helpers/json';\n\nexport const getCollectionTokensLocalStorageKey = (collectionAddress: string): string => `airswap-marketplace/collection-tokens/${collectionAddress}`;\n\nexport const getLocalStorageCollectionTokens = (collectionAddress: string): { [id: number]: CollectionTokenInfo } => {\n  const value = localStorage.getItem(getCollectionTokensLocalStorageKey(collectionAddress));\n  const parsedObject = value ? parseJsonObject<{ [id: number]: any }>(value) : {};\n\n  if (!Object.values(parsedObject).length) {\n    return {};\n  }\n\n  const collectionTokens: CollectionTokenInfo[] = Object.values(parsedObject)\n    .filter(isCollectionTokenInfo);\n\n  if (!collectionTokens.length) {\n    return {};\n  }\n\n  return collectionTokens\n    .reduce((total, tokenInfo) => ({\n      ...total,\n      [tokenInfo.id]: tokenInfo,\n    }), {});\n};\n","export const parseJsonArray = <T>(value: string): T[] => {\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    console.error('Error parsing JSON');\n\n    return [];\n  }\n};\n\nexport const parseJsonObject = <T>(value: string): T => {\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    console.error('Error parsing JSON');\n\n    return {} as T;\n  }\n};\n","import { CollectionTokenInfo, TokenInfo } from '@airswap/types';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { fetchProtocolFee } from './metadataActions';\nimport { getCurrencyTokenInfo } from './metadataApi';\nimport { getCollectionTokensLocalStorageKey } from './metdataHelpers';\n\nexport interface MetadataState {\n  isLoading: boolean;\n  projectFee: number;\n  protocolFee: number;\n  currencyTokenInfo?: TokenInfo;\n  collectionTokens: {\n    [id: string]: CollectionTokenInfo;\n  }\n}\n\nconst initialState: MetadataState = {\n  isLoading: false,\n  projectFee: 0,\n  protocolFee: 7,\n  collectionTokens: {},\n};\n\nconst metadataSlice = createSlice({\n  name: 'metadata',\n  initialState,\n  reducers: {\n    setIsLoading: (state, action: PayloadAction<boolean>) => ({\n      ...state,\n      isLoading: action.payload,\n    }),\n    setCollectionTokens: (state, action: PayloadAction<{ [id: number]: CollectionTokenInfo }>) => {\n      const values = Object.values(action.payload);\n\n      if (values.length) {\n        localStorage.setItem(getCollectionTokensLocalStorageKey(values[0].address), JSON.stringify(action.payload));\n      }\n\n      return {\n        ...state,\n        collectionTokens: action.payload,\n      };\n    },\n  },\n  extraReducers: builder => {\n    builder.addCase(getCurrencyTokenInfo.pending, (state) => ({\n      ...state,\n      isLoading: true,\n    }));\n\n    builder.addCase(getCurrencyTokenInfo.fulfilled, (state, action) => ({\n      ...state,\n      isLoading: false,\n      currencyTokenInfo: action.payload,\n    }));\n\n    builder.addCase(getCurrencyTokenInfo.rejected, (state, action) => {\n      console.error(action.error);\n\n      return {\n        ...state,\n      };\n    });\n\n    builder.addCase(fetchProtocolFee.fulfilled, (state, action) => ({\n      ...state,\n      protocolFee: action.payload,\n    }));\n  },\n});\n\nexport const {\n  setIsLoading,\n  setCollectionTokens,\n} = metadataSlice.actions;\n\nexport default metadataSlice.reducer;\n","import { CollectionTokenInfo } from '@airswap/types';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { ethers } from 'ethers';\n\nimport { AppDispatch, RootState } from '../../store';\nimport { getProtocolFee } from './metadataApi';\nimport { setCollectionTokens } from './metadataSlice';\n\nexport const fetchProtocolFee = createAsyncThunk<\nnumber,\n{\n  provider: ethers.providers.BaseProvider;\n  chainId: number;\n}\n>('metadata/fetchProtocolFee', async ({ provider, chainId }) => {\n  try {\n    return getProtocolFee(chainId, provider);\n  } catch {\n    console.error('Error getting protocol fee from contract, defaulting to 7.');\n    return 7;\n  }\n});\n\nexport const addCollectionTokenInfo = (tokenInfo: CollectionTokenInfo) => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { collectionTokens } = getState().metadata;\n\n  dispatch(setCollectionTokens({\n    ...collectionTokens,\n    [tokenInfo.id]: tokenInfo,\n  }));\n};\n","import { Web3Provider } from '@ethersproject/providers';\n\nimport { rpcUrls } from '../constants/rpc';\n\nlet cachedLibrary: Record<number, Web3Provider> = {};\n\nexport const setCachedLibrary = (provider: Web3Provider, chainId: number): Web3Provider => {\n  if (!cachedLibrary[chainId]) {\n    cachedLibrary[chainId] = provider;\n  }\n  return cachedLibrary[chainId];\n};\n\nexport const clearedCachedLibrary = (): void => {\n  cachedLibrary = {};\n};\n\nexport const getLibrary = (chainId: number): Web3Provider => cachedLibrary[chainId];\n\nexport const getRpcUrl = (chainId: number): string | undefined => {\n  const rpcUrl = rpcUrls[chainId];\n\n  if (!rpcUrl) {\n    console.error(\n      `No rpc url found for chainId ${chainId}, did you setup your .env correctly?`,\n    );\n\n    return undefined;\n  }\n\n  return rpcUrl;\n};\n","import { useMemo } from 'react';\n\nimport { BaseProvider } from '@ethersproject/providers/src.ts/base-provider';\nimport { useWeb3React } from '@web3-react/core';\nimport { getDefaultProvider } from 'ethers';\n\nimport { getRpcUrl } from '../helpers/ethers';\n\n// Hook for getting library from connected wallet or from rpc url, this way you can still use it in ethers.js methods\n\nconst useDefaultLibrary = (chainId?: number): BaseProvider | undefined => {\n  const { provider, chainId: providerChainId } = useWeb3React();\n\n  return useMemo(() => {\n    if (!chainId || (provider && chainId === providerChainId)) {\n      return provider;\n    }\n\n    return getDefaultProvider(getRpcUrl(chainId));\n  }, [provider, chainId]);\n};\n\nexport default useDefaultLibrary;\n","import { useEffect, useMemo, useState } from 'react';\n\nimport { CollectionTokenInfo } from '@airswap/types';\n\nimport { getCollectionToken } from '../entities/CollectionToken/CollectionTokenHelpers';\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport { addCollectionTokenInfo } from '../redux/stores/metadata/metadataActions';\nimport useDefaultLibrary from './useDefaultProvider';\n\nconst useCollectionTokens = (address: string, tokenIds: string[]): [CollectionTokenInfo[], boolean] => {\n  const { chainId } = useAppSelector((state) => state.config);\n  const { metadata } = useAppSelector(state => state);\n\n  const dispatch = useAppDispatch();\n  const library = useDefaultLibrary(chainId);\n\n  const [isContractCalled, setIsContractCalled] = useState(false);\n  const [isContractLoading, setIsContractLoading] = useState(true);\n  const [collectionTokens, setCollectionTokens] = useState<CollectionTokenInfo[]>([]);\n\n  const collectionTokensFromStore = useMemo(() => tokenIds\n    .filter(tokenId => !!metadata.collectionTokens[tokenId])\n    .map(tokenId => metadata.collectionTokens[tokenId]), [tokenIds, metadata.collectionTokens]);\n  const tokenIdsToFetch = tokenIds.filter(tokenId => !metadata.collectionTokens[tokenId]);\n\n  useEffect((): void => {\n    setIsContractCalled(false);\n    setCollectionTokens([]);\n  }, [tokenIds]);\n\n  useEffect((): void => {\n    if (!library || isContractCalled || !tokenIdsToFetch.length) {\n      return;\n    }\n\n    const callGetCollectionToken = async () => {\n      const results = await Promise.all(tokenIdsToFetch.map(tokenId => getCollectionToken(library, address, tokenId)));\n\n      results.forEach(result => {\n        if (result) {\n          dispatch(addCollectionTokenInfo(result));\n        }\n      });\n\n      const newCollectionTokens = results.filter(result => !!result) as CollectionTokenInfo[];\n      setCollectionTokens(newCollectionTokens);\n      setIsContractLoading(false);\n    };\n\n    setIsContractCalled(true);\n    setIsContractLoading(true);\n    callGetCollectionToken();\n  }, [\n    library,\n    address,\n    tokenIdsToFetch,\n    isContractCalled,\n  ]);\n\n  if (!tokenIdsToFetch.length) {\n    return [collectionTokensFromStore, false];\n  }\n\n  return [[...collectionTokensFromStore, ...collectionTokens], isContractLoading];\n};\n\nexport default useCollectionTokens;\n","import { useEffect, useState } from 'react';\n\nconst useScrollToBottom = (): boolean => {\n  const [scrolledToBottom, setIsScrolledToBottom] = useState(false);\n\n  const handleScroll = async () => {\n    const { scrollTop } = document.documentElement;\n    const { scrollHeight } = document.documentElement;\n    const { clientHeight } = document.documentElement;\n\n    setIsScrolledToBottom(scrollTop + clientHeight >= scrollHeight);\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return scrolledToBottom;\n};\n\nexport default useScrollToBottom;\n","import { Server, SuccessResponse } from '@airswap/libraries';\nimport {\n  FullOrder,\n  IndexedOrder,\n  OrderFilter,\n  OrderResponse,\n} from '@airswap/types';\nimport { SortField, SortOrder } from '@airswap/types/build/src/server';\n\nimport { INDEXER_ORDER_RESPONSE_TIME_MS } from '../../../constants/indexer';\n\nconst isPromiseFulfilledResult = <T>(result: any): result is PromiseFulfilledResult<T> => result && result.status === 'fulfilled' && 'value' in result;\n\nconst isOrderResponse = <T>(resource: any): resource is OrderResponse<T> => (resource && 'orders' in resource);\n\nconst isSuccessResponse = (response: any): response is SuccessResponse => response\n  && typeof response.message === 'string'\n  && !('code' in response);\n\nconst getUndefinedAfterTimeout = (time: number): Promise<undefined> => new Promise<undefined>((resolve) => {\n  setTimeout(() => resolve(undefined), time);\n});\n\nexport const getOrdersFromServer = async (server: Server, filter: OrderFilter): Promise<OrderResponse<FullOrder> | undefined> => {\n  const defaultFilter: Partial<OrderFilter> = {\n    sortField: SortField.NONCE,\n    sortOrder: SortOrder.DESC,\n  };\n\n  const filterWithDefaults: OrderFilter = {\n    ...defaultFilter,\n    ...filter,\n  };\n\n  try {\n    return await server.getOrders(filterWithDefaults);\n  } catch (e: any) {\n    console.error(\n      `[getOrdersFromServer] Order indexing failed for ${server.locator}`,\n      e.message || '',\n    );\n\n    return undefined;\n  }\n};\n\nexport const getServers = async (indexerUrls: string[]): Promise<Server[]> => {\n  const results: PromiseSettledResult<Server>[] = await Promise.allSettled(\n    indexerUrls.map((url) => Server.at(url)),\n  );\n\n  const fulfilledResults = results.filter(isPromiseFulfilledResult) as PromiseFulfilledResult<Server>[];\n\n  return fulfilledResults.map((result) => result.value);\n};\n\nconst addOrderHelper = (server: Server, order: FullOrder): Promise<SuccessResponse> => new Promise((resolve, reject) => {\n  server\n    .addOrder(order)\n    .then((response) => {\n      resolve(response);\n    })\n    .catch((e) => {\n      console.error(\n        `[addOrderHelper] Order indexing failed for ${server.locator}`,\n        e.message || '',\n      );\n      reject(e);\n    });\n});\n\nexport const sendOrderToIndexers = async (\n  order: FullOrder,\n  indexerUrls: string[],\n): Promise<boolean> => {\n  const servers = await getServers(indexerUrls);\n\n  if (!servers.length) {\n    console.error('[sendOrderToIndexers] No indexer servers provided');\n  }\n\n  const response = await Promise.any([\n    ...servers.map(server => addOrderHelper(server, order)),\n    getUndefinedAfterTimeout(INDEXER_ORDER_RESPONSE_TIME_MS),\n  ]);\n\n  return isSuccessResponse(response);\n};\n\nexport const getOrdersFromIndexers = async (filter: OrderFilter, indexerUrls: string[]): Promise<FullOrder[]> => {\n  if (!indexerUrls.length) {\n    console.error('[getOrdersFromIndexers] No indexer urls provided');\n  }\n\n  const servers = await getServers(indexerUrls);\n\n  const responses = await Promise.all(\n    servers.map(server => Promise.race([\n      getOrdersFromServer(server, filter),\n      getUndefinedAfterTimeout(INDEXER_ORDER_RESPONSE_TIME_MS),\n    ])),\n  );\n\n  const orderResponses = responses.filter(isOrderResponse<FullOrder>);\n\n  if (orderResponses.length === 0) {\n    console.error('[getOrdersFromIndexers] No order responses received');\n\n    throw new Error('No order responses received');\n  }\n\n  const indexedOrders: Record<string, IndexedOrder<FullOrder>> = orderResponses\n    .reduce((total, orderResponse) => ({\n      ...total,\n      ...orderResponse.orders,\n    }), {});\n\n  return Object.values(indexedOrders).map(indexedOrder => indexedOrder.order);\n};\n","export const INDEXER_ORDER_RESPONSE_TIME_MS = 4000;\nexport const INDEXER_ORDERS_OFFSET = 16;\n","export enum ToastType {\n  deny = 'deny',\n  fail = 'fail',\n  info = 'info',\n  pending = 'pending',\n  success = 'success',\n  warning = 'warning',\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { Toast } from '../../../entities/Toast/Toast';\n\ninterface ToastsState {\n  toasts: Toast[];\n  lastToastActionButtonIdClicked?: string;\n}\n\nconst initialState: ToastsState = {\n  toasts: [],\n};\n\nconst toastsSlice = createSlice({\n  name: 'toasts',\n  initialState,\n  reducers: {\n    setLastToastActionButtonIdClicked: (state, action: PayloadAction<string | undefined>): ToastsState => ({\n      ...state,\n      lastToastActionButtonIdClicked: action.payload,\n    }),\n    setToasts: (state, action: PayloadAction<Toast[]>): ToastsState => ({\n      ...state,\n      toasts: action.payload,\n    }),\n  },\n});\n\nexport const { setLastToastActionButtonIdClicked, setToasts } = toastsSlice.actions;\n\nexport default toastsSlice.reducer;\n","import { Toast } from '../../../entities/Toast/Toast';\nimport { ToastType } from '../../../types/ToastType';\nimport { AppDispatch, RootState } from '../../store';\nimport { setToasts } from './toastsSlice';\n\nexport const addToast = (newToast: Toast) => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { toasts } = getState().toasts;\n\n  const newToasts = [newToast, ...toasts].reduce((total, toast, index) => {\n    const amountOfNonWillAutomaticallyHide = total.filter(t => !t.willAutomaticallyHide).length;\n\n    const updatedToast = {\n      ...toast,\n      ...(index > 2 && toast.willAutomaticallyHide && { isHidden: true }),\n      ...(amountOfNonWillAutomaticallyHide > 2 && { isHidden: true }),\n    };\n\n    return [\n      ...total,\n      updatedToast,\n    ];\n  }, [] as Toast[]);\n\n  dispatch(setToasts(newToasts));\n};\n\nexport const hideToast = (toastId: string) => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { toasts } = getState().toasts;\n\n  const newToast = toasts.find(toast => toast.id === toastId);\n\n  if (!newToast || newToast.isHidden) {\n    return;\n  }\n\n  const index = toasts.findIndex(toast => toast.id === toastId);\n  const updatedToast = { ...newToast, isHidden: true };\n  const updatedToasts = [...toasts];\n  updatedToasts.splice(index, 1, updatedToast);\n\n  dispatch(setToasts(updatedToasts));\n};\n\nexport const removeHiddenToasts = () => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { toasts } = getState().toasts;\n\n  if (!toasts.some(toast => toast.isHidden)) {\n    return;\n  }\n\n  dispatch(setToasts([...toasts].filter(toast => !toast.isHidden)));\n};\n\nexport const addUserRejectedToast = () => async (dispatch: AppDispatch): Promise<void> => {\n  dispatch(addToast({\n    type: ToastType.deny,\n    id: crypto.randomUUID(),\n    title: 'User rejected request',\n    willAutomaticallyHide: true,\n  }));\n};\n\nexport const addGetOrderFailedToast = () => async (dispatch: AppDispatch): Promise<void> => {\n  dispatch(addToast({\n    type: ToastType.fail,\n    id: crypto.randomUUID(),\n    title: 'Server error',\n    text: 'Failed to get orders from indexers',\n    willAutomaticallyHide: true,\n  }));\n};\n\nexport const addInfoToast = (title: string, text: string) => async (dispatch: AppDispatch): Promise<void> => {\n  dispatch(addToast({\n    type: ToastType.info,\n    id: crypto.randomUUID(),\n    title,\n    text,\n    willAutomaticallyHide: true,\n  }));\n};\n","import { FullOrder } from '@airswap/types';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { INDEXER_ORDERS_OFFSET } from '../../../constants/indexer';\nimport { getCollectionOrders } from './collectionApi';\n\nexport interface CollectionState {\n  hasServerError: boolean;\n  isTotalOrdersReached: boolean;\n  offset: number;\n  orders: FullOrder[];\n  isLoading: boolean;\n}\n\nconst initialState: CollectionState = {\n  hasServerError: false,\n  isTotalOrdersReached: false,\n  offset: 0,\n  orders: [],\n  isLoading: false,\n};\n\nexport const collectionSlice = createSlice({\n  name: 'collection',\n  initialState,\n  reducers: {\n    reset: (): CollectionState => ({\n      ...initialState,\n    }),\n    setOffset: (state, action: PayloadAction<number>): CollectionState => ({\n      ...state,\n      offset: action.payload,\n    }),\n  },\n  extraReducers: (builder) => {\n    builder.addCase(getCollectionOrders.fulfilled, (state, action: PayloadAction<FullOrder[]>): CollectionState => {\n      const newOrders = [\n        ...state.orders,\n        ...action.payload,\n      ];\n      const isTotalOrdersReached = action.payload.length < INDEXER_ORDERS_OFFSET;\n\n      return {\n        ...state,\n        isLoading: false,\n        isTotalOrdersReached,\n        orders: newOrders,\n      };\n    });\n    builder.addCase(getCollectionOrders.pending, (state): CollectionState => ({\n      ...state,\n      isLoading: true,\n    }));\n    builder.addCase(getCollectionOrders.rejected, (state): CollectionState => ({\n      ...state,\n      hasServerError: true,\n      isTotalOrdersReached: true,\n      isLoading: false,\n    }));\n  },\n});\n\nexport const {\n  reset,\n  setOffset,\n} = collectionSlice.actions;\n\nexport default collectionSlice.reducer;\n","import { FullOrder, OrderFilter } from '@airswap/types';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { AppThunkApiConfig } from '../../store';\nimport { getOrdersFromIndexers } from '../indexer/indexerHelpers';\nimport { addGetOrderFailedToast } from '../toasts/toastsActions';\nimport { setOffset } from './collectionSlice';\n\nexport const getCollectionOrders = createAsyncThunk<\nFullOrder[],\nPick<OrderFilter, 'limit' | 'offset' | 'excludeNonces'>,\nAppThunkApiConfig\n>('collection/getCollectionOrders', async (filter, { dispatch, getState }) => {\n  const { config, indexer } = getState();\n\n  const { collectionToken, currencyToken } = config;\n\n  dispatch(setOffset(filter.limit + filter.offset));\n\n  try {\n    return await getOrdersFromIndexers({\n      ...filter,\n      signerTokens: [collectionToken],\n      senderTokens: [currencyToken],\n    }, indexer.urls);\n  } catch {\n    dispatch(addGetOrderFailedToast());\n\n    throw new Error('Failed to get orders');\n  }\n});\n","const getListCallToActionText = (searchValue: string, userHasTokens: boolean, hasServerError: boolean): string => {\n  if (hasServerError) {\n    return 'Unable to fetch listings.';\n  }\n\n  if (searchValue.length) {\n    return 'No listing results. Try another search term.';\n  }\n\n  if (userHasTokens) {\n    return 'No active listings. List a token.';\n  }\n\n  return 'No active listings.';\n};\n\nexport default getListCallToActionText;\n","import React, { FC } from 'react';\n\nimport './CollectionPortrait.scss';\n\ninterface CollectionPortraitProps {\n  backgroundImage: string;\n  subTitle: string;\n  title: string;\n  className?: string;\n}\n\nconst CollectionPortrait: FC<CollectionPortraitProps> = ({\n  backgroundImage,\n  title,\n  subTitle,\n  className = '',\n}) => (\n  <div\n    style={{ backgroundImage: `url(\"${backgroundImage}\")` }}\n    className={`collection-portrait ${className}`}\n  >\n    <h2 className=\"collection-portrait__sub-title\">{subTitle}</h2>\n    <h1 className=\"collection-portrait__title\">{title}</h1>\n  </div>\n);\n\nexport default CollectionPortrait;\n","import React, {\n  FC,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { TokenInfo } from '@airswap/types';\n\nimport SearchInput from '../../../../components/SearchInput/SearchInput';\nimport { INDEXER_ORDERS_OFFSET } from '../../../../constants/indexer';\nimport OrdersContainer from '../../../../containers/OrdersContainer/OrdersContainer';\nimport { filterCollectionTokenBySearchValue } from '../../../../entities/CollectionToken/CollectionTokenHelpers';\nimport useCollectionTokens from '../../../../hooks/useCollectionTokens';\nimport useScrollToBottom from '../../../../hooks/useScrollToBottom';\nimport { useAppDispatch, useAppSelector } from '../../../../redux/hooks';\nimport { getCollectionOrders } from '../../../../redux/stores/collection/collectionApi';\nimport { reset } from '../../../../redux/stores/collection/collectionSlice';\nimport getListCallToActionText from '../../helpers/getListCallToActionText';\nimport CollectionPortrait from '../CollectionPortrait/CollectionPortrait';\n\ninterface ConnectedCollectionWidgetProps {\n  currencyTokenInfo: TokenInfo;\n  className?: string;\n}\n\nconst ConnectedCollectionWidget: FC<ConnectedCollectionWidgetProps> = ({ currencyTokenInfo, className = '' }) => {\n  const dispatch = useAppDispatch();\n\n  const scrolledToBottom = useScrollToBottom();\n  const { collectionImage, collectionToken, collectionName } = useAppSelector((state) => state.config);\n  const { tokens: userTokens } = useAppSelector((state) => state.balances);\n  const {\n    hasServerError,\n    isLoading,\n    isTotalOrdersReached,\n    offset,\n    orders,\n  } = useAppSelector((state) => state.collection);\n\n  const [searchValue, setSearchValue] = useState<string>('');\n\n  const getOrders = () => {\n    if (isLoading || isTotalOrdersReached) {\n      return;\n    }\n\n    dispatch(getCollectionOrders({\n      offset,\n      limit: INDEXER_ORDERS_OFFSET,\n    }));\n  };\n\n  useEffect((): () => void => {\n    getOrders();\n\n    return () => dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    if (scrolledToBottom) {\n      getOrders();\n    }\n  }, [scrolledToBottom]);\n\n  const tokenIds = useMemo(() => orders.map(order => order.signer.id), [orders]);\n  const [tokens] = useCollectionTokens(collectionToken, tokenIds);\n  const filteredOrders = useMemo(() => (\n    orders.filter(order => {\n      const orderToken = tokens.find(token => token.id === +order.signer.id);\n\n      return orderToken ? filterCollectionTokenBySearchValue(orderToken, searchValue) : true;\n    })), [orders, tokens, searchValue]);\n  const listCallToActionText = getListCallToActionText(searchValue, !!userTokens.length, hasServerError);\n\n  return (\n    <div className={`collection-widget ${className}`}>\n      <CollectionPortrait\n        backgroundImage={collectionImage}\n        subTitle=\"Collection\"\n        title={collectionName}\n        className=\"collection-widget__portrait\"\n      />\n      <div className=\"collection-widget__content\">\n        <SearchInput\n          placeholder=\"Search Listings\"\n          onChange={e => setSearchValue(e.target.value)}\n          value={searchValue || ''}\n          className=\"collection-widget__search-input\"\n        />\n        <h2 className=\"collection-widget__subtitle\">\n          {searchValue ? 'Search results' : 'All listings'}\n        </h2>\n        <OrdersContainer\n          hasListCallToActionButton={!!userTokens.length && !hasServerError}\n          isEndOfOrders={isTotalOrdersReached}\n          isLoading={isLoading || offset === 0}\n          currencyTokenInfo={currencyTokenInfo}\n          listCallToActionText={listCallToActionText}\n          orders={filteredOrders}\n          tokens={tokens}\n          className=\"collection-widget__nfts-container\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ConnectedCollectionWidget;\n","import React, { FC } from 'react';\n\nimport { useAppSelector } from '../../../../redux/hooks';\nimport CollectionPortrait from '../CollectionPortrait/CollectionPortrait';\n\ninterface DisconnectedCollectionWidgetProps {\n  className?: string;\n}\n\nconst DisconnectedCollectionWidget: FC<DisconnectedCollectionWidgetProps> = ({ className = '' }) => {\n  const { collectionImage, collectionName } = useAppSelector((state) => state.config);\n\n  return (\n    <div className={`collection-widget ${className}`}>\n      <CollectionPortrait\n        backgroundImage={collectionImage}\n        subTitle=\"Collection\"\n        title={collectionName}\n        className=\"collection-widget__portrait\"\n      />\n    </div>\n  );\n};\n\nexport default DisconnectedCollectionWidget;\n","import React, { FC } from 'react';\n\nimport { useAppSelector } from '../../redux/hooks';\nimport ConnectedCollectionWidget from './subcomponents/ConnectedCollectionWidget/ConnectedCollectionWidget';\nimport DisconnectedCollectionWidget from './subcomponents/DisconnectedCollectionWidget/DisconnectedCollectionWidget';\n\nimport './CollectionWidget.scss';\n\nconst CollectionWidget: FC = () => {\n  const { currencyTokenInfo } = useAppSelector((state) => state.metadata);\n  const { isInitialized } = useAppSelector((state) => state.indexer);\n\n  if (currencyTokenInfo && isInitialized) {\n    return (\n      <ConnectedCollectionWidget\n        currencyTokenInfo={currencyTokenInfo}\n      />\n    );\n  }\n\n  return <DisconnectedCollectionWidget />;\n};\n\nexport default CollectionWidget;\n","import React, { FC } from 'react';\n\nimport Helmet from '../../compositions/Helmet/Helmet';\nimport Page from '../../compositions/Page/Page';\nimport CollectionWidget from '../../widgets/CollectionWidget/CollectionWidget';\n\nimport './CollectionPage.scss';\n\nconst CollectionPage: FC = () => (\n  <Page\n    className=\"collection-page\"\n    contentClassName=\"collection-page__content\"\n  >\n    <Helmet title=\"All listings\" />\n    <CollectionWidget />\n  </Page>\n);\n\nexport default CollectionPage;\n","import { FC, ReactElement } from 'react';\n\nimport { chainNames } from '@airswap/constants';\n\nimport LoadingSpinner from '../../components/LoadingSpinner/LoadingSpinner';\nimport { useAppSelector } from '../../redux/hooks';\n\nimport './DebugWidget.scss';\n\ninterface DebugWidgetProps {\n  className?: string;\n}\n\nconst DebugWidget: FC<DebugWidgetProps> = ({ className = '' }): ReactElement => {\n  const {\n    isLoadingCollectionTokenKind,\n    isLoadingCurrencyTokenKind,\n    chainId,\n    collectionToken,\n    collectionTokenKind,\n    currencyToken,\n    currencyTokenKind,\n  } = useAppSelector(state => state.config);\n\n  const isLoading = isLoadingCollectionTokenKind || isLoadingCurrencyTokenKind;\n\n  if (isLoading) {\n    return (\n      <div className={`debug-widget ${className}`}>\n        <h1 className=\"debug-widget__title\">Debug</h1>\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`debug-widget ${className}`}>\n      <h1 className=\"debug-widget__title\">Debug</h1>\n      <p className=\"debug-widget__intro\">Your .env was not setup properly:</p>\n      <ul>\n        {!collectionToken && <li>REACT_APP_COLLECTION_TOKEN not set</li>}\n        {(collectionToken && !collectionTokenKind) && <li>{`REACT_APP_COLLECTION_TOKEN ${collectionToken} on ${chainNames[chainId]} is not a valid ERC721 or ERC1155 token`}</li>}\n        {!currencyToken && <li>REACT_APP_CURRENCY_TOKEN not set</li>}\n        {(currencyToken && !currencyTokenKind) && <li>{`REACT_APP_CURRENCY_TOKEN ${currencyToken} on ${chainNames[chainId]} is not a valid ERC20 token`}</li>}\n      </ul>\n    </div>\n  );\n};\n\nexport default DebugWidget;\n","import React, { FC } from 'react';\n\nimport Helmet from '../../compositions/Helmet/Helmet';\nimport DebugWidget from '../../widgets/DebugWidget/DebugWidget';\n\nconst DebugPage: FC = () => (\n  <div className=\"debug-page\">\n    <Helmet title=\"Debugger\" />\n    <DebugWidget />\n  </div>\n);\n\nexport default DebugPage;\n","import { FullOrder, OrderFilter } from '@airswap/types';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { AppThunkApiConfig } from '../../store';\nimport { getOrdersFromIndexers } from '../indexer/indexerHelpers';\nimport { addGetOrderFailedToast } from '../toasts/toastsActions';\n\nexport const getUserOrders = createAsyncThunk<\nFullOrder[],\nOrderFilter,\nAppThunkApiConfig\n>('listNft/getUserOrders', async (filter, { dispatch, getState }) => {\n  const { indexer } = getState();\n\n  try {\n    return await getOrdersFromIndexers(filter, indexer.urls);\n  } catch {\n    dispatch(addGetOrderFailedToast());\n\n    throw new Error('Failed to get orders');\n  }\n});\n","import {\n  CancelOrderTransaction,\n  Erc20ApprovalTransaction,\n  NftApprovalTransaction,\n  OrderTransaction,\n  SubmittedTransaction,\n} from './SubmittedTransaction';\n\nexport const isNftApprovalTransaction = (transaction: SubmittedTransaction): transaction is NftApprovalTransaction => transaction.type === 'nft-approval';\nexport const isErc20ApprovalTransaction = (transaction: SubmittedTransaction): transaction is Erc20ApprovalTransaction => transaction.type === 'erc20-approval';\nexport const isOrderTransaction = (transaction: SubmittedTransaction): transaction is OrderTransaction => transaction.type === 'order';\nexport const isCancelOrderTransaction = (transaction: SubmittedTransaction): transaction is CancelOrderTransaction => transaction.type === 'cancel-order';\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport {\n  CancelOrderTransaction,\n  Erc20ApprovalTransaction,\n  NftApprovalTransaction,\n  OrderTransaction,\n  SubmittedTransaction,\n} from '../../../entities/SubmittedTransaction/SubmittedTransaction';\nimport {\n  isCancelOrderTransaction,\n  isErc20ApprovalTransaction,\n  isNftApprovalTransaction,\n  isOrderTransaction,\n} from '../../../entities/SubmittedTransaction/SubmittedTransactionHelpers';\nimport { RootState } from '../../store';\n\ninterface TransactionsState {\n  isLoading: boolean;\n  transactions: SubmittedTransaction[];\n}\n\nconst initialState: TransactionsState = {\n  isLoading: false,\n  transactions: [],\n};\n\nconst transactionsSlice = createSlice({\n  name: 'transactions',\n  initialState,\n  reducers: {\n    setIsLoading: (state, action: PayloadAction<boolean>) => ({\n      ...state,\n      isLoading: action.payload,\n    }),\n    setTransactions: (state, action: PayloadAction<SubmittedTransaction[]>) => ({\n      ...state,\n      transactions: action.payload,\n    }),\n  },\n});\n\nexport const {\n  setIsLoading,\n  setTransactions,\n} = transactionsSlice.actions;\n\nexport const selectErc20ApprovalTransactions = (state: RootState): Erc20ApprovalTransaction[] => state.transactions.transactions\n  .filter(isErc20ApprovalTransaction);\n\nexport const selectNftApprovalTransactions = (state: RootState): NftApprovalTransaction[] => state.transactions.transactions\n  .filter(isNftApprovalTransaction);\n\nexport const selectCancelOrderTransactions = (state: RootState): CancelOrderTransaction[] => state.transactions.transactions\n  .filter(isCancelOrderTransaction);\n\nexport const selectOrderTransactions = (state: RootState): OrderTransaction[] => state.transactions.transactions\n  .filter(isOrderTransaction);\n\nexport default transactionsSlice.reducer;\n","export enum ExpiryTimeUnit {\n  minutes = 'minutes',\n  hours = 'hours',\n  days = 'days',\n  weeks = 'weeks',\n}\n","import { ExpiryTimeUnit } from '../types/ExpiryTimeUnit';\n\nconst msPerMinute = 60000;\n\nexport const expiryAmounts: Record<ExpiryTimeUnit, number> = {\n  [ExpiryTimeUnit.minutes]: msPerMinute,\n  [ExpiryTimeUnit.hours]: 60 * msPerMinute,\n  [ExpiryTimeUnit.days]: 24 * 60 * msPerMinute,\n  [ExpiryTimeUnit.weeks]: 7 * 24 * 60 * msPerMinute,\n};\n","import { Order } from '@airswap/types';\n\nexport enum SubmittedTransactionType {\n  erc20Approval = 'erc20-approval',\n  nftApproval = 'nft-approval',\n  order = 'order',\n  cancelOrder = 'cancel-order',\n}\n\nexport enum SubmittedTransactionStatus {\n  processing = 'processing',\n  succeeded = 'succeeded',\n  failed = 'failed',\n}\n\nexport interface Transaction {\n  type: SubmittedTransactionType;\n  hash: string;\n  status: SubmittedTransactionStatus;\n  timestamp: number;\n}\n\nexport interface Erc20ApprovalTransaction extends Transaction {\n  type: SubmittedTransactionType.erc20Approval,\n}\n\nexport interface NftApprovalTransaction extends Transaction {\n  type: SubmittedTransactionType.nftApproval,\n  tokenId: string;\n}\n\nexport interface OrderTransaction extends Transaction {\n  type: SubmittedTransactionType.order,\n  order: Order;\n}\n\nexport interface CancelOrderTransaction extends Transaction {\n  type: SubmittedTransactionType.cancelOrder,\n  order: Order;\n}\n\nexport type SubmittedTransaction =\n  Erc20ApprovalTransaction\n  | NftApprovalTransaction\n  | OrderTransaction\n  | CancelOrderTransaction;\n","import { EthersProjectError } from './ethersProjectError';\nimport { NumericFaultError } from './numericFaultError';\nimport { RpcError } from './rpcError';\nimport { RpcSignRejectedError } from './rpcSignRejectedError';\n\nexport enum AppErrorType {\n  approveCallerIsNotOwner = 'approveCallerIsNotOwner',\n  arithmeticUnderflow = 'arithmeticUnderflow',\n  chainDisconnected = 'chainDisconnected',\n  disconnected = 'disconnected',\n  expiryPassed = 'expiryPassed',\n  invalidAddress = 'invalidAddress',\n  invalidInput = 'invalidInput',\n  invalidRequest = 'invalidRequest',\n  invalidValue = 'invalidValue',\n  nonceAlreadyUsed = 'nonceAlreadyUsed',\n  orderIndexFailed = 'orderIndexFailed',\n  rejectedByUser = 'rejectedByUser',\n  senderAllowanceLow = 'senderAllowanceLow',\n  senderBalanceLow = 'senderBalanceLow',\n  signerAllowanceLow = 'signerAllowanceLow',\n  signerBalanceLow = 'signerBalanceLow',\n  signatureInvalid = 'signatureInvalid',\n  unauthorized = 'unauthorized',\n  unknownError = 'unknownError',\n  unpredictableGasLimit = 'unpredictableGasLimit',\n  unsupportedMethod = 'unsupportedMethod',\n}\n\nexport type AppError = {\n  argument?: string;\n  error?:\n  | RpcError\n  | RpcSignRejectedError\n  | EthersProjectError\n  | NumericFaultError;\n  type: AppErrorType;\n};\n\nexport const isAppError = (x: any): x is AppError => (\n  typeof x === 'object'\n    && x !== null\n    && 'type' in x\n    && Object.values(AppErrorType).includes(x.type)\n);\n\nexport function transformToAppError(\n  type: AppErrorType,\n  error?: AppError['error'],\n  argument?: string,\n): AppError {\n  return {\n    argument,\n    error,\n    type,\n  };\n}\n","import { useMemo } from 'react';\n\nimport { NftApprovalTransaction } from '../entities/SubmittedTransaction/SubmittedTransaction';\nimport { useAppSelector } from '../redux/hooks';\nimport { selectNftApprovalTransactions } from '../redux/stores/transactions/transactionsSlice';\n\nconst useApproveNftTransaction = (hash?: string): NftApprovalTransaction | undefined => {\n  const transactions = useAppSelector(selectNftApprovalTransactions);\n\n  return useMemo(() => {\n    if (!transactions.length || !hash) {\n      return undefined;\n    }\n\n    return transactions.find(transaction => transaction.hash === hash);\n  }, [transactions, hash]);\n};\n\nexport default useApproveNftTransaction;\n","import { useEffect, useState } from 'react';\n\nimport { CollectionTokenInfo } from '@airswap/types';\nimport { Web3Provider } from '@ethersproject/providers';\nimport { useWeb3React } from '@web3-react/core';\n\nimport { getCollectionToken } from '../entities/CollectionToken/CollectionTokenHelpers';\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport { addCollectionTokenInfo } from '../redux/stores/metadata/metadataActions';\n\nconst useCollectionToken = (address: string, tokenId: string): [CollectionTokenInfo | undefined, boolean] => {\n  const dispatch = useAppDispatch();\n  const { provider } = useWeb3React<Web3Provider>();\n  const { collectionTokens } = useAppSelector(state => state.metadata);\n\n  const [isContractCalled, setIsContractCalled] = useState(false);\n  const [isContractLoading, setIsContractLoading] = useState(true);\n  const [collectionToken, setCollectionToken] = useState<CollectionTokenInfo>();\n  const collectionTokenFromStore = collectionTokens[tokenId];\n\n  useEffect((): void => {\n    setIsContractCalled(false);\n    setCollectionToken(undefined);\n  }, [tokenId]);\n\n  useEffect((): void => {\n    if (!provider || isContractCalled || collectionTokenFromStore) {\n      return;\n    }\n\n    const callGetCollectionToken = async () => {\n      const result = await getCollectionToken(provider, address, tokenId);\n\n      if (result) {\n        dispatch(addCollectionTokenInfo(result));\n      }\n\n      setCollectionToken(result);\n      setIsContractLoading(false);\n    };\n\n    setIsContractCalled(true);\n    setIsContractLoading(true);\n    callGetCollectionToken();\n  }, [\n    provider,\n    address,\n    tokenId,\n    isContractCalled,\n  ]);\n\n  if (collectionTokenFromStore) {\n    return [collectionTokenFromStore, false];\n  }\n\n  return [collectionToken, isContractLoading];\n};\n\nexport default useCollectionToken;\n","export enum IndexedOrderResult {\n  success = 'success',\n  failed = 'failed',\n}\n","import { useEffect, useState } from 'react';\n\nimport { AppError, AppErrorType } from '../errors/appError';\nimport { useAppSelector } from '../redux/hooks';\nimport { IndexedOrderResult } from '../types/IndexedOrderResult';\n\nconst useIndexedOrderResult = (orderNonce?: string): [IndexedOrderResult | undefined, AppError | undefined] => {\n  const { lastSentOrder, lastFailedOrder } = useAppSelector(state => state.indexer);\n  const [result, setResult] = useState<IndexedOrderResult | undefined>(undefined);\n  const indexerError: AppError | undefined = result === IndexedOrderResult.failed ? { type: AppErrorType.orderIndexFailed } : undefined;\n\n  useEffect(() => {\n    if (!orderNonce) {\n      setResult(undefined);\n\n      return;\n    }\n\n    if (lastSentOrder?.nonce === orderNonce) {\n      setResult(IndexedOrderResult.success);\n    }\n\n    if (lastFailedOrder?.nonce === orderNonce) {\n      setResult(IndexedOrderResult.failed);\n    }\n  }, [orderNonce, lastSentOrder, lastFailedOrder]);\n\n  return [result, indexerError];\n};\n\nexport default useIndexedOrderResult;\n","import { useMemo } from 'react';\n\nconst useInsufficientAmount = (\n  amount: string,\n): boolean => useMemo(() => !amount.length\n      || parseFloat(amount) === 0\n      || amount === '.', [amount]);\n\nexport default useInsufficientAmount;\n","import { AppError, AppErrorType, transformToAppError } from './appError';\n\n// These errors come from the airswap swap contracts.\nexport type SwapError =\n  | 'OrderExpired'\n  | 'SignatureInvalid'\n  | 'SignerAllowanceLow'\n  | 'SignerBalanceLow'\n  | 'SenderAllowanceLow'\n  | 'SenderBalanceLow'\n  | 'NonceAlreadyUsed'\n  | 'Unauthorized'\n  | 'UNPREDICTABLE_GAS_LIMIT';\n\nexport const swapErrors: SwapError[] = [\n  'OrderExpired',\n  'SignatureInvalid',\n  'SignerAllowanceLow',\n  'SignerBalanceLow',\n  'SenderAllowanceLow',\n  'SenderBalanceLow',\n  'NonceAlreadyUsed',\n  'Unauthorized',\n  'UNPREDICTABLE_GAS_LIMIT',\n];\n\nexport const isSwapError = (error: any): error is SwapError => swapErrors.includes(error || error.code);\n\nexport const transformSwapErrorToAppError = (error: SwapError): AppError => {\n  if (error === 'OrderExpired') {\n    return transformToAppError(AppErrorType.expiryPassed);\n  }\n\n  if (error === 'NonceAlreadyUsed') {\n    return transformToAppError(AppErrorType.nonceAlreadyUsed);\n  }\n\n  if (error === 'SenderAllowanceLow') {\n    return transformToAppError(AppErrorType.senderAllowanceLow);\n  }\n\n  if (error === 'SenderBalanceLow') {\n    return transformToAppError(AppErrorType.senderBalanceLow);\n  }\n\n  if (error === 'SignerAllowanceLow') {\n    return transformToAppError(AppErrorType.signerAllowanceLow);\n  }\n\n  if (error === 'SignerBalanceLow') {\n    return transformToAppError(AppErrorType.signerBalanceLow);\n  }\n\n  if (error === 'SignatureInvalid') {\n    return transformToAppError(AppErrorType.signatureInvalid);\n  }\n\n  if (error === 'Unauthorized') {\n    return transformToAppError(AppErrorType.unauthorized);\n  }\n\n  if (error === 'UNPREDICTABLE_GAS_LIMIT') {\n    return transformToAppError(AppErrorType.unpredictableGasLimit);\n  }\n\n  return transformToAppError(AppErrorType.unknownError);\n};\n","import { errorCodes } from 'eth-rpc-errors';\n\nimport { AppError, AppErrorType, transformToAppError } from './appError';\n\nexport interface RpcError {\n  code: number;\n  message?: any;\n  data?: any;\n  stack: string;\n}\n\nexport const isRpcError = (error: any): error is RpcError => (\n  typeof error === 'object'\n    && error !== null\n    && 'code' in error\n    && Object.values({ ...errorCodes.rpc, ...errorCodes.provider }).includes(\n      error.code,\n    )\n);\n\nexport const transformRpcErrorToAppError = (error: RpcError): AppError => {\n  if (error.code === 4001) {\n    return transformToAppError(AppErrorType.rejectedByUser, error);\n  }\n\n  if (error.code === 4100) {\n    return transformToAppError(AppErrorType.unauthorized, error);\n  }\n\n  if (error.code === 4200) {\n    return transformToAppError(AppErrorType.unsupportedMethod, error);\n  }\n\n  if (error.code === 4900) {\n    return transformToAppError(AppErrorType.disconnected, error);\n  }\n\n  if (error.code === 4901) {\n    return transformToAppError(AppErrorType.chainDisconnected, error);\n  }\n\n  if (error.code === -32000) {\n    return transformToAppError(AppErrorType.invalidInput, error);\n  }\n\n  if (error.code === -32600) {\n    return transformToAppError(AppErrorType.invalidRequest, error);\n  }\n\n  if (error.code === -32603) {\n    return transformToAppError(AppErrorType.approveCallerIsNotOwner, error);\n  }\n\n  // Add other errors from eth-rpc-errors if necessary.\n\n  return transformToAppError(AppErrorType.unknownError, error);\n};\n","import { AppError, AppErrorType, transformToAppError } from './appError';\nimport {\n  isEthersProjectError,\n  transformEthersProjectErrorToAppError,\n} from './ethersProjectError';\nimport {\n  isNumericFaultErrorError,\n  transformNumericFaultErrorErrorToAppError,\n} from './numericFaultError';\nimport { isRpcError, transformRpcErrorToAppError } from './rpcError';\nimport {\n  isRpcErrorWithSwapErrorCode,\n  transformRpcErrorWithSwapErrorCodeToAppError,\n} from './rpcErrorWithSwapErrorCode';\nimport {\n  isRpcSignRejectedError,\n  transformRpcSignRejectedErrorToAppError,\n} from './rpcSignRejectedError';\nimport { isSwapError, transformSwapErrorToAppError } from './swapError';\n\nconst transformUnknownErrorToAppError = (error: any): AppError => {\n  if (isRpcError(error)) {\n    return transformRpcErrorToAppError(error);\n  }\n\n  // Sometimes the RPC error is wrapped inside another error.\n  if (isRpcError(error?.error)) {\n    return transformRpcErrorToAppError(error.error);\n  }\n\n  if (isEthersProjectError(error)) {\n    return transformEthersProjectErrorToAppError(error);\n  }\n\n  if (isNumericFaultErrorError(error)) {\n    return transformNumericFaultErrorErrorToAppError(error);\n  }\n\n  if (isRpcSignRejectedError(error)) {\n    return transformRpcSignRejectedErrorToAppError(error);\n  }\n\n  if (isRpcErrorWithSwapErrorCode(error)) {\n    return transformRpcErrorWithSwapErrorCodeToAppError(error);\n  }\n\n  if (isSwapError(error)) {\n    return transformSwapErrorToAppError(error);\n  }\n\n  return transformToAppError(AppErrorType.unknownError, error);\n};\n\nexport default transformUnknownErrorToAppError;\n","import { AppError, AppErrorType, transformToAppError } from './appError';\n\n// @ethersproject's logger throws errors like this:\n\n// throwArgumentError(message: string, name: string, value: any): never {\n//   return this.throwError(message, Logger.errors.INVALID_ARGUMENT, {\n//     argument: name,\n//     value: value\n//   });\n// }\n\nexport interface EthersProjectError {\n  argument: string;\n  value: string;\n  code: 'INVALID_ARGUMENT';\n}\n\nexport const isEthersProjectError = (\n  error: any,\n): error is EthersProjectError => (\n  typeof error === 'object'\n    && error !== null\n    && 'argument' in error\n    && 'value' in error\n    && 'code' in error\n);\n\nexport const transformEthersProjectErrorToAppError = (\n  error: EthersProjectError,\n): AppError => {\n  if (error.argument === 'address') {\n    return transformToAppError(AppErrorType.invalidAddress, error, error.value);\n  }\n\n  if (error.argument === 'value') {\n    return transformToAppError(AppErrorType.invalidValue, error, error.value);\n  }\n\n  return transformToAppError(AppErrorType.unknownError, error);\n};\n","import { AppError, AppErrorType, transformToAppError } from './appError';\n\n// https://docs.ethers.io/v5/troubleshooting/errors/#help-NUMERIC_FAULT\n\n// Illegal operation with numeric values, like parsing a value with more decimals than the type:\n// utils.parseUnits(\"1.34\", 1);\n// [Error: fractional component exceeds decimals [ See: https://links.ethers.org/v5-errors-NUMERIC_FAULT ]] {\n//   code: 'NUMERIC_FAULT',\n//   fault: 'underflow',\n//   operation: 'parseFixed',\n//   reason: 'fractional component exceeds decimals'\n// }\n\nexport interface NumericFaultError {\n  code: 'NUMERIC_FAULT';\n  fault: string;\n  operation: string;\n  reason: string;\n  value?: number;\n}\n\nexport const isNumericFaultErrorError = (\n  error: any,\n): error is NumericFaultError => (\n  typeof error === 'object'\n    && error !== null\n    && 'code' in error\n    && 'fault' in error\n    && 'operation' in error\n    && 'reason' in error\n    && error.code === 'NUMERIC_FAULT'\n);\n\nexport const transformNumericFaultErrorErrorToAppError = (\n  error: NumericFaultError,\n): AppError => {\n  if (error.fault === 'underflow') {\n    return transformToAppError(\n      AppErrorType.arithmeticUnderflow,\n      error,\n      error.reason,\n    );\n  }\n\n  return transformToAppError(AppErrorType.unknownError, error);\n};\n","import { AppError, AppErrorType, transformToAppError } from './appError';\n\n// Another error format coming from ethersproject (yay), gets thrown when error rejects a transaction\n\nexport interface RpcSignRejectedError {\n  reason: string;\n  code: 'ACTION_REJECTED';\n  action: any;\n  from: string;\n  messageData: any;\n}\n\nexport const isRpcSignRejectedError = (\n  error: any,\n): error is RpcSignRejectedError => (\n  typeof error === 'object'\n    && error !== null\n    && 'code' in error\n    && error.code === 'ACTION_REJECTED'\n    && 'reason' in error\n);\n\nexport const transformRpcSignRejectedErrorToAppError = (\n  error: RpcSignRejectedError,\n): AppError =>\n  // For now we have only one error for this format. Might add more later.\n  // eslint-disable-next-line implicit-arrow-linebreak\n  transformToAppError(AppErrorType.rejectedByUser, error);\n","import { AppError } from './appError';\nimport {\n  SwapError,\n  swapErrors,\n  transformSwapErrorToAppError,\n} from './swapError';\n\n// An error with SwapError code where the real error code is in \"reason\", not \"code\". For example:\n// {\n//   reason: 'execution reverted: UNAUTHORIZED',\n//   code: 'UNPREDICTABLE_GAS_LIMIT', // It basically always says UNPREDICTABLE_GAS_LIMIT\n//   method: 'estimateGas',\n// }\n\ntype RpcErrorWithSwapErrorCode = {\n  code: SwapError;\n  method: string;\n  reason: string;\n  transaction: any;\n  error: {\n    code: number; // Found in \"eth-rpc-errors\";\n    data: any;\n    message: string;\n  };\n};\n\nexport const isRpcErrorWithSwapErrorCode = (\n  error: any,\n): error is RpcErrorWithSwapErrorCode => (\n  typeof error === 'object'\n    && 'code' in error\n    && 'method' in error\n    && 'reason' in error\n    && swapErrors.includes(error.code)\n);\n\nexport const transformRpcErrorWithSwapErrorCodeToAppError = (\n  error: RpcErrorWithSwapErrorCode,\n): AppError => {\n  const reasonError = swapErrors.find(\n    (swapError) => error.reason.indexOf(swapError) !== -1,\n  );\n  return transformSwapErrorToAppError(reasonError || error.code);\n};\n","import { TokenKinds } from '@airswap/constants';\nimport { Swap } from '@airswap/libraries';\nimport { FullOrder, TokenInfo } from '@airswap/types';\nimport { checkResultToErrors } from '@airswap/utils';\nimport erc20Contract from '@openzeppelin/contracts/build/contracts/ERC20.json';\nimport erc721Contract from '@openzeppelin/contracts/build/contracts/ERC721.json';\nimport erc1155Contract from '@openzeppelin/contracts/build/contracts/ERC1155.json';\nimport {\n  constants,\n  ContractTransaction,\n  ethers,\n  Transaction,\n} from 'ethers';\n\nimport { AppError } from '../../../errors/appError';\nimport { SwapError, transformSwapErrorToAppError } from '../../../errors/swapError';\nimport transformUnknownErrorToAppError from '../../../errors/transformUnknownErrorToAppError';\n\nconst erc20Interface = new ethers.utils.Interface(erc20Contract.abi);\nconst erc721Interface = new ethers.utils.Interface(erc721Contract.abi);\nconst erc1155Interface = new ethers.utils.Interface(erc1155Contract.abi);\n\nexport async function approveErc20Token(\n  tokenInfo: TokenInfo,\n  provider: ethers.providers.Web3Provider,\n  amount?: number,\n): Promise<Transaction> {\n  const contract = new ethers.Contract(\n    tokenInfo.address,\n    erc20Interface,\n    provider.getSigner(),\n  );\n\n  const approveAmount = amount || constants.MaxUint256.toNumber();\n\n  return contract.approve(\n    Swap.getAddress(provider.network.chainId),\n    approveAmount,\n  );\n}\n\nexport async function approveNftToken(\n  baseToken: string,\n  tokenId: string,\n  provider: ethers.providers.Web3Provider,\n  tokenKind: TokenKinds.ERC1155 | TokenKinds.ERC721,\n): Promise<Transaction> {\n  const contract = new ethers.Contract(\n    baseToken,\n    tokenKind === TokenKinds.ERC1155 ? erc1155Interface : erc721Interface,\n    provider.getSigner(),\n  );\n  return contract.approve(\n    Swap.getAddress(provider.network.chainId),\n    tokenId,\n  );\n}\n\nexport async function takeOrder(\n  order: FullOrder,\n  senderWallet: string,\n  provider: ethers.providers.Web3Provider,\n): Promise<ContractTransaction | AppError> {\n  try {\n    const { chainId } = provider.network;\n    const result = await Swap.getContract(provider.getSigner(), chainId).swap(\n      senderWallet,\n      '0',\n      order,\n    );\n\n    return result;\n  } catch (error: any) {\n    console.error(error);\n    return transformUnknownErrorToAppError(error);\n  }\n}\n\nexport async function cancelOrder(\n  orderNonce: string,\n  provider: ethers.providers.Web3Provider,\n): Promise<ContractTransaction | AppError> {\n  try {\n    const { chainId } = provider.network;\n    const result = await Swap.getContract(provider.getSigner(), chainId).cancel(\n      [orderNonce],\n    );\n\n    return result;\n  } catch (error: any) {\n    console.error(error);\n    return transformUnknownErrorToAppError(error);\n  }\n}\n\nexport async function checkOrder(\n  order: FullOrder,\n  senderWallet: string,\n  provider: ethers.providers.Web3Provider,\n): Promise<AppError[]> {\n  const { chainId } = provider.network;\n\n  const [count, checkErrors] = await Swap.getContract(provider.getSigner(), chainId).check(senderWallet, order);\n  const errors = (count && checkErrors) ? checkResultToErrors(checkErrors, count) as SwapError[] : [];\n\n  if (errors.length) {\n    console.error(errors);\n  }\n\n  return errors.map((error) => transformSwapErrorToAppError(error));\n}\n\nexport async function getNonceUsed(\n  order: FullOrder,\n  provider: ethers.providers.BaseProvider,\n): Promise<boolean> {\n  return Swap.getContract(provider, order.chainId).nonceUsed(\n    order.signer.wallet,\n    order.nonce,\n  );\n}\n\nexport async function getNftTokenApproved(\n  baseToken: string,\n  tokenId: string,\n  provider: ethers.providers.Web3Provider,\n  tokenKind: TokenKinds.ERC1155 | TokenKinds.ERC721,\n): Promise<boolean> {\n  try {\n    const contract = new ethers.Contract(\n      baseToken,\n      tokenKind === TokenKinds.ERC1155 ? erc1155Interface : erc721Interface,\n      provider.getSigner(),\n    );\n\n    const response = await contract.getApproved(tokenId);\n\n    return response === Swap.getAddress(5);\n  } catch (error: any) {\n    console.error(error);\n\n    return false;\n  }\n}\n\nexport async function getErc20TokenAllowance(\n  address: string,\n  account: string,\n  spenderAddress: string,\n  provider: ethers.providers.Web3Provider,\n): Promise<ethers.BigNumber> {\n  const contract = new ethers.Contract(\n    address,\n    erc20Interface,\n    provider.getSigner(),\n  );\n\n  return contract.allowance(account, spenderAddress);\n}\n","import { useEffect, useState } from 'react';\n\nimport { TokenKinds } from '@airswap/constants';\nimport { CollectionTokenInfo } from '@airswap/types';\nimport { Web3Provider } from '@ethersproject/providers';\nimport { useWeb3React } from '@web3-react/core';\n\nimport { isCollectionTokenInfo } from '../entities/CollectionToken/CollectionTokenHelpers';\nimport { getNftTokenApproved } from '../redux/stores/orders/ordersApi';\n\nconst useNftTokenApproval = (\n  tokenInfo: CollectionTokenInfo | undefined,\n  tokenId: string,\n): boolean => {\n  const { chainId, provider: library } = useWeb3React<Web3Provider>();\n  const [isApproved, setIsApproved] = useState(false);\n\n  useEffect((): () => void => {\n    let timer: NodeJS.Timeout;\n\n    if (\n      !tokenInfo\n      || !library\n      || !chainId\n      || !isCollectionTokenInfo(tokenInfo)\n    ) {\n      return () => clearTimeout(timer);\n    }\n\n    const tokenKind = tokenInfo.kind as TokenKinds;\n    if (tokenKind !== TokenKinds.ERC721 && tokenKind !== TokenKinds.ERC1155) {\n      console.error('[useNftTokenApproval]: Token is not ERC721 or ERC115');\n\n      return () => clearTimeout(timer);\n    }\n\n    const callGetNftTokenApproved = async () => {\n      const approved = await getNftTokenApproved(\n        tokenInfo.address,\n        tokenId,\n        library,\n        tokenKind,\n      );\n\n      setIsApproved(approved);\n    };\n\n    timer = setInterval(() => callGetNftTokenApproved(), 1000);\n\n    return () => clearInterval(timer);\n  }, [\n    tokenInfo,\n    tokenId,\n    chainId,\n    library,\n  ]);\n\n  return isApproved;\n};\n\nexport default useNftTokenApproval;\n","import { toAtomicString } from '@airswap/utils';\nimport { BigNumber } from 'bignumber.js';\n\n// This helper function is used to round the atomic string to the nearest possible decimal allowed.\n// To prevent the NUMERIC_FAULT error from bignumber.js\n\nconst toRoundedAtomicString = (value: string, decimals = 18): string => {\n  const roundedNumber = new BigNumber(value)\n    .multipliedBy(10 ** decimals)\n    .decimalPlaces(0, BigNumber.ROUND_UP)\n    .dividedBy(10 ** decimals)\n    .toString();\n\n  return toAtomicString(roundedNumber, decimals);\n};\n\nexport default toRoundedAtomicString;\n","import { Signature, UnsignedOrder } from '@airswap/types';\nimport { createOrderSignature as airswapCreateOrderSignature } from '@airswap/utils';\nimport { JsonRpcSigner } from '@ethersproject/providers/src.ts/json-rpc-provider';\n\nimport { AppError } from '../errors/appError';\nimport transformUnknownErrorToAppError from '../errors/transformUnknownErrorToAppError';\n\nexport const createOrderSignature = (\n  unsignedOrder: UnsignedOrder,\n  signer: JsonRpcSigner,\n  swapContract: string,\n  chainId: number,\n  // eslint-disable-next-line no-async-promise-executor\n): Promise<Signature | AppError> => new Promise<Signature | AppError>(async (resolve) => {\n  try {\n    const signature = await airswapCreateOrderSignature(\n      unsignedOrder,\n      // @ts-ignore\n      // Airswap library asking for incorrect VoidSigner. This will be fixed later.\n      signer,\n      swapContract,\n      chainId,\n    );\n    resolve(signature);\n  } catch (error: unknown) {\n    console.error(error);\n    resolve(transformUnknownErrorToAppError(error));\n  }\n});\n","import { FullOrder } from '@airswap/types';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { AppError } from '../../../errors/appError';\nimport { getUserOrders } from './listNftApi';\n\nexport interface ListNftState {\n  isLoadingUserOrders: boolean;\n  lastUserOrder?: FullOrder;\n  userOrders: FullOrder[];\n  error?: AppError;\n}\n\nconst lastUserOrderLocalStorageKey = 'airswap-marketplace/lastUserOrder';\nconst localStorageLastUserOrder = localStorage.getItem(lastUserOrderLocalStorageKey);\n\nconst initialState: ListNftState = {\n  ...(localStorageLastUserOrder && { lastUserOrder: JSON.parse(localStorageLastUserOrder) }),\n  isLoadingUserOrders: false,\n  userOrders: [],\n};\n\nexport const listNftSlice = createSlice({\n  name: 'make-otc',\n  initialState,\n  reducers: {\n    setUserOrder: (\n      state,\n      action: PayloadAction<FullOrder>,\n    ): ListNftState => {\n      localStorage.setItem(lastUserOrderLocalStorageKey, JSON.stringify(action.payload));\n\n      return {\n        ...state,\n        lastUserOrder: action.payload,\n      };\n    },\n    clearLastUserOrder: (state): ListNftState => ({\n      ...state,\n      lastUserOrder: undefined,\n    }),\n    setError: (\n      state,\n      action: PayloadAction<AppError | undefined>,\n    ): ListNftState => ({\n      ...state,\n      error: action.payload,\n    }),\n    reset: (): ListNftState => initialState,\n  },\n  extraReducers: (builder) => {\n    builder.addCase(getUserOrders.pending, (state): ListNftState => ({\n      ...state,\n      isLoadingUserOrders: true,\n    }));\n    builder.addCase(getUserOrders.rejected, (state): ListNftState => ({\n      ...state,\n      isLoadingUserOrders: false,\n    }));\n    builder.addCase(getUserOrders.fulfilled, (state, action): ListNftState => ({\n      ...state,\n      isLoadingUserOrders: false,\n      userOrders: action.payload,\n    }));\n  },\n});\n\nexport const {\n  setUserOrder,\n  clearLastUserOrder,\n  setError,\n  reset,\n} = listNftSlice.actions;\n\nexport default listNftSlice.reducer;\n","import { TokenKinds } from '@airswap/constants';\nimport { Swap } from '@airswap/libraries';\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\nimport { createOrder } from '@airswap/utils';\nimport { Web3Provider } from '@ethersproject/providers';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { nativeCurrencyAddress } from '../../../constants/nativeCurrency';\nimport { AppErrorType, isAppError } from '../../../errors/appError';\nimport toRoundedAtomicString from '../../../helpers/airswap/getRoundedAtomicString';\nimport { createOrderSignature } from '../../../helpers/createOrderSignature';\nimport { setError, setUserOrder } from './listNftSlice';\n\ninterface CreateOrderParams {\n  expiry: string;\n  library: Web3Provider;\n  protocolFee: number;\n  signerTokenInfo: CollectionTokenInfo;\n  signerWallet: string;\n  senderAmount: string;\n  senderTokenInfo: TokenInfo;\n  tokenId: string;\n}\n\nexport const createNftOrder = createAsyncThunk<\nFullOrder,\nCreateOrderParams\n>(\n  'listNft/createOtcOrder',\n  async (params, { dispatch, rejectWithValue }) => {\n    dispatch(setError(undefined));\n\n    try {\n      const senderAmount = toRoundedAtomicString(\n        params.senderAmount,\n        params.senderTokenInfo.decimals,\n      );\n\n      const unsignedOrder = createOrder({\n        expiry: params.expiry,\n        nonce: Date.now(),\n        protocolFee: params.protocolFee,\n        signer: {\n          wallet: params.signerWallet,\n          token: params.signerTokenInfo.address,\n          kind: TokenKinds.ERC721,\n          id: params.tokenId,\n        },\n        sender: {\n          wallet: nativeCurrencyAddress,\n          token: params.senderTokenInfo.address,\n          kind: TokenKinds.ERC20,\n          amount: senderAmount,\n        },\n      });\n\n      const { chainId } = params.signerTokenInfo;\n      const signature = await createOrderSignature(\n        unsignedOrder,\n        params.library.getSigner(),\n        Swap.getAddress(chainId) || '',\n        chainId,\n      );\n\n      if (isAppError(signature)) {\n        dispatch(setError({ type: signature.type }));\n\n        return rejectWithValue({ type: signature.type });\n      }\n\n      const fullOrder: FullOrder = {\n        ...unsignedOrder,\n        ...signature,\n        chainId,\n        swapContract: Swap.getAddress(chainId) || '',\n      };\n\n      dispatch(setUserOrder(fullOrder));\n      return fullOrder;\n    } catch (error) {\n      console.error(error);\n      dispatch(setError({ type: AppErrorType.unknownError }));\n\n      return rejectWithValue({ type: AppErrorType.unknownError });\n    }\n  },\n);\n","import { OrderERC20 } from '@airswap/types';\nimport {\n  createSlice,\n  PayloadAction,\n} from '@reduxjs/toolkit';\n\nimport { AppError } from '../../../errors/appError';\nimport { approve, take } from './ordersActions';\n\nexport interface OrdersState {\n  orders: OrderERC20[];\n  status: 'idle' | 'requesting' | 'approving' | 'taking' | 'failed' | 'reset';\n  reRequestTimerId: number | null;\n  error?: AppError;\n}\n\nconst initialState: OrdersState = {\n  orders: [],\n  status: 'idle',\n  reRequestTimerId: null,\n};\n\nexport const ordersSlice = createSlice({\n  name: 'orders',\n  initialState,\n  reducers: {\n    setError: (state, action: PayloadAction<AppError | undefined>) => ({\n      ...state,\n      error: action.payload,\n    }),\n    clear: () => initialState,\n    setReRequestTimerId: (state, action: PayloadAction<number>) => ({\n      ...state,\n      reRequestTimerId: action.payload,\n    }),\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(take.pending, (state) => ({\n        ...state,\n        status: 'taking',\n      }))\n      .addCase(take.fulfilled, (state) => {\n        if (state.reRequestTimerId) {\n          clearTimeout(state.reRequestTimerId);\n        }\n\n        return {\n          ...state,\n          status: 'idle',\n          reRequestTimerId: null,\n        };\n      })\n      .addCase(take.rejected, (state) => ({\n        ...state,\n        status: 'failed',\n      }))\n      .addCase(approve.pending, (state) => ({\n        ...state,\n        status: 'approving',\n      }))\n      .addCase(approve.fulfilled, (state) => ({\n        ...state,\n        status: 'idle',\n      }))\n      .addCase(approve.rejected, (state) => ({\n        ...state,\n        status: 'failed',\n      }));\n  },\n});\n\nexport const {\n  clear,\n  setError,\n} = ordersSlice.actions;\n\nexport default ordersSlice.reducer;\n","import { TokenKinds } from '@airswap/constants';\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\nimport { Web3Provider } from '@ethersproject/providers';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Transaction } from 'ethers';\n\nimport {\n  AppError,\n  AppErrorType,\n  isAppError,\n  transformToAppError,\n} from '../../../errors/appError';\nimport transformUnknownErrorToAppError from '../../../errors/transformUnknownErrorToAppError';\nimport { AppDispatch, RootState } from '../../store';\nimport {\n  addCancelTransaction,\n  addERC20ApprovalTransaction,\n  addNftApprovalTransaction,\n  addOrderTransaction,\n} from '../transactions/transactionsActions';\nimport {\n  approveErc20Token,\n  approveNftToken, cancelOrder,\n  checkOrder, getNonceUsed,\n  takeOrder,\n} from './ordersApi';\nimport { setError } from './ordersSlice';\n\ninterface ApproveParams {\n  amount?: number;\n  chainId: number;\n  library: Web3Provider;\n  tokenId?: string;\n  tokenInfo: TokenInfo | CollectionTokenInfo;\n}\n\ntype TransactionHash = Transaction['hash'];\n\nexport const approve = createAsyncThunk<\nTransactionHash | AppError,\nApproveParams,\n{\n  dispatch: AppDispatch;\n  state: RootState;\n}\n>('orders/approve', async (params, { dispatch, rejectWithValue }) => {\n  dispatch(setError(undefined));\n\n  try {\n    let tx: Transaction;\n    const {\n      amount,\n      library,\n      tokenId,\n      tokenInfo,\n    } = params;\n\n    const tokenKind = 'kind' in tokenInfo ? tokenInfo.kind : TokenKinds.ERC20;\n\n    if (tokenKind !== TokenKinds.ERC20 && !tokenId) {\n      console.error('[orders/approve]: Missing tokenId when submitting ERC721 or ERC1155 approval');\n\n      return rejectWithValue(transformToAppError(AppErrorType.unknownError));\n    }\n\n    if ((tokenKind === TokenKinds.ERC721 || tokenKind === TokenKinds.ERC1155) && tokenId) {\n      tx = await approveNftToken(\n        tokenInfo.address,\n        tokenId,\n        library,\n        tokenKind,\n      );\n    } else {\n      tx = await approveErc20Token(\n        tokenInfo as TokenInfo,\n        library,\n        amount,\n      );\n    }\n\n    if (tx.hash && tokenKind === TokenKinds.ERC20) {\n      dispatch(addERC20ApprovalTransaction(tx.hash));\n    } else if (tx.hash && tokenId) {\n      dispatch(addNftApprovalTransaction(tx.hash, tokenId));\n    }\n\n    return tx.hash;\n  } catch (e: any) {\n    console.error(e);\n    const error = transformUnknownErrorToAppError(e);\n    dispatch(setError(error));\n\n    return rejectWithValue(error);\n  }\n});\n\ninterface TakeParams {\n  senderWallet: string;\n  order: FullOrder;\n  library: Web3Provider;\n}\n\nexport const take = createAsyncThunk<\nvoid,\nTakeParams,\n{\n  dispatch: AppDispatch;\n  state: RootState;\n}\n>('orders/take', async (params, { dispatch }) => {\n  const { order, library, senderWallet } = params;\n\n  const checkErrors = await checkOrder(\n    order,\n    senderWallet,\n    library,\n  );\n\n  if (checkErrors.length) {\n    dispatch(setError(checkErrors[0]));\n\n    throw checkErrors[0];\n  }\n\n  const tx = await takeOrder(params.order, senderWallet, params.library);\n\n  if (isAppError(tx)) {\n    dispatch(setError(tx));\n\n    throw tx;\n  }\n\n  if (tx.hash) {\n    dispatch(addOrderTransaction(tx.hash, order));\n  }\n});\n\ninterface CancelParams {\n  order: FullOrder;\n  chainId: number;\n  library: Web3Provider;\n}\n\nexport const cancel = createAsyncThunk<\nTransactionHash | AppError,\nCancelParams,\n{\n  dispatch: AppDispatch;\n  state: RootState;\n}\n>('orders/cancel', async (params, { dispatch, rejectWithValue }) => {\n  const isNonceUsed = await getNonceUsed(params.order, params.library);\n\n  if (isNonceUsed) {\n    return rejectWithValue(transformToAppError(AppErrorType.nonceAlreadyUsed));\n  }\n\n  const tx = await cancelOrder(params.order.nonce, params.library);\n\n  if (isAppError(tx)) {\n    return rejectWithValue(tx);\n  }\n\n  dispatch(addCancelTransaction(tx.hash, params.order));\n\n  return tx.hash;\n});\n\n","import { Order } from '@airswap/types';\n\nimport {\n  CancelOrderTransaction,\n  Erc20ApprovalTransaction,\n  NftApprovalTransaction,\n  OrderTransaction,\n  SubmittedTransaction,\n  SubmittedTransactionStatus,\n  SubmittedTransactionType,\n} from '../../../entities/SubmittedTransaction/SubmittedTransaction';\nimport { AppDispatch, RootState } from '../../store';\nimport { setTransactions } from './transactionsSlice';\n\nexport const updateTransaction = (updatedTransaction: SubmittedTransaction) => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { transactions } = getState().transactions;\n  const transactionIndex = transactions.findIndex(transaction => transaction.hash === updatedTransaction.hash);\n\n  if (transactionIndex === -1) {\n    return;\n  }\n\n  const updatedTransactions = [...transactions];\n  updatedTransactions.splice(transactionIndex, 1, updatedTransaction);\n\n  dispatch(setTransactions(updatedTransactions));\n};\n\nexport const addERC20ApprovalTransaction = (hash: string) => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { transactions } = getState().transactions;\n\n  const transaction: Erc20ApprovalTransaction = {\n    type: SubmittedTransactionType.erc20Approval,\n    hash,\n    status: SubmittedTransactionStatus.processing,\n    timestamp: Date.now(),\n  };\n\n  dispatch(setTransactions([\n    transaction,\n    ...transactions,\n  ]));\n};\n\nexport const addNftApprovalTransaction = (hash: string, tokenId: string) => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { transactions } = getState().transactions;\n\n  const transaction: NftApprovalTransaction = {\n    type: SubmittedTransactionType.nftApproval,\n    hash,\n    tokenId,\n    status: SubmittedTransactionStatus.processing,\n    timestamp: Date.now(),\n  };\n\n  dispatch(setTransactions([\n    transaction,\n    ...transactions,\n  ]));\n};\n\nexport const addOrderTransaction = (hash: string, order: Order) => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { transactions } = getState().transactions;\n\n  const transaction: OrderTransaction = {\n    type: SubmittedTransactionType.order,\n    hash,\n    order,\n    status: SubmittedTransactionStatus.processing,\n    timestamp: Date.now(),\n  };\n\n  dispatch(setTransactions([\n    transaction,\n    ...transactions,\n  ]));\n};\n\nexport const addCancelTransaction = (hash: string, order: Order) => async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n  const { transactions } = getState().transactions;\n\n  const transaction: CancelOrderTransaction = {\n    type: SubmittedTransactionType.cancelOrder,\n    hash,\n    order,\n    status: SubmittedTransactionStatus.processing,\n    timestamp: Date.now(),\n  };\n\n  dispatch(setTransactions([\n    transaction,\n    ...transactions,\n  ]));\n};\n","import { useMemo } from 'react';\n\nimport { BigNumber } from 'bignumber.js';\n\nimport useInsufficientAmount from '../../../hooks/useInsufficientAmount';\nimport { useAppSelector } from '../../../redux/hooks';\n\nconst useTokenAmountAndFee = (amount: string): [string | undefined, string | undefined] => {\n  const { protocolFee } = useAppSelector(state => state.metadata);\n  const hasInsufficientAmount = useInsufficientAmount(amount);\n\n  return useMemo(() => {\n    if (hasInsufficientAmount) {\n      return [undefined, undefined];\n    }\n\n    const feeAmount = new BigNumber(amount).multipliedBy(protocolFee / 10000);\n    const tokenAmountMinusFee = new BigNumber(amount).minus(feeAmount);\n\n    return [tokenAmountMinusFee.toString(), feeAmount.toString()];\n  }, [hasInsufficientAmount, amount, protocolFee]);\n};\n\nexport default useTokenAmountAndFee;\n","import React, { FC, useCallback } from 'react';\n\nimport { FullOrder, TokenInfo } from '@airswap/types';\nimport classnames from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nimport Button from '../../../../components/Button/Button';\nimport { routes } from '../../../../routes';\nimport { ListNftState } from '../ConnectedListNftWidget/ConnectedListNftWidget';\n\nimport './ListActionButtons.scss';\n\ninterface ActionButtonsProps {\n  hasInsufficientAmount: boolean;\n  hasInsufficientExpiryAmount: boolean;\n  hasNoCollectionTokenApproval: boolean;\n  account: string;\n  activeUserOrder?: FullOrder;\n  currencyToken: TokenInfo;\n  tokenId: string;\n  orderNonce?: string;\n  state: ListNftState;\n  onActionButtonClick: () => void;\n  onBackButtonClick: () => void;\n  className?: string;\n}\n\nconst ListActionButtons: FC<ActionButtonsProps> = ({\n  hasInsufficientAmount,\n  hasInsufficientExpiryAmount,\n  hasNoCollectionTokenApproval,\n  account,\n  activeUserOrder,\n  currencyToken,\n  tokenId,\n  orderNonce,\n  state,\n  onActionButtonClick,\n  onBackButtonClick,\n  className = '',\n}) => {\n  const classNames = classnames('list-action-buttons', {\n    'list-action-buttons--is-token-already-listed-warning': state === ListNftState.tokenAlreadyListedWarning,\n  }, className);\n\n  const getReviewButtonText = () => {\n    if (hasNoCollectionTokenApproval) {\n      return 'Approve NFT';\n    }\n\n    return 'Sign Listing';\n  };\n\n  const getDisabledButtonText = () => {\n    if (hasInsufficientExpiryAmount) {\n      return 'Fill in expiry';\n    }\n\n    return 'Fill in amount';\n  };\n\n  const getActionButton = useCallback((): JSX.Element | null => {\n    if (hasInsufficientAmount) {\n      return (\n        <Button\n          disabled\n          text={getDisabledButtonText()}\n          className=\"list-action-buttons__action-button\"\n        />\n      );\n    }\n\n    if (state === ListNftState.details) {\n      return (\n        <Button\n          text=\"List NFT\"\n          onClick={onActionButtonClick}\n          className=\"list-action-buttons__action-button\"\n        />\n      );\n    }\n\n    if (state === ListNftState.tokenAlreadyListedWarning && activeUserOrder) {\n      return (\n        <>\n          <NavLink\n            to={routes.orderDetail(account, activeUserOrder.nonce)}\n            className=\"list-action-buttons__action-button\"\n          >\n            Cancel previous listing\n          </NavLink>\n          <Button\n            text=\"back\"\n            onClick={onBackButtonClick}\n            className=\"list-action-buttons__back-button\"\n          />\n          <Button\n            text=\"List anyway\"\n            onClick={onActionButtonClick}\n            className=\"list-action-buttons__list-anyway-button\"\n          />\n        </>\n      );\n    }\n\n    if (state === ListNftState.review) {\n      return (\n        <>\n          <Button\n            text={getReviewButtonText()}\n            onClick={onActionButtonClick}\n            className=\"list-action-buttons__action-button\"\n          />\n          <Button\n            text=\"Back\"\n            onClick={onBackButtonClick}\n            className=\"list-action-buttons__back-button\"\n          />\n        </>\n      );\n    }\n\n    if (state === ListNftState.sign) {\n      return (\n        <NavLink\n          to=\"/\"\n          className=\"list-action-buttons__action-button\"\n        >\n          Sign transaction\n        </NavLink>\n      );\n    }\n\n    if (state === ListNftState.success && orderNonce) {\n      return (\n        <NavLink\n          to={routes.userOrders(account)}\n          className=\"list-action-buttons__action-button\"\n        >\n          View listings\n        </NavLink>\n      );\n    }\n\n    if (state === ListNftState.failed) {\n      return (\n        <NavLink\n          to={routes.nftDetail(tokenId)}\n          className=\"list-action-buttons__action-button\"\n        >\n          Go back\n        </NavLink>\n      );\n    }\n\n    return null;\n  }, [\n    hasInsufficientAmount,\n    hasInsufficientExpiryAmount,\n    hasNoCollectionTokenApproval,\n    currencyToken,\n    state,\n  ]);\n\n  return (\n    <div className={classNames}>\n      {getActionButton()}\n    </div>\n  );\n};\n\nexport default ListActionButtons;\n","import React, { FC } from 'react';\n\nimport { ExpiryTimeUnit } from '../../types/ExpiryTimeUnit';\n\nimport './ExpiryIndicator.scss';\n\ninterface ExpiryIndicatorProps {\n  unit: ExpiryTimeUnit;\n  amount?: number;\n  className?: string;\n}\n\nconst ExpiryIndicator: FC<ExpiryIndicatorProps> = ({ unit, amount = '0', className = '' }) => (\n  <div className={`expiry-indicator ${className}`}>\n    <div className=\"expiry-indicator__title\">\n      Expires in\n    </div>\n    <div className=\"expiry-indicator__amount\">\n      {amount}\n    </div>\n    <div className=\"expiry-indicator__unit\">\n      {unit}\n    </div>\n  </div>\n);\n\nexport default ExpiryIndicator;\n","import React, { FC } from 'react';\n\nimport { CollectionTokenInfo } from '@airswap/types';\n\nimport './ReviewNftDetails.scss';\n\ninterface ReviewNftDetailsProps {\n  logoURI?: string;\n  title?: string;\n  token?: CollectionTokenInfo;\n  className?: string;\n}\n\nconst ReviewNftDetails: FC<ReviewNftDetailsProps> = ({\n  logoURI,\n  title,\n  token,\n  className = '',\n}) => (\n  <div className={`review-nft-details ${className}`}>\n    <h3 className=\"review-nft-details__title\">\n      {title}\n    </h3>\n    <h4 className=\"review-nft-details__name\">{token?.name}</h4>\n    <div className=\"review-nft-details__icon\" style={{ backgroundImage: `url(\"${logoURI}\")` }} />\n  </div>\n);\n\nexport default ReviewNftDetails;\n","import React, { FC } from 'react';\n\nimport { TokenInfo } from '@airswap/types';\n\nimport Icon from '../Icon/Icon';\n\nimport './ReviewTokenDetails.scss';\n\ninterface ReviewTokenDetailsProps {\n  amount: string;\n  amountMinusProtocolFee?: string;\n  projectFeePercent: number;\n  protocolFeePercent: number;\n  title: string;\n  token: TokenInfo;\n  className?: string;\n}\n\nconst ReviewTokenDetails: FC<ReviewTokenDetailsProps> = ({\n  amount,\n  amountMinusProtocolFee,\n  title,\n  projectFeePercent,\n  protocolFeePercent,\n  token,\n  className = '',\n}) => (\n  <div className={`review-token-details ${className}`}>\n    <div className=\"review-token-details__token-info\">\n      <h3 className=\"review-token-details__title\">{title}</h3>\n      <div className=\"review-token-details__amount-wrapper\">\n        <h4 className=\"review-token-details__amount-sub-text\">{`${amount} ${token.symbol} - Fees =`}</h4>\n        {amountMinusProtocolFee && <h4 className=\"review-token-details__amount\">{`${amountMinusProtocolFee} ${token.symbol}`}</h4> }\n      </div>\n      <div className=\"review-token-details__logo-icon\" style={{ backgroundImage: `url(\"${token.logoURI}\")` }} />\n    </div>\n    <div className=\"review-token-details__fees-info\">\n      <h3 className=\"review-token-details__title\">Fees</h3>\n      <h4 className=\"review-token-details__fees-text\">{`${projectFeePercent}% Project, ${protocolFeePercent}% Protocol`}</h4>\n      <Icon name=\"information-circle-outline\" className=\"review-token-details__information-icon\" />\n    </div>\n  </div>\n);\n\nexport default ReviewTokenDetails;\n","import React, { FC } from 'react';\n\nimport classNames from 'classnames';\n\nimport Button from '../../../../components/Button/Button';\nimport { SelectOption } from '../../../../types/SelectOption';\n\nimport './DropdownButton.scss';\n\ntype HTMLButtonProps = Omit<JSX.IntrinsicElements['button'], 'ref'>;\n\ninterface DropdownButtonProps extends HTMLButtonProps {\n  isActive: boolean;\n  option: SelectOption;\n  className?: string;\n}\n\nconst DropdownButton: FC<DropdownButtonProps> = ({\n  isActive,\n  option,\n  className = '',\n  ...props\n}) => {\n  const buttonClassName = classNames('dropdown-button', {\n    'dropdown-button--is-active': isActive,\n  }, className);\n\n  return (\n    <Button\n      {...props}\n      text={option.label}\n      className={buttonClassName}\n    />\n  );\n};\n\nexport default DropdownButton;\n","import React, {\n  FC,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport Icon from '../../components/Icon/Icon';\nimport { SelectOption } from '../../types/SelectOption';\nimport IconButton from '../IconButton/IconButton';\nimport { getDropdownOptionsTranslateY } from './helpers/getDropdownOptionsTranslateY';\nimport DropdownButton from './subcomponents/DropdownButton/DropdownButton';\n\nimport './Dropdown.scss';\n\nexport type DropdownProps = {\n  selectedOption: SelectOption;\n  options: SelectOption[];\n  onBlur?: () => void;\n  onChange: (option: SelectOption) => void;\n  onFocus?: () => void;\n  className?: string;\n  buttonClassName?: string;\n  dropdownButtonClassName?: string;\n  dropdownButtonBackgroundClassName?: string;\n  mobileSelectIconClassName?: string;\n};\n\nconst Dropdown: FC<DropdownProps> = ({\n  selectedOption,\n  options,\n  onBlur,\n  onChange,\n  onFocus,\n  className = '',\n  buttonClassName = '',\n  dropdownButtonClassName = '',\n  dropdownButtonBackgroundClassName = '',\n  mobileSelectIconClassName = '',\n}) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const optionsRef = useRef<HTMLDivElement>(null);\n\n  // activeOptionIndex is used for styling SelectOptions vertical position. This way\n  // the active option in SelectOptions always opens directly on top of the Select.\n  const [activeOptionIndex, setActiveOptionIndex] = useState(\n    options.findIndex((option) => option.value === selectedOption.value),\n  );\n\n  // activeHoverIndex is for setting the hover effect element position. It is animated\n  // so it's a separate div element.\n  const [activeHoverIndex, setActiveHoverIndex] = useState(activeOptionIndex);\n\n  const optionsTranslateY = useMemo(() => {\n    const optionsHeight = optionsRef.current?.clientHeight || 0;\n    const wrapperPosY = wrapperRef.current?.getBoundingClientRect().y || 0;\n\n    return getDropdownOptionsTranslateY(\n      optionsHeight,\n      wrapperPosY,\n      activeOptionIndex,\n      options.length,\n    );\n  }, [options, activeOptionIndex]);\n\n  const handleOptionClick = (newSelectedOption: SelectOption) => {\n    onChange(newSelectedOption);\n  };\n\n  const handleButtonBlur = () => {\n    const index = options.findIndex(option => option.value === selectedOption.value);\n    setActiveOptionIndex(index);\n    setActiveHoverIndex(index);\n\n    if (onBlur) {\n      onBlur();\n    }\n  };\n\n  const handleButtonClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n    // Unlike other browsers, on safari clicking a button won't focus it.\n    e.currentTarget.focus();\n\n    if (onFocus) {\n      onFocus();\n    }\n  };\n\n  const handleSelectChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const newSelectedOption = options.find(option => option.value === e.target.value);\n\n    if (newSelectedOption) {\n      onChange(newSelectedOption);\n    }\n  };\n\n  useEffect(() => {\n    setActiveOptionIndex(options.findIndex((option) => option.value === selectedOption.value));\n  }, [selectedOption]);\n\n  return (\n    <div\n      ref={wrapperRef}\n      className={`dropdown ${className}`}\n    >\n      <IconButton\n        iconAlign=\"right\"\n        icon=\"chevron-down\"\n        text={selectedOption.label}\n        onBlur={handleButtonBlur}\n        onClick={handleButtonClick}\n        onFocus={onFocus}\n        className={`dropdown__button ${buttonClassName}`}\n        iconClassName=\"dropdown__button-icon\"\n      />\n      <div\n        ref={optionsRef}\n        style={{ transform: `translateY(${optionsTranslateY}%)` }}\n        className=\"dropdown__options-container\"\n      >\n        {options.map((option, index) => (\n          <DropdownButton\n            isActive={activeHoverIndex === index}\n            key={option.value}\n            option={option}\n            onMouseOver={() => setActiveHoverIndex(index)}\n            onPointerDown={() => handleOptionClick(option)}\n            className={`dropdown__dropdown-button ${dropdownButtonClassName}`}\n          />\n        ))}\n        <div\n          style={{ transform: `translateY(calc(${activeHoverIndex * 100}% - ${activeHoverIndex}px)` }}\n          className={`dropdown__dropdown-button-background ${dropdownButtonBackgroundClassName}`}\n        />\n      </div>\n      {/* Native Select for mobile */}\n      <select\n        value={selectedOption.value}\n        className={`dropdown__select ${buttonClassName}`}\n        onChange={handleSelectChange}\n      >\n        {options.map(option => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n      <Icon\n        name=\"chevron-down\"\n        className={`dropdown__mobile-select-icon ${mobileSelectIconClassName}`}\n      />\n    </div>\n  );\n};\n\nexport default Dropdown;\n","export const getDropdownOptionsTranslateY = (\n  optionsHeight: number,\n  wrapperY: number,\n  activeIndex: number,\n  optionsLength: number,\n) => {\n  const paddingTop = 16;\n  const overflow = Math.max(0, optionsHeight - (wrapperY - paddingTop));\n\n  const minTranslateY = ((optionsHeight - overflow) / optionsHeight) * -100;\n  const translateY = activeIndex * -(100 / optionsLength);\n\n  return Math.max(minTranslateY, translateY);\n};\n","import React, { FC, useMemo } from 'react';\n\nimport { CollectionTokenInfo } from '@airswap/types';\n\nimport Dropdown from '../../compositions/Dropdown/Dropdown';\nimport { SelectOption } from '../../types/SelectOption';\nimport Icon from '../Icon/Icon';\nimport { getSelectNftOptions } from './helpers/getSelectNftOptions';\n\nimport './SelectNft.scss';\n\ninterface SelectNftProps {\n  collectionName: string;\n  logoURI?: string;\n  tokens: string[];\n  title: string;\n  token?: CollectionTokenInfo;\n  value: string;\n  onSelect: (value: string) => void;\n  className?: string;\n}\n\nconst SelectNft: FC<SelectNftProps> = ({\n  collectionName,\n  logoURI,\n  tokens,\n  title,\n  token,\n  value,\n  onSelect,\n  className = '',\n}) => {\n  const options = useMemo(() => getSelectNftOptions(tokens, collectionName), [tokens, collectionName, token]);\n  const selectedOption = options.find(option => option.value === value?.toString()) || options[0] as SelectOption;\n\n  const handleDropdownChange = (option: SelectOption): void => {\n    onSelect(option.value);\n  };\n\n  return (\n    <div className={`select-nft ${className}`}>\n      <div className=\"select-nft__logo-icon\" style={{ backgroundImage: `url(\"${logoURI}\")` }} />\n      <div className=\"select-nft__title-and-name\">\n        <h3 className=\"select-nft__title\">{title}</h3>\n        <h4 className=\"select-nft__name\">{`${collectionName} ${token?.id ? `#${token.id}` : ''}`}</h4>\n      </div>\n      <Icon name=\"chevron-down\" className=\"select-nft__chevron-down-icon\" />\n\n      <Dropdown\n        selectedOption={selectedOption}\n        options={options}\n        onChange={handleDropdownChange}\n        className=\"select-nft__dropdown\"\n        buttonClassName=\"select-nft__dropdown-button\"\n        dropdownButtonClassName=\"select-nft__dropdown-dropdown-button\"\n        dropdownButtonBackgroundClassName=\"select-nft__dropdown-dropdown-button-background\"\n        mobileSelectIconClassName=\"select-nft__dropdown-mobile-select-icon\"\n      />\n    </div>\n  );\n};\n\nexport default SelectNft;\n","import { SelectOption } from '../../../types/SelectOption';\n\nexport const getSelectNftOptions = (tokens: string[], collectionName: string): SelectOption[] => tokens.map(token => ({\n  value: token.toString(),\n  label: `${collectionName} #${token}`,\n}));\n","import React, { FC, useMemo } from 'react';\n\nimport { CollectionTokenInfo, TokenInfo } from '@airswap/types';\nimport { format } from '@greypixel_/nicenumbers';\nimport { BigNumber } from 'bignumber.js';\n\nimport './TradeDetails.scss';\n\ninterface TradeDetailsProps {\n  amount?: BigNumber;\n  amountSubtext?: string;\n  logoURI?: string;\n  title: string;\n  token: TokenInfo | CollectionTokenInfo;\n  className?: string;\n}\n\nconst TradeDetails: FC<TradeDetailsProps> = ({\n  amount,\n  amountSubtext,\n  logoURI,\n  title,\n  token,\n  className = '',\n}) => {\n  const symbol = 'symbol' in token && token.symbol;\n  const name = 'name' in token && token.name;\n  const decimals = 'decimals' in token;\n\n  const readableAmount = useMemo(() => {\n    if (!amount || !(decimals)) {\n      return undefined;\n    }\n\n    return format(amount, {\n      tokenDecimals: token.decimals,\n      significantFigures: 6,\n    });\n  }, [amount, decimals, token]);\n\n  return (\n    <div className={`trade-details ${className}`}>\n      <div className=\"trade-details__icon\" style={{ backgroundImage: `url(\"${logoURI}\")` }} />\n      <div className=\"trade-details__title-and-name\">\n        <h3 className=\"trade-details__title\">{title}</h3>\n        <h4 className=\"trade-details__name\">{symbol || name}</h4>\n      </div>\n      <div className=\"trade-details__amount-container\">\n        <div className=\"trade-details__amount-container-content\">\n          {readableAmount && <span className=\"trade-details__amount\">{readableAmount}</span>}\n          {amountSubtext && <span className=\"trade-details__amount-subtext\">{amountSubtext}</span>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TradeDetails;\n","import React, { FC } from 'react';\n\nimport IconButton from '../IconButton/IconButton';\n\nimport './CopyLinkButton.scss';\n\ninterface CopyLinkButtonProps {\n  onClick: () => void;\n  className?: string;\n}\n\nconst CopyLinkButton: FC<CopyLinkButtonProps> = ({ onClick, className = '' }) => (\n  <IconButton\n    icon=\"copy2\"\n    text=\"Copy link\"\n    iconAlign=\"right\"\n    onClick={onClick}\n    className={`copy-link-button ${className}`}\n  />\n);\n\nexport default CopyLinkButton;\n","import React, { FC, useMemo } from 'react';\n\nimport Input from '../../components/Input/Input';\nimport { ExpiryTimeUnit } from '../../types/ExpiryTimeUnit';\nimport { SelectOption } from '../../types/SelectOption';\nimport Dropdown from '../Dropdown/Dropdown';\nimport { getExpiryTimeUnitOptions, transformToExpiryTimeUnit } from './helpers';\n\nimport './SelectExpiry.scss';\n\ninterface SelectExpiryProps {\n  amount?: number;\n  timeUnit: ExpiryTimeUnit;\n  onAmountChange: (amount?: number) => void;\n  onTimeUnitChange: (timeUnit: ExpiryTimeUnit) => void;\n  className?: string;\n}\n\nconst SelectExpiry: FC<SelectExpiryProps> = ({\n  amount,\n  timeUnit,\n  className = '',\n  onAmountChange,\n  onTimeUnitChange,\n}) => {\n  const expiryOptions = useMemo(() => getExpiryTimeUnitOptions(), []);\n\n  const unitOption = useMemo(\n    () => expiryOptions.find(option => option.value === timeUnit) as SelectOption,\n    [expiryOptions, timeUnit],\n  );\n\n  const handleInputAmountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    onAmountChange(parseInt(e.target.value, 10) || undefined);\n  };\n\n  const handleDropdownExpiryOptionChange = (option: SelectOption) => {\n    onTimeUnitChange(transformToExpiryTimeUnit(option.value));\n  };\n\n  return (\n    <div className={`select-expiry ${className}`}>\n      <div className=\"select-expiry__label\">\n        Expires in\n      </div>\n      <Input\n        min=\"1\"\n        type=\"number\"\n        value={amount || ''}\n        onChange={handleInputAmountChange}\n        className=\"select-expiry__input-amount\"\n      />\n      <Dropdown\n        selectedOption={unitOption}\n        options={expiryOptions}\n        onChange={handleDropdownExpiryOptionChange}\n        className=\"select-expiry__dropdown\"\n        buttonClassName=\"select-expiry__dropdown-button\"\n      />\n    </div>\n  );\n};\n\nexport default SelectExpiry;\n","import { ExpiryTimeUnit } from '../../../types/ExpiryTimeUnit';\nimport { SelectOption } from '../../../types/SelectOption';\n\nexport const getExpiryTimeUnitOptions = (): SelectOption[] => [\n  {\n    label: 'minutes',\n    value: ExpiryTimeUnit.minutes,\n  },\n  {\n    label: 'hours',\n    value: ExpiryTimeUnit.hours,\n  },\n  {\n    label: 'days',\n    value: ExpiryTimeUnit.days,\n  },\n  {\n    label: 'weeks',\n    value: ExpiryTimeUnit.weeks,\n  },\n];\n\nexport const transformToExpiryTimeUnit = (value: string): ExpiryTimeUnit => {\n  if (value === ExpiryTimeUnit.minutes) {\n    return ExpiryTimeUnit.minutes;\n  }\n\n  if (value === ExpiryTimeUnit.hours) {\n    return ExpiryTimeUnit.hours;\n  }\n\n  if (value === ExpiryTimeUnit.days) {\n    return ExpiryTimeUnit.days;\n  }\n\n  return ExpiryTimeUnit.weeks;\n};\n\n// const msPerMinute = 60000;\n//\n// value: `${msPerMinute}`,\n// {\n//   label: 'hours',\n//     value: `${60 * msPerMinute}`,\n// },\n// {\n//   label: 'days',\n//     value: `${24 * 60 * msPerMinute}`,\n// },\n// {\n//   label: 'weeks',\n//     value: `${7 * 24 * 60 * msPerMinute}`,\n","import React, { ChangeEvent, FC } from 'react';\n\nimport { TokenInfo } from '@airswap/types';\n\nimport Input from '../../components/Input/Input';\nimport { transformInputEventToValue } from './helpers/transformInputEventToValue';\n\nimport './TradeTokenInput.scss';\n\ninterface TradeTokenInputProps {\n  protocolFeeInCurrencyToken?: string;\n  protocolFeePercent?: number;\n  token: TokenInfo;\n  value: string;\n  onInputChange: (value: string) => void;\n  className?: string;\n}\n\nconst TradeTokenInput: FC<TradeTokenInputProps> = ({\n  protocolFeeInCurrencyToken,\n  protocolFeePercent,\n  token,\n  value,\n  onInputChange,\n  className = '',\n}) => {\n  const logoURI = 'logoURI' in token && token.logoURI;\n  const image = 'image' in token && token.image;\n  const symbol = 'symbol' in token && token.symbol;\n  const name = 'name' in token && token.name;\n  const id = 'id' in token && token.id;\n\n  const handleInputChange = (e: ChangeEvent<HTMLInputElement>): void => {\n    const newValue = transformInputEventToValue(e);\n\n    if (newValue !== undefined) {\n      onInputChange(newValue);\n    }\n  };\n\n  return (\n    <div className={`trade-token-input ${className}`}>\n      <div className=\"trade-token-input__icon\" style={{ backgroundImage: `url(\"${logoURI || image}\")` }} />\n      <div className=\"trade-token-input__title-and-name\">\n        <h3 className=\"trade-token-input__title\">For</h3>\n        <h4 className=\"trade-token-input__name\">{symbol || `${name} #${id}`}</h4>\n      </div>\n      <div className=\"trade-token-input__amount-container\">\n        <div className=\"trade-token-input__amount-container-content\">\n          <Input\n            inputMode=\"decimal\"\n            autoComplete=\"off\"\n            pattern=\"^[0-9]*[.,]?[0-9]*$\"\n            minLength={1}\n            maxLength={79}\n            spellCheck={false}\n            value={value}\n            onChange={handleInputChange}\n            placeholder=\"0.00\"\n            className=\"trade-token-input__input\"\n          />\n          <span className=\"trade-token-input__amount-subtext\">\n            {protocolFeePercent && `Exl. fee ${protocolFeePercent}%`}\n            {protocolFeeInCurrencyToken && `= ${protocolFeeInCurrencyToken} ${token.symbol}`}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TradeTokenInput;\n","import { ChangeEvent } from 'react';\n\nexport const transformInputEventToValue = (e: ChangeEvent<HTMLInputElement>): string | undefined => {\n  const floatRegExp = /^([0-9])*[.,]?([0-9])*$/;\n  let { value } = e.currentTarget;\n\n  if (value === '') {\n    return '';\n  }\n\n  if (!floatRegExp.test(value)) {\n    return undefined;\n  }\n\n  if (value[value.length - 1] === ',') {\n    value = `${value.slice(0, value.length - 1)}.`;\n  }\n\n  value = value.replace(/^0+/, '0');\n\n  return value;\n};\n","import React, { FC } from 'react';\n\nimport { NavLinkProps } from 'react-router-dom';\n\nimport IconNavLink from '../IconNavLink/IconNavLink';\n\nimport './TransactionLink.scss';\n\ninterface TransactionLinkProps extends NavLinkProps {\n  hideLabel?: boolean;\n  className?: string;\n}\n\nconst TransactionLink: FC<TransactionLinkProps> = ({ hideLabel, className = '', ...props }) => (\n  <IconNavLink\n    {...props}\n    hideLabel={hideLabel}\n    target=\"_blank\"\n    icon=\"transaction-link\"\n    iconAlign=\"right\"\n    text=\"View on Etherscan\"\n    className={`transaction-link ${className}`}\n  />\n);\n\nexport default TransactionLink;\n","import React, { FC } from 'react';\n\nimport Icon from '../../../../components/Icon/Icon';\n\nimport './SwapIcon.scss';\n\ninterface SwapIconProps {\n  className?: string;\n}\n\nconst SwapIcon: FC<SwapIconProps> = ({ className = '' }) => (\n  <div className={`swap-icon ${className}`}>\n    <Icon className=\"swap-icon__icon\" name=\"swap\" />\n  </div>\n);\n\nexport default SwapIcon;\n","import React, { FC, useMemo } from 'react';\n\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\nimport { getReceiptUrl } from '@airswap/utils';\nimport classNames from 'classnames';\n\nimport ExpiryIndicator from '../../../../components/ExpiryIndicator/ExpiryIndicator';\nimport Icon from '../../../../components/Icon/Icon';\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\nimport ReviewNftDetails from '../../../../components/ReviewNftDetails/ReviewNftDetails';\nimport ReviewTokenDetails from '../../../../components/ReviewTokenDetails/ReviewTokenDetails';\nimport SelectNft from '../../../../components/SelectNft/SelectNft';\nimport TradeDetails from '../../../../components/TradeDetails/TradeDetails';\nimport CopyLinkButton from '../../../../compositions/CopyLinkButton/CopyLinkButton';\nimport SelectExpiry from '../../../../compositions/SelectExpiry/SelectExpiry';\nimport TradeTokenInput from '../../../../compositions/TradeTokenInput/TradeTokenInput';\nimport TransactionLink from '../../../../compositions/TransactionLink/TransactionLink';\nimport { NftApprovalTransaction } from '../../../../entities/SubmittedTransaction/SubmittedTransaction';\nimport { AppError } from '../../../../errors/appError';\nimport writeTextToClipboard from '../../../../helpers/browser';\nimport { routes } from '../../../../routes';\nimport { ExpiryTimeUnit } from '../../../../types/ExpiryTimeUnit';\nimport { ListNftState } from '../ConnectedListNftWidget/ConnectedListNftWidget';\nimport SwapIcon from '../SwapIcon/SwapIcon';\n\nimport './ListNftDetailsContainer.scss';\n\ninterface ListNftDetailContainerProps {\n  chainId: number;\n  collectionImage: string;\n  collectionName: string;\n  collectionTokenInfo?: CollectionTokenInfo;\n  currencyTokenAmount: string;\n  currencyTokenAmountMinusProtocolFee?: string;\n  currencyTokenInfo: TokenInfo;\n  error?: AppError;\n  expiryAmount?: number;\n  expiryTimeUnit: ExpiryTimeUnit;\n  fullOrder?: FullOrder,\n  projectFee: number;\n  protocolFeeInCurrencyToken?: string;\n  protocolFee: number;\n  selectedTokenId: string;\n  submittedApproval?: NftApprovalTransaction;\n  userTokens: string[];\n  widgetState: ListNftState;\n  onExpiryAmountChange: (value?: number) => void;\n  onExpiryTimeUnitChange: (value: ExpiryTimeUnit) => void;\n  onSelectedNftChange: (value: string) => void;\n  onTradeTokenInputChange: (value: string) => void;\n  className?: string;\n}\n\nconst ListNftDetailContainer: FC<ListNftDetailContainerProps> = ({\n  chainId,\n  collectionImage,\n  collectionName,\n  collectionTokenInfo,\n  currencyTokenInfo,\n  currencyTokenAmount,\n  currencyTokenAmountMinusProtocolFee,\n  error,\n  expiryAmount,\n  expiryTimeUnit,\n  fullOrder,\n  projectFee,\n  protocolFeeInCurrencyToken,\n  protocolFee,\n  selectedTokenId,\n  submittedApproval,\n  userTokens,\n  widgetState,\n  onExpiryAmountChange,\n  onExpiryTimeUnitChange,\n  onSelectedNftChange,\n  onTradeTokenInputChange,\n  className = '',\n}) => {\n  const wrapperClassNames = classNames('list-nft-details-container', {\n    [`list-nft-details-container--has-${widgetState}-state`]: widgetState,\n  }, className);\n\n  const approvalUrl = useMemo(() => (submittedApproval?.hash ? getReceiptUrl(chainId, submittedApproval.hash) : undefined), [submittedApproval]);\n\n  const handleCopyLinkClick = async () => {\n    if (fullOrder) {\n      const link = `${window.location.host}/#${routes.orderDetail(fullOrder.signer.wallet, fullOrder.nonce)}`;\n      await writeTextToClipboard(link);\n    }\n  };\n\n  return (\n    <div className={wrapperClassNames}>\n      {widgetState === ListNftState.details && (\n        <>\n          <SelectNft\n            collectionName={collectionName}\n            logoURI={collectionTokenInfo?.image}\n            tokens={userTokens}\n            title=\"List\"\n            token={collectionTokenInfo}\n            value={selectedTokenId}\n            onSelect={onSelectedNftChange}\n            className=\"list-nft-details-container__select-nft\"\n          />\n          <SwapIcon className=\"list-nft-details-container__swap-icon\" />\n          <TradeTokenInput\n            protocolFeeInCurrencyToken={protocolFeeInCurrencyToken}\n            protocolFeePercent={protocolFee / 100}\n            token={currencyTokenInfo}\n            value={currencyTokenAmount}\n            onInputChange={onTradeTokenInputChange}\n          />\n          <SelectExpiry\n            amount={expiryAmount}\n            timeUnit={expiryTimeUnit}\n            onAmountChange={onExpiryAmountChange}\n            onTimeUnitChange={onExpiryTimeUnitChange}\n            className=\"list-nft-details-container__select-expiry\"\n          />\n        </>\n      )}\n\n      {(widgetState === ListNftState.review || widgetState === ListNftState.success) && (\n        <>\n          {widgetState === ListNftState.success && <Icon name=\"check\" className=\"list-nft-details-container__check-icon\" />}\n          <ReviewNftDetails\n            logoURI={collectionTokenInfo ? collectionTokenInfo.image : collectionImage}\n            title={widgetState === ListNftState.review ? 'List' : 'From'}\n            token={collectionTokenInfo}\n          />\n          <SwapIcon className=\"list-nft-details-container__swap-icon\" />\n          <ReviewTokenDetails\n            amount={currencyTokenAmount}\n            amountMinusProtocolFee={currencyTokenAmountMinusProtocolFee}\n            projectFeePercent={projectFee / 100}\n            protocolFeePercent={protocolFee / 100}\n            title={widgetState === ListNftState.review ? 'For' : 'To'}\n            token={currencyTokenInfo}\n          />\n          <ExpiryIndicator\n            unit={expiryTimeUnit}\n            amount={expiryAmount}\n            className=\"list-nft-details-container__expiry-indicator\"\n          />\n          {widgetState === ListNftState.success && (\n            <CopyLinkButton\n              onClick={handleCopyLinkClick}\n              className=\"list-nft-details-container__copy-link-button\"\n            />\n          )}\n        </>\n      )}\n\n      {widgetState === ListNftState.approving && (\n        <>\n          <LoadingSpinner className=\"list-nft-details-container__loading-spinner\" />\n          {collectionTokenInfo && (\n            <TradeDetails\n              logoURI={collectionTokenInfo ? collectionTokenInfo.image : collectionImage}\n              title=\"Approving\"\n              token={collectionTokenInfo}\n            />\n          )}\n          {approvalUrl && (\n            <TransactionLink\n              to={approvalUrl}\n              className=\"list-nft-details-container__transaction-link\"\n            />\n          )}\n        </>\n      )}\n\n      {(widgetState === ListNftState.sign || widgetState === ListNftState.approve) && (\n        <p className=\"list-nft-details-container__message\">\n          If your wallet does not open something went wrong\n        </p>\n      )}\n\n      {widgetState === ListNftState.indexing && (\n        <LoadingSpinner className=\"list-nft-details-container__loading-spinner\" />\n      )}\n\n      {widgetState === ListNftState.failed && (\n        <>\n          <Icon name=\"close\" className=\"list-nft-details-container__failed-icon\" />\n          <p className=\"list-nft-details-container__message\">\n            {/* TODO: Add translations for errors */}\n            {`Failed for the following reason: ${error?.type}`}\n          </p>\n        </>\n      )}\n\n      {widgetState === ListNftState.tokenAlreadyListedWarning && (\n        <>\n          <ReviewNftDetails\n            logoURI={collectionTokenInfo ? collectionTokenInfo.image : collectionImage}\n            title=\"Listed\"\n            token={collectionTokenInfo}\n          />\n          <div className=\"list-nft-details-container__warning\">\n            <Icon\n              name=\"information-circle-outline\"\n              className=\"list-nft-details-container__info-icon\"\n            />\n            <div className=\"list-nft-details-container__warning-text-wrapper\">\n              <div className=\"list-nft-details-container__warning-title\">\n                Token already listed\n              </div>\n              <div className=\"list-nft-details-container__warning-text\">\n                You are about to create a listing for a token that is already listed for sale. It&apos;s possible that the previous listing would fill instead.\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ListNftDetailContainer;\n","export default async function writeTextToClipboard(text: string): Promise<boolean> {\n  if (!navigator.clipboard || !navigator.clipboard.writeText) {\n    return false;\n  }\n\n  return navigator.clipboard\n    .writeText(text)\n    .then(() => true)\n    .catch(() => {\n      console.error('Async: Error copying text to clipboard');\n      return false;\n    });\n}\n","import React, { FC } from 'react';\n\nimport IconNavLink from '../../../../compositions/IconNavLink/IconNavLink';\n\nimport './ListNftWidgetHeader.scss';\n\ninterface ListNftWidgetHeaderProps {\n  title: string;\n  className?: string;\n}\n\nconst ListNftWidgetHeader: FC<ListNftWidgetHeaderProps> = ({ title, className = '' }) => (\n  <div className={`list-nft-widget-header ${className}`}>\n    <h1 className=\"list-nft-widget-header__title\">{title}</h1>\n    <IconNavLink\n      hideLabel\n      icon=\"close\"\n      text=\"Back\"\n      to=\"/\"\n      className=\"list-nft-widget-header__back-button\"\n    />\n  </div>\n);\n\nexport default ListNftWidgetHeader;\n","import React, {\n  FC,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { FullOrder, TokenInfo } from '@airswap/types';\nimport { Web3Provider } from '@ethersproject/providers';\n\nimport { expiryAmounts } from '../../../../constants/expiry';\nimport { isCollectionTokenInfo } from '../../../../entities/CollectionToken/CollectionTokenHelpers';\nimport { SubmittedTransactionStatus } from '../../../../entities/SubmittedTransaction/SubmittedTransaction';\nimport { AppErrorType, isAppError } from '../../../../errors/appError';\nimport { toMaxAllowedDecimalsNumberString } from '../../../../helpers/input';\nimport useApproveNftTransaction from '../../../../hooks/useApproveNftTransaction';\nimport useCollectionToken from '../../../../hooks/useCollectionToken';\nimport useIndexedOrderResult from '../../../../hooks/useIndexedOrderResult';\nimport useInsufficientAmount from '../../../../hooks/useInsufficientAmount';\nimport useNftTokenApproval from '../../../../hooks/useNftTokenApproval';\nimport { useAppDispatch, useAppSelector } from '../../../../redux/hooks';\nimport { createNftOrder } from '../../../../redux/stores/listNft/listNftActions';\nimport { approve as approveNft } from '../../../../redux/stores/orders/ordersActions';\nimport { addInfoToast, addUserRejectedToast } from '../../../../redux/stores/toasts/toastsActions';\nimport { ExpiryTimeUnit } from '../../../../types/ExpiryTimeUnit';\nimport { IndexedOrderResult } from '../../../../types/IndexedOrderResult';\nimport { getTitle } from '../../helpers';\nimport useTokenAmountAndFee from '../../hooks/useTokenAmountAndFee';\nimport ListActionButtons from '../ListActionButtons/ListActionButtons';\nimport ListNftDetailContainer from '../ListNftDetailsContainer/ListNftDetailsContainer';\nimport ListNftWidgetHeader from '../ListNftWidgetHeader/ListNftWidgetHeader';\n\nimport '../../ListNftWidget.scss';\n\nexport enum ListNftState {\n  details = 'details',\n  tokenAlreadyListedWarning = 'tokenAlreadyListedWarning',\n  review = 'review',\n  approve = 'approve',\n  approving = 'approving',\n  sign = 'sign',\n  indexing = 'indexing',\n  success = 'success',\n  failed = 'failed',\n}\n\ninterface ListNftWidgetProps {\n  account: string;\n  chainId: number;\n  currencyTokenInfo: TokenInfo;\n  defaultSelectedTokenId?: string;\n  library: Web3Provider\n  userOrders: FullOrder[];\n  userTokens: string[];\n  className?: string;\n}\n\nconst ConnectedListNftWidget: FC<ListNftWidgetProps> = ({\n  account,\n  chainId,\n  currencyTokenInfo,\n  defaultSelectedTokenId,\n  library,\n  userOrders,\n  userTokens,\n  className = '',\n}) => {\n  const dispatch = useAppDispatch();\n\n  // Store data\n  const { error: ordersError } = useAppSelector(state => state.orders);\n  const { error: listNftError } = useAppSelector(state => state.listNft);\n  const { collectionImage, collectionToken, collectionName } = useAppSelector(state => state.config);\n  const { protocolFee, projectFee } = useAppSelector(state => state.metadata);\n\n  // User input states\n  const [widgetState, setWidgetState] = useState<ListNftState>(ListNftState.details);\n  const [selectedTokenId, setSelectedTokenId] = useState(defaultSelectedTokenId || userTokens[0]);\n  const [currencyTokenAmount, setCurrencyTokenAmount] = useState('0');\n  const [expiryTimeUnit, setExpiryTimeUnit] = useState(ExpiryTimeUnit.minutes);\n  const [expiryAmount, setExpiryAmount] = useState<number | undefined>(60);\n\n  // States derived from user input\n  const [collectionTokenInfo] = useCollectionToken(collectionToken, selectedTokenId);\n  const [currencyTokenAmountMinusProtocolFee, protocolFeeInCurrencyToken] = useTokenAmountAndFee(currencyTokenAmount);\n  const [approvalTransactionHash, setApprovalTransactionHash] = useState<string>();\n  const [order, setOrder] = useState<FullOrder>();\n  const hasInsufficientAmount = useInsufficientAmount(currencyTokenAmount);\n  const hasInsufficientExpiryAmount = !expiryAmount || expiryAmount < 0;\n  const hasCollectionTokenApproval = useNftTokenApproval(collectionTokenInfo, selectedTokenId);\n  const approveTransaction = useApproveNftTransaction(approvalTransactionHash);\n  const [indexedOrderResult, indexerError] = useIndexedOrderResult(order?.nonce);\n  const activeUserOrder = userOrders.find(userOrder => userOrder.signer.id === selectedTokenId);\n  const title = useMemo(() => getTitle(widgetState), [widgetState]);\n\n  const handleActionButtonClick = async () => {\n    if (widgetState === ListNftState.details && activeUserOrder) {\n      setWidgetState(ListNftState.tokenAlreadyListedWarning);\n\n      return;\n    }\n\n    if (widgetState === ListNftState.details || widgetState === ListNftState.tokenAlreadyListedWarning) {\n      setWidgetState(ListNftState.review);\n    }\n\n    if (widgetState === ListNftState.review && collectionTokenInfo && !hasCollectionTokenApproval) {\n      setWidgetState(ListNftState.approve);\n\n      dispatch(approveNft({\n        tokenInfo: collectionTokenInfo,\n        library,\n        chainId,\n        tokenId: selectedTokenId,\n      }))\n        .unwrap()\n        .then((transactionHash) => {\n          if (typeof transactionHash === 'string') {\n            setApprovalTransactionHash(transactionHash);\n          }\n          setWidgetState(ListNftState.approving);\n        })\n        .catch((e) => {\n          if (isAppError(e) && e.type === AppErrorType.rejectedByUser) {\n            dispatch(addUserRejectedToast());\n            setWidgetState(ListNftState.review);\n          } else {\n            setWidgetState(ListNftState.failed);\n          }\n        });\n    }\n\n    if (\n      widgetState === ListNftState.review\n      && isCollectionTokenInfo(collectionTokenInfo)\n      && hasCollectionTokenApproval\n      && currencyTokenAmountMinusProtocolFee\n    ) {\n      setWidgetState(ListNftState.sign);\n\n      const expiryDate = Date.now() + (expiryAmounts[expiryTimeUnit] * (expiryAmount || 1));\n\n      dispatch(createNftOrder({\n        expiry: Math.floor(expiryDate / 1000).toString(),\n        library,\n        signerWallet: account,\n        signerTokenInfo: collectionTokenInfo,\n        protocolFee,\n        senderTokenInfo: currencyTokenInfo,\n        senderAmount: currencyTokenAmountMinusProtocolFee,\n        tokenId: selectedTokenId,\n      })).unwrap()\n        .then((result) => {\n          setOrder(result);\n          setWidgetState(ListNftState.indexing);\n        })\n        .catch((e) => {\n          if (isAppError(e) && e.type === AppErrorType.rejectedByUser) {\n            dispatch(addUserRejectedToast());\n            setWidgetState(ListNftState.review);\n          } else {\n            setWidgetState(ListNftState.failed);\n          }\n        });\n    }\n  };\n\n  const handleBackButtonClick = () => {\n    setWidgetState(ListNftState.details);\n  };\n\n  const handleTradeTokenInputChange = (value: string) => {\n    setCurrencyTokenAmount(toMaxAllowedDecimalsNumberString(value, currencyTokenInfo.decimals));\n  };\n\n  useEffect(() => {\n    if (approveTransaction?.status === SubmittedTransactionStatus.processing) {\n      setWidgetState(ListNftState.approving);\n    }\n\n    if (approveTransaction?.status === SubmittedTransactionStatus.succeeded && isCollectionTokenInfo(collectionTokenInfo)) {\n      dispatch(addInfoToast('Approved', `Approved ${collectionTokenInfo.name} to be spend.`));\n      setWidgetState(ListNftState.review);\n    }\n  }, [approveTransaction]);\n\n  useEffect(() => {\n    if (!selectedTokenId) {\n      setSelectedTokenId(userTokens[0]);\n    }\n  }, [userTokens]);\n\n  useEffect(() => {\n    if (indexedOrderResult === IndexedOrderResult.success) {\n      setWidgetState(ListNftState.success);\n    }\n\n    if (indexedOrderResult === IndexedOrderResult.failed) {\n      setWidgetState(ListNftState.failed);\n    }\n  }, [indexedOrderResult]);\n\n  return (\n    <div className={`list-nft-widget ${className}`}>\n      <ListNftWidgetHeader\n        title={title}\n        className=\"list-nft-widget__header\"\n      />\n\n      <ListNftDetailContainer\n        chainId={chainId}\n        collectionImage={collectionImage}\n        collectionName={collectionName}\n        collectionTokenInfo={collectionTokenInfo}\n        currencyTokenAmount={currencyTokenAmount}\n        currencyTokenAmountMinusProtocolFee={currencyTokenAmountMinusProtocolFee}\n        currencyTokenInfo={currencyTokenInfo}\n        error={listNftError || ordersError || indexerError}\n        expiryAmount={expiryAmount}\n        expiryTimeUnit={expiryTimeUnit}\n        fullOrder={order}\n        projectFee={projectFee}\n        protocolFee={protocolFee}\n        protocolFeeInCurrencyToken={protocolFeeInCurrencyToken}\n        selectedTokenId={selectedTokenId}\n        submittedApproval={approveTransaction}\n        userTokens={userTokens}\n        widgetState={widgetState}\n        onExpiryAmountChange={setExpiryAmount}\n        onExpiryTimeUnitChange={setExpiryTimeUnit}\n        onSelectedNftChange={setSelectedTokenId}\n        onTradeTokenInputChange={handleTradeTokenInputChange}\n        className=\"list-nft-widget__trade-details-container\"\n      />\n\n      {!(widgetState === ListNftState.sign || widgetState === ListNftState.approve || widgetState === ListNftState.approving) && (\n        <ListActionButtons\n          hasNoCollectionTokenApproval={!hasCollectionTokenApproval}\n          hasInsufficientAmount={hasInsufficientAmount}\n          hasInsufficientExpiryAmount={hasInsufficientExpiryAmount}\n          account={account}\n          activeUserOrder={activeUserOrder}\n          currencyToken={currencyTokenInfo}\n          tokenId={selectedTokenId}\n          orderNonce={order?.nonce}\n          state={widgetState}\n          onActionButtonClick={handleActionButtonClick}\n          onBackButtonClick={handleBackButtonClick}\n          className=\"list-nft-widget__action-buttons\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ConnectedListNftWidget;\n","import { ListNftState } from '../subcomponents/ConnectedListNftWidget/ConnectedListNftWidget';\n\nexport const getTitle = (state: ListNftState): string => {\n  if (state === ListNftState.review) {\n    return 'Review Listing';\n  }\n\n  if (state === ListNftState.tokenAlreadyListedWarning) {\n    return 'Warning';\n  }\n\n  if (state === ListNftState.approve) {\n    return 'Approve in Wallet';\n  }\n\n  if (state === ListNftState.approving) {\n    return 'Transaction in Progress';\n  }\n\n  if (state === ListNftState.sign) {\n    return 'Sign in Wallet';\n  }\n\n  if (state === ListNftState.indexing) {\n    return 'Listing in Progress';\n  }\n\n  if (state === ListNftState.success) {\n    return 'Successfully listed';\n  }\n\n  if (state === ListNftState.failed) {\n    return 'Listing failed';\n  }\n\n  return 'List a token';\n};\n","import { BigNumber } from 'bignumber.js';\n\n// This helper function is used to round the number string to the nearest possible decimal allowed.\n// To prevent the NUMERIC_FAULT error from bignumber.js when creating orders or approving spend amounts.\n\nexport const toMaxAllowedDecimalsNumberString = (value: string, decimals = 18): string => {\n  const firstCharacter = value[0];\n  const lastCharacter = value[value.length - 1];\n  const firstCharacterIsNonZero = !(firstCharacter === '0' || firstCharacter === '.');\n  const firstCharacterIsPeriod = firstCharacter === '.';\n\n  if (firstCharacterIsNonZero) {\n    return value;\n  }\n\n  if (\n    value === ''\n    || value === '.'\n    || lastCharacter === '.'\n    || lastCharacter === '0'\n    || (firstCharacter === '.' && (value.length - 1) <= decimals)\n    || (firstCharacter === '0' && (value.length) <= decimals)\n  ) {\n    return value;\n  }\n\n  const bigNumber = new BigNumber(value).multipliedBy(10 ** decimals);\n\n  const [numberStringWithoutDecimals] = bigNumber.toString().split('.');\n\n  const number = new BigNumber(numberStringWithoutDecimals)\n    .dividedBy(10 ** decimals)\n    .toString();\n\n  if (new BigNumber(number).toNumber() === 0) {\n    const minimalAllowedValue = new BigNumber(1)\n      .dividedBy(10 ** decimals)\n      .toString();\n\n    return firstCharacterIsPeriod ? minimalAllowedValue.substring(1) : minimalAllowedValue;\n  }\n\n  return firstCharacterIsPeriod ? number.substring(1) : number;\n};\n","import React, { FC } from 'react';\n\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\nimport ListNftWidgetHeader from '../ListNftWidgetHeader/ListNftWidgetHeader';\n\nimport '../../ListNftWidget.scss';\n\ninterface ListNftWidgetProps {\n  hasNoUserTokens: boolean;\n  isLoading: boolean;\n  className?: string;\n}\n\nconst DisconnectedListNftWidget: FC<ListNftWidgetProps> = ({\n  hasNoUserTokens = false,\n  isLoading = false,\n  className = '',\n}) => (\n  <div className={`list-nft-widget ${className}`}>\n    <ListNftWidgetHeader\n      title=\"List a token\"\n      className=\"list-nft-widget__header\"\n    />\n    {isLoading && <LoadingSpinner className=\"list-nft-widget__loading-spinner\" />}\n    {(!isLoading && hasNoUserTokens) && (\n      <div className=\"list-nft-widget__paragraph\">You have no nfts to list</div>\n    )}\n  </div>\n);\n\nexport default DisconnectedListNftWidget;\n","import React, { FC, useEffect } from 'react';\n\nimport { useWeb3React } from '@web3-react/core';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport { getUserOrders } from '../../redux/stores/listNft/listNftApi';\nimport { selectCancelOrderTransactions } from '../../redux/stores/transactions/transactionsSlice';\nimport ConnectedListNftWidget from './subcomponents/ConnectedListNftWidget/ConnectedListNftWidget';\nimport DisconnectedListNftWidget from './subcomponents/DisconnectedListNftWidget/DisconnectedListNftWidget';\n\ninterface ListNftWidgetProps {\n  className?: string;\n}\n\nconst ListNftWidget: FC<ListNftWidgetProps> = ({ className = '' }) => {\n  const { account, provider: library, chainId } = useWeb3React();\n  const dispatch = useAppDispatch();\n  const [searchParams] = useSearchParams();\n  const { key } = useLocation();\n\n  const { config } = useAppSelector(state => state);\n  const { isLoadingUserOrders, userOrders } = useAppSelector(state => state.listNft);\n  const { isInitialized: isBalancesInitialized, tokens: userTokens } = useAppSelector(state => state.balances);\n  const { isLoading: isMetadataLoading, currencyTokenInfo } = useAppSelector(state => state.metadata);\n  const { isInitialized: isIndexerInitialized } = useAppSelector(state => state.indexer);\n  const transactions = useAppSelector(selectCancelOrderTransactions);\n\n  const tokenId = searchParams.get('tokenId');\n  const isLoading = !isBalancesInitialized || isMetadataLoading || !isIndexerInitialized || isLoadingUserOrders;\n  const chainIdIsCorrect = !!chainId && chainId === config.chainId;\n\n  useEffect(() => {\n    if (isIndexerInitialized && !isLoadingUserOrders && account) {\n      dispatch(getUserOrders({\n        excludeNonces: transactions.map(transaction => transaction.order.nonce),\n        signerTokens: [config.collectionToken],\n        signerWallet: account,\n        limit: 9999,\n        offset: 0,\n      }));\n    }\n  }, [account, isIndexerInitialized]);\n\n  if (\n    !isLoading\n    && account\n    && currencyTokenInfo\n    && library\n    && userTokens.length\n    && chainIdIsCorrect\n  ) {\n    return (\n      <ConnectedListNftWidget\n        key={key}\n        account={account}\n        chainId={chainId}\n        currencyTokenInfo={currencyTokenInfo}\n        library={library}\n        defaultSelectedTokenId={tokenId || undefined}\n        userOrders={userOrders}\n        userTokens={userTokens}\n        className={className}\n      />\n    );\n  }\n\n  return (\n    <DisconnectedListNftWidget\n      hasNoUserTokens={!userTokens.length}\n      isLoading={isLoading || !chainIdIsCorrect}\n      className={className}\n    />\n  );\n};\n\nexport default ListNftWidget;\n","import React, { FC } from 'react';\n\nimport Helmet from '../../compositions/Helmet/Helmet';\nimport Page from '../../compositions/Page/Page';\nimport ListNftWidget from '../../widgets/ListNftWidget/ListNftWidget';\n\nimport './ListNftPage.scss';\n\nconst ListNftPage: FC = () => (\n  <Page className=\"list-nft-page\">\n    <Helmet title=\"List a token\" />\n    <div className=\"list-nft-page__list-nft-widget-cover\">\n      <div className=\"list-nft-page__list-nft-widget-container\">\n        <ListNftWidget className=\"list-nft-page__list-nft-widget\" />\n      </div>\n    </div>\n  </Page>\n);\n\nexport default ListNftPage;\n","import React, {\n  FC, useEffect, useRef, useState,\n} from 'react';\n\nimport Icon from '../Icon/Icon';\n\nimport './Accordion.scss';\n\ninterface AccordionProps {\n  isDefaultOpen?: boolean;\n  hasBorder?: boolean;\n  content: string | JSX.Element;\n  label: string;\n  className?: string;\n}\n\nconst Accordion: FC<AccordionProps> = ({\n  isDefaultOpen = false,\n  hasBorder = false,\n  content,\n  label,\n  className = '',\n}) => {\n  const [isOpen, setIsOpen] = useState<boolean>(true);\n  const [contentHeight, setContentHeight] = useState<number>();\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  // Initialise accordion and watch for content changes.\n  useEffect(() => {\n    if (!contentRef.current) return;\n    contentRef.current.style.height = 'auto';\n    const { height } = contentRef.current.getBoundingClientRect();\n    if (!contentHeight) {\n      // Initialising accordion\n      setIsOpen(isDefaultOpen);\n    }\n    setContentHeight(height);\n    contentRef.current.style.height = isOpen ? `${height}px` : '0px';\n    // Set transition duration based on height to maintain constant speed\n    contentRef.current.style.transitionDuration = `${height / 300}s`;\n  }, [contentRef.current, contentHeight, content]);\n\n  // Watch for window resize and update accordion height\n  useEffect(() => {\n    const resizeHandler = () => {\n      if (!contentRef.current) return;\n      contentRef.current.style.height = 'auto';\n      const { height } = contentRef.current.getBoundingClientRect();\n      setContentHeight(height);\n      contentRef.current.style.height = isOpen ? `${height}px` : '0px';\n      // Set transition duration based on height to maintain constant speed\n      contentRef.current.style.transitionDuration = `${height / 300}s`;\n    };\n\n    window.addEventListener('resize', resizeHandler);\n\n    return () => {\n      window.removeEventListener('resize', resizeHandler);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!contentRef.current || !contentHeight) return;\n    contentRef.current.style.height = isOpen ? `${contentHeight}px` : '0px';\n  }, [isOpen]);\n\n  const onClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <div className={`accordion ${className}`}>\n      <button\n        className={`accordion__header focus:outline-none ${isOpen ? 'accordion__header--is-open' : ''}`}\n        type=\"button\"\n        onClick={onClick}\n      >\n        <p className=\"accordion__label\">{label}</p>\n        <span\n          className=\"accordion__state-indicator\"\n          style={{ transform: `rotate(${isOpen ? 0 : 180}deg)` }}\n        >\n          <Icon className=\"accordion__state-indicator\" name=\"chevron-down\" />\n        </span>\n      </button>\n      <div\n        className={`accordion__content ${hasBorder ? 'accordion__content--has-border' : ''}`}\n        ref={contentRef}\n      >\n        {typeof content === 'string' ? <p>{content}</p> : content}\n      </div>\n    </div>\n  );\n};\n\nexport default Accordion;\n","import { useLayoutEffect, useState } from 'react';\n\nimport truncateEthAddress from 'truncate-eth-address';\n\nimport useDefaultLibrary from './useDefaultProvider';\n\nconst useAddressOrEnsName = (address?: string, shouldTruncate = false) => {\n  const library = useDefaultLibrary();\n\n  const fallback = (shouldTruncate && address) ? truncateEthAddress(address) : address;\n  const [result, setResult] = useState<string | undefined>(fallback);\n\n  useLayoutEffect(() => {\n    if (!address || !fallback) {\n      return;\n    }\n\n    if (!library) {\n      setResult(fallback);\n      return;\n    }\n\n    library\n      .lookupAddress(address)\n      .then((name) => {\n        setResult(name || fallback);\n      })\n      .catch(() => {\n        setResult(fallback);\n      });\n  }, [library, address, fallback]);\n\n  return result;\n};\n\nexport default useAddressOrEnsName;\n","import { useLayoutEffect, useState } from 'react';\n\nimport { CollectionTokenInfo } from '@airswap/types';\n\nimport { getCollectionTokenOwner } from '../entities/CollectionToken/CollectionTokenHelpers';\nimport { useAppSelector } from '../redux/hooks';\nimport useDefaultProvider from './useDefaultProvider';\n\nconst useNftTokenOwner = (token: CollectionTokenInfo): [string | undefined, boolean] => {\n  const { chainId } = useAppSelector((state) => state.config);\n  const library = useDefaultProvider(chainId);\n\n  const [owner, setOwner] = useState<string>();\n  const [isLoading, setIsLoading] = useState(true);\n\n  useLayoutEffect(() => {\n    if (!library) {\n      return;\n    }\n\n    const callGetCollectionTokenOwner = async () => {\n      const result = await getCollectionTokenOwner(library, token);\n      setIsLoading(false);\n      setOwner(result);\n    };\n\n    callGetCollectionTokenOwner();\n  }, [library, token]);\n\n  return [owner, isLoading];\n};\n\nexport default useNftTokenOwner;\n","import { TransactionReceipt } from '@ethersproject/providers';\n\nimport { NftTransactionLog } from './NftTransactionLog';\n\nexport const transformTransactionReceiptToNftTransactionLog = (\n  transactionReceipt: TransactionReceipt,\n  timestamp: number,\n  recipient: string,\n): NftTransactionLog => ({\n  recipient,\n  timestamp,\n  blockNumber: transactionReceipt.blockNumber,\n  to: transactionReceipt.to,\n  from: transactionReceipt.from,\n  tokenId: 0,\n  transactionHash: transactionReceipt.transactionHash,\n});\n","export const getUniqueArrayChildren = <T>(array: T[], key: string) => [...new Map(array.map((item: any) => [item[key], item])).values()];\n\nexport const getUniqueSingleDimensionArray = <T>(value: T, index: number, array: T[]) => array.indexOf(value) === index;\n\n","import { FullOrder } from '@airswap/types';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { NftTransactionLog } from '../../../entities/NftTransactionLog/NftTransactionLog';\nimport { getNftOrderByTokenId, getNftTransactionReceipts } from './nftDetailApi';\n\nexport interface NftDetailState {\n  isLoading: boolean;\n  isLoadingTransactionReceipts: boolean;\n  isOrderNotFound: boolean;\n  order?: FullOrder;\n  tokenId?: string;\n  transactionLogs: NftTransactionLog[];\n}\n\nconst initialState: NftDetailState = {\n  isLoading: false,\n  isLoadingTransactionReceipts: false,\n  isOrderNotFound: false,\n  transactionLogs: [],\n};\n\nexport const nftDetailSlice = createSlice({\n  name: 'collection',\n  initialState,\n  reducers: {\n    reset: (): NftDetailState => ({\n      ...initialState,\n    }),\n    setTokenId: (state, action: PayloadAction<string>): NftDetailState => ({\n      ...state,\n      tokenId: action.payload,\n    }),\n  },\n  extraReducers: (builder) => {\n    builder.addCase(getNftOrderByTokenId.pending, (state): NftDetailState => ({\n      ...state,\n      isLoading: true,\n      isOrderNotFound: false,\n    }));\n    builder.addCase(getNftOrderByTokenId.fulfilled, (state, action): NftDetailState => ({\n      ...state,\n      isLoading: false,\n      isOrderNotFound: !action.payload,\n      order: action.payload,\n    }));\n    builder.addCase(getNftOrderByTokenId.rejected, (state): NftDetailState => ({\n      ...state,\n      isLoading: false,\n    }));\n    builder.addCase(getNftTransactionReceipts.pending, (state): NftDetailState => ({\n      ...state,\n      isLoadingTransactionReceipts: true,\n    }));\n    builder.addCase(getNftTransactionReceipts.fulfilled, (state, action): NftDetailState => ({\n      ...state,\n      transactionLogs: action.payload,\n      isLoadingTransactionReceipts: false,\n    }));\n    builder.addCase(getNftTransactionReceipts.rejected, (state): NftDetailState => ({\n      ...state,\n      transactionLogs: [],\n      isLoadingTransactionReceipts: false,\n    }));\n  },\n});\n\nexport const {\n  reset,\n  setTokenId,\n} = nftDetailSlice.actions;\n\nexport default nftDetailSlice.reducer;\n","import { TokenKinds } from '@airswap/constants';\nimport { FullOrder } from '@airswap/types';\nimport { BaseProvider } from '@ethersproject/providers';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { NftTransactionLog } from '../../../entities/NftTransactionLog/NftTransactionLog';\nimport { AppThunkApiConfig } from '../../store';\nimport { getOrdersFromIndexers } from '../indexer/indexerHelpers';\nimport { addGetOrderFailedToast } from '../toasts/toastsActions';\nimport { getErc721Logs, getErc1155Logs } from './nftDetailHelpers';\nimport { setTokenId } from './nftDetailSlice';\n\nexport const getNftOrderByTokenId = createAsyncThunk<\nFullOrder | undefined,\nstring,\nAppThunkApiConfig\n>('nftDetail/getNftOrderByTokenId', async (tokenId, { dispatch, getState }) => {\n  const { config, indexer } = getState();\n\n  dispatch(setTokenId(tokenId));\n\n  try {\n    const orders = await getOrdersFromIndexers(\n      {\n        signerTokens: [config.collectionToken],\n        signerIds: [tokenId.toString()],\n        offset: 0,\n        limit: 999,\n      },\n      indexer.urls,\n    );\n\n    return orders[0];\n  } catch {\n    dispatch(addGetOrderFailedToast());\n\n    return undefined;\n  }\n});\n\ninterface GetNftTransactionHistoryParams {\n  provider: BaseProvider;\n  tokenId: number;\n}\n\nexport const getNftTransactionReceipts = createAsyncThunk<\nNftTransactionLog[],\nGetNftTransactionHistoryParams,\nAppThunkApiConfig\n>('nftDetail/getNftTransactionReceipts', async ({ provider, tokenId }, { getState }) => {\n  const { chainId, collectionToken, collectionTokenKind } = getState().config;\n\n  if (collectionTokenKind === TokenKinds.ERC1155) {\n    return getErc1155Logs(\n      chainId,\n      collectionToken,\n      provider,\n      tokenId,\n    );\n  }\n\n  return getErc721Logs(\n    chainId,\n    collectionToken,\n    provider,\n    tokenId,\n  );\n});\n","import { BaseProvider } from '@ethersproject/providers';\nimport erc721AbiContract from '@openzeppelin/contracts/build/contracts/ERC721.json';\nimport erc1155Contract from '@openzeppelin/contracts/build/contracts/ERC1155.json';\nimport { BigNumber, ethers } from 'ethers';\nimport { defaultAbiCoder } from 'ethers/lib/utils';\n\nimport { NftTransactionLog } from '../../../entities/NftTransactionLog/NftTransactionLog';\nimport {\n  transformTransactionReceiptToNftTransactionLog,\n} from '../../../entities/NftTransactionLog/NftTransactionLogTransformers';\nimport { getUniqueArrayChildren } from '../../../helpers/array';\n\nexport const getErc721Logs = async (\n  chainId: number,\n  collectionToken: string,\n  provider: BaseProvider,\n  tokenId: number,\n): Promise<NftTransactionLog[]> => {\n  const contract = new ethers.Contract(collectionToken, erc721AbiContract.abi, provider);\n  const transferFilter = contract.filters.Transfer(null, null, tokenId);\n\n  const events = await contract.queryFilter(transferFilter, 0);\n\n  const transactionReceipts = await Promise.all(events.map(event => event.getTransactionReceipt()));\n  const transactionReceiptBlocks = await Promise.all(transactionReceipts.map(receipt => provider.getBlock(receipt.blockNumber)));\n\n  const logs = transactionReceipts.map((transactionReceipt, index) => transformTransactionReceiptToNftTransactionLog(\n    transactionReceipt,\n    transactionReceiptBlocks[index].timestamp,\n    transactionReceipt.from,\n  )).sort((a, b) => b.timestamp - a.timestamp);\n\n  return getUniqueArrayChildren(logs, 'transactionHash');\n};\n\nexport const getErc1155Logs = async (\n  chainId: number,\n  collectionToken: string,\n  provider: BaseProvider,\n  tokenId: number,\n): Promise<NftTransactionLog[]> => {\n  const contract = new ethers.Contract(collectionToken, erc1155Contract.abi, provider);\n  const transferFilter = contract.filters.TransferSingle(null, null, null, null);\n\n  const events = await contract.queryFilter(transferFilter, 0);\n  const transferEvents = events.filter(event => {\n    const transferredTokenId: BigNumber | undefined = event.args?.at(3);\n\n    return transferredTokenId?.toString() === tokenId.toString() && event.event === 'TransferSingle';\n  });\n\n  const transactionReceipts = await Promise.all(transferEvents.map(event => event.getTransactionReceipt()));\n  const transactionReceiptBlocks = await Promise.all(transactionReceipts.map(receipt => provider.getBlock(receipt.blockNumber)));\n\n  const logs = transactionReceipts.map((transactionReceipt, index) => {\n    const recipientLogTopics = transactionReceipt.logs[transactionReceipt.logs.length - 1].topics;\n    const recipientParam = recipientLogTopics[3];\n    const recipient = recipientParam ? defaultAbiCoder.decode(['address'], recipientLogTopics[3]) : [transactionReceipt.from];\n\n    return transformTransactionReceiptToNftTransactionLog(\n      transactionReceipt,\n      transactionReceiptBlocks[index].timestamp,\n      recipient[0],\n    );\n  }).sort((a, b) => b.timestamp - a.timestamp);\n\n  return getUniqueArrayChildren(logs, 'transactionHash');\n};\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport {\n  differenceInDays,\n  differenceInHours,\n  differenceInMinutes,\n  differenceInMonths,\n  differenceInSeconds,\n  differenceInWeeks,\n  differenceInYears,\n} from 'date-fns';\n\nconst getDifferenceBetweenDatesInTimeUnits = (\n  date1: Date,\n  date2: Date,\n): {\n  seconds: number;\n  minutes: number;\n  hours: number;\n  days: number;\n  weeks: number;\n  months: number;\n  years: number;\n} => {\n  const seconds = differenceInSeconds(date1, date2);\n  const minutes = differenceInMinutes(date1, date2);\n  const hours = differenceInHours(date1, date2);\n  const days = differenceInDays(date1, date2);\n  const weeks = differenceInWeeks(date1, date2);\n  const months = differenceInMonths(date1, date2);\n  const years = differenceInYears(date1, date2);\n\n  return {\n    seconds,\n    minutes,\n    hours,\n    days,\n    weeks,\n    months,\n    years,\n  };\n};\n\nexport default getDifferenceBetweenDatesInTimeUnits;\n","import React, { FC, ReactElement, useMemo } from 'react';\n\nimport { getReceiptUrl } from '@airswap/utils';\nimport { NavLink } from 'react-router-dom';\n\nimport Icon from '../../../../components/Icon/Icon';\nimport TransactionLink from '../../../../compositions/TransactionLink/TransactionLink';\nimport { NftTransactionLog } from '../../../../entities/NftTransactionLog/NftTransactionLog';\nimport getTimeBetweenTwoDates from '../../../../helpers/date/getTimeBetweenTwoDates';\nimport useAddressOrEnsName from '../../../../hooks/useAddressOrEnsName';\nimport { routes } from '../../../../routes';\n\nimport './NftDetailActivityItem.scss';\n\ninterface NftDetailActivityItemProps {\n  chainId: number;\n  log: NftTransactionLog;\n  className?: string;\n}\n\nconst NftDetailActivityItem: FC<NftDetailActivityItemProps> = ({\n  chainId,\n  log,\n  className = '',\n}): ReactElement => {\n  const readableAddressName = useAddressOrEnsName(log.recipient, true);\n  const link = routes.profile(log.recipient);\n  const transactionLink = useMemo(() => getReceiptUrl(chainId, log.transactionHash), [chainId, log.transactionHash]);\n  const timeAgo = useMemo(() => getTimeBetweenTwoDates(new Date(), new Date(log.timestamp * 1000)), [log.timestamp]);\n\n  return (\n    <div className={`nft-detail-activity-item ${className}`}>\n      <Icon\n        name=\"swap-horizontal\"\n        className=\"nft-detail-activity-item__swap-icon\"\n      />\n      <div className=\"nft-detail-activity-item__label\">\n        Transferred to\n      </div>\n      <NavLink\n        to={link}\n        className=\"nft-detail-activity-item__link\"\n      >\n        {readableAddressName}\n      </NavLink>\n      <div className=\"nft-detail-activity-item__time\">\n        {timeAgo}\n      </div>\n      <TransactionLink\n        hideLabel\n        to={transactionLink}\n        className=\"nft-detail-activity-item__transaction-icon\"\n      />\n    </div>\n  );\n};\n\nexport default NftDetailActivityItem;\n","import getDifferenceBetweenDatesInTimeUnits from './getDifferenceBetweenDatesInTimeUnits';\n\nexport default function getTimeBetweenTwoDates(\n  date1: Date,\n  date2: Date,\n): string {\n  const formatter = new Intl.RelativeTimeFormat('en', {\n    numeric: 'always',\n    style: 'short',\n  });\n\n  // if date is past the current date;\n  if (date1 < date2) {\n    return formatter.format(0, 'seconds');\n  }\n\n  const {\n    minutes,\n    hours,\n    days,\n    months,\n    years,\n  } = getDifferenceBetweenDatesInTimeUnits(date1, date2);\n\n  if (years) {\n    return formatter.format(-years, 'years');\n  }\n\n  if (months) {\n    return formatter.format(-months, 'months');\n  }\n\n  if (days) {\n    return formatter.format(-days, 'days');\n  }\n\n  if (hours) {\n    return formatter.format(-hours, 'hours');\n  }\n\n  return formatter.format(-minutes, 'minutes');\n}\n","import React, { FC } from 'react';\n\nimport { NftTransactionLog } from '../../../../entities/NftTransactionLog/NftTransactionLog';\nimport NftDetailActivityItem from '../NftDetailActivityItem/NftDetailActivityItem';\n\nimport './NftDetailActivity.scss';\n\ninterface NftDetailActivityProps {\n  chainId: number;\n  logs: NftTransactionLog[];\n  className?: string;\n}\n\nconst NftDetailActivity: FC<NftDetailActivityProps> = ({\n  chainId,\n  logs,\n  className = '',\n}) => (\n  <div className={`nft-detail-activity ${className}`}>\n    {logs.length === 0 && 'No activity found'}\n    {logs.map(log => (\n      <NftDetailActivityItem\n        chainId={chainId}\n        key={log.transactionHash}\n        log={log}\n      />\n    ))}\n  </div>\n);\n\nexport default NftDetailActivity;\n","import React, { FC } from 'react';\n\nimport './NftDetailAttributeCard.scss';\n\ninterface NftDetailAttributeCardProps {\n  label: string;\n  value: string | number;\n  className?: string;\n}\n\nconst NftDetailAttributeCard: FC<NftDetailAttributeCardProps> = ({\n  label,\n  value,\n  className = '',\n}) => (\n  <div key={label} className={`nft-detail-attribute-card ${className}`}>\n    <p className=\"nft-detail-attribute-card__label\">{label}</p>\n    <p className=\"nft-detail-attribute-card__value\">{value}</p>\n  </div>\n);\n\nexport default NftDetailAttributeCard;\n","import React, { FC } from 'react';\n\nimport { CollectionTokenAttribute } from '@airswap/types';\n\nimport NftDetailAttributeCard from '../NftDetailAttributeCard/NftDetailAttributeCard';\n\nimport './NftDetailAttributes.scss';\n\ninterface NftDetailAttributesProps {\n  attrs?: Array<CollectionTokenAttribute>;\n  className?: string;\n}\n\nconst NftDetailAttributes: FC<NftDetailAttributesProps> = ({ attrs, className = '' }) => (\n  <div className={`nft-detail-attributes ${className}`}>\n    {attrs?.map((attribute: CollectionTokenAttribute) => (\n      <NftDetailAttributeCard\n        className=\"nft-detail-attributes__card\"\n        key={attribute.label}\n        label={attribute.label}\n        value={attribute.value}\n      />\n    ))}\n  </div>\n);\n\nexport default NftDetailAttributes;\n","import React from 'react';\n\nimport './NftDetailContentContainer.scss';\n\ninterface NftDetailContentContainerProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst NftDetailContentContainer: React.FC<NftDetailContentContainerProps> = ({\n  children,\n  className = '',\n}) => (\n  <div className={`nft-detail-content-container ${className}`}>\n    {children}\n  </div>\n);\n\nexport default NftDetailContentContainer;\n","import React, { FC } from 'react';\n\nimport { chainNames } from '@airswap/constants';\nimport { getAccountUrl } from '@airswap/utils';\nimport truncateEthAddress from 'truncate-eth-address';\n\nimport './NftDetailList.scss';\n\ninterface NftDetailListProps {\n  address: string;\n  id: number;\n  chainId: number;\n  standard: string;\n  fee: number;\n  className?: string;\n}\n\nconst NftDetailList: FC<NftDetailListProps> = ({\n  address,\n  id,\n  chainId,\n  standard,\n  fee,\n  className = '',\n}) => (\n  <div className={`nft-detail-list ${className}`}>\n    <div className=\"nft-detail-list__item\">\n      <p className=\"nft-detail-list__item-heading\">Contract Address:</p>\n      <a\n        href={getAccountUrl(chainId, address)}\n        rel=\"noreferrer\"\n        target=\"_blank\"\n        className=\"nft-detail-list__item-value nft-detail-list__item-link\"\n      >\n        <div className=\"nft-detail-list__item-link-address\">\n          {address}\n        </div>\n        <div className=\"nft-detail-list__item-link-truncated-address\">\n          {truncateEthAddress(address)}\n        </div>\n      </a>\n    </div>\n    <div className=\"nft-detail-list__item\">\n      <p className=\"nft-detail-list__item-heading\">Token ID:</p>\n      <p className=\"nft-detail-list__item-value\">{`#${id}`}</p>\n    </div>\n    <div className=\"nft-detail-list__item\">\n      <p className=\"nft-detail-list__item-heading\">Blockchain:</p>\n      <p className=\"nft-detail-list__item-value\">{chainNames[chainId] || chainId}</p>\n    </div>\n    <div className=\"nft-detail-list__item\">\n      <p className=\"nft-detail-list__item-heading\">Token Standard:</p>\n      <p className=\"nft-detail-list__item-value\">{standard}</p>\n    </div>\n    <div className=\"nft-detail-list__item\">\n      <p className=\"nft-detail-list__item-heading\">Trading Fee:</p>\n      <p className=\"nft-detail-list__item-value\">{`${fee}% (Paid by seller)`}</p>\n    </div>\n  </div>\n);\nexport default NftDetailList;\n","import React, { FC } from 'react';\n\nimport { Link } from 'react-router-dom';\n\nimport './NftDetailMainInfo.scss';\n\nexport interface INftDetailMainInfoProps {\n  accountRoute?: string;\n  title?: string;\n  owner?: string;\n  className?: string;\n}\n\nconst NftDetailMainInfo: FC<INftDetailMainInfoProps> = ({\n  accountRoute,\n  title,\n  owner,\n  className = '',\n}) => (\n  <div className={`nft-detail-main-info ${className}`}>\n    <h1 className=\"nft-detail-main-info__title\">{title}</h1>\n    <span className=\"nft-detail-main-info__owner\">\n      <p className=\"nft-detail-main-info__owner-label\">Owned by&nbsp;</p>\n      {(owner && accountRoute) && (\n        <Link\n          to={accountRoute}\n          className=\"nft-detail-main-info__owner-name\"\n        >\n          {owner}\n        </Link>\n      )}\n    </span>\n  </div>\n);\n\nexport default NftDetailMainInfo;\n","import React, { FC } from 'react';\n\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\n\nimport './NftDetailPortrait.scss';\n\ninterface CollectionPortraitProps {\n  backgroundImage: string;\n  className?: string;\n}\n\nconst NftDetailPortrait: FC<CollectionPortraitProps> = ({\n  backgroundImage,\n  className = '',\n}) => (\n  <div className={`nft-detail-portrait ${className}`}>\n    <LoadingSpinner className=\"nft-detail-portrait__loading-spinner\" />\n    <div\n      style={{ backgroundImage: `url(\"${backgroundImage}\")` }}\n      className=\"nft-detail-portrait__image\"\n    />\n  </div>\n);\n\nexport default NftDetailPortrait;\n","import React, { useMemo } from 'react';\n\nimport { NavLink } from 'react-router-dom';\n\nimport './NftDetailProceedButton.scss';\n\ninterface NftDetailProceedButtonProps {\n  accountIsOwner: boolean;\n  listRoute?: string;\n  orderRoute?: string;\n  className?: string;\n}\n\nconst NftDetailProceedButton: React.FC<NftDetailProceedButtonProps> = ({\n  accountIsOwner,\n  listRoute,\n  orderRoute,\n  className = '',\n}) => {\n  const navLink = useMemo(() => {\n    if (listRoute && accountIsOwner) {\n      return (\n        <NavLink\n          to={listRoute}\n          className=\"nft-detail-proceed-button__link\"\n        >\n          List token\n        </NavLink>\n      );\n    }\n\n    if (orderRoute) {\n      return (\n        <NavLink\n          to={orderRoute}\n          className=\"nft-detail-proceed-button__link\"\n        >\n          {accountIsOwner ? 'Cancel listing' : 'Proceed to buy'}\n        </NavLink>\n      );\n    }\n\n    return null;\n  }, [accountIsOwner, listRoute, orderRoute]);\n\n  return (\n    <div className={`nft-detail-proceed-button ${className}`}>\n      {navLink}\n    </div>\n  );\n};\n\nexport default NftDetailProceedButton;\n","import React, { FC } from 'react';\n\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\n\nimport './NftDetailSaleInfo.scss';\n\ninterface NftDetailSaleInfoProps {\n  isLoading?: boolean;\n  price?: string;\n  symbol: string;\n  className?: string;\n}\n\nconst NftDetailSaleInfo: FC<NftDetailSaleInfoProps> = ({\n  isLoading,\n  price,\n  symbol,\n  className = '',\n}) => (\n  <div className={`nft-detail-sale-info ${className}`}>\n    {isLoading ? (\n      <LoadingSpinner className=\"nft-detail-sale-info__loading-spinner\" />\n    ) : (\n      <h3 className=\"nft-detail-sale-info__price\">\n        {price ? `${price} ${symbol}` : null}\n      </h3>\n    )}\n  </div>\n);\n\nexport default NftDetailSaleInfo;\n","import React, { FC, useEffect, useMemo } from 'react';\n\nimport { CollectionTokenInfo, TokenInfo } from '@airswap/types';\nimport { BaseProvider } from '@ethersproject/providers';\n\nimport Accordion from '../../../../components/Accordion/Accordion';\nimport { getFullOrderReadableSenderAmountPlusTotalFees } from '../../../../entities/FullOrder/FullOrderHelpers';\nimport useAddressOrEnsName from '../../../../hooks/useAddressOrEnsName';\nimport useNftTokenOwner from '../../../../hooks/useNftTokenOwner';\nimport { useAppDispatch, useAppSelector } from '../../../../redux/hooks';\nimport { getNftOrderByTokenId, getNftTransactionReceipts } from '../../../../redux/stores/nftDetail/nftDetailApi';\nimport { reset } from '../../../../redux/stores/nftDetail/nftDetailSlice';\nimport { routes } from '../../../../routes';\nimport NftDetailActivity from '../NftDetailActivity/NftDetailActivity';\nimport NftDetailAttributes from '../NftDetailAttributes/NftDetailAttributes';\nimport NftDetailContentContainer from '../NftDetailContentContainer/NftDetailContentContainer';\nimport NftDetailList from '../NftDetailList/NftDetailList';\nimport NftDetailMainInfo from '../NftDetailMainInfo/NftDetailMainInfo';\nimport NftDetailPortrait from '../NftDetailPortrait/NftDetailPortrait';\nimport NftDetailProceedButton from '../NftDetailProceedButton/NftDetailProceedButton';\nimport NftDetailSaleInfo from '../NftDetailSaleInfo/NftDetailSaleInfo';\n\ninterface ConnectedNftDetailWidgetProps {\n  collectionTokenInfo: CollectionTokenInfo;\n  currencyTokenInfo: TokenInfo;\n  library: BaseProvider;\n  className?: string;\n}\n\nconst ConnectedNftDetailWidget: FC<ConnectedNftDetailWidgetProps> = ({\n  collectionTokenInfo,\n  currencyTokenInfo,\n  library,\n  className = '',\n}) => {\n  const dispatch = useAppDispatch();\n\n  const { chainId, collectionToken, collectionImage } = useAppSelector((state) => state.config);\n  const { account } = useAppSelector((state) => state.web3);\n\n  const { protocolFee } = useAppSelector(state => state.metadata);\n  const { isLoading: isPriceLoading, order, transactionLogs } = useAppSelector(state => state.nftDetail);\n\n  const price = useMemo(() => (order ? getFullOrderReadableSenderAmountPlusTotalFees(order, currencyTokenInfo) : undefined), [order]);\n  const [owner, isOwnerLoading] = useNftTokenOwner(collectionTokenInfo);\n  const isLoading = isPriceLoading || isOwnerLoading;\n  const readableOwnerAddress = useAddressOrEnsName(owner, true);\n  const accountRoute = owner ? routes.profile(owner) : undefined;\n  const orderRoute = order ? routes.orderDetail(order.signer.wallet, order.nonce) : undefined;\n  const listRoute = (owner === account && !order) ? routes.listNft(collectionTokenInfo.id.toString()) : undefined;\n\n  useEffect(() => {\n    dispatch(getNftOrderByTokenId(collectionTokenInfo.id.toString()));\n    dispatch(getNftTransactionReceipts({ provider: library, tokenId: collectionTokenInfo.id }));\n\n    return () => {\n      dispatch(reset());\n    };\n  }, [collectionTokenInfo]);\n\n  return (\n    <div className={`nft-detail-widget ${className}`}>\n      <NftDetailContentContainer className=\"nft-detail-widget__mobile-view\">\n        <NftDetailMainInfo\n          accountRoute={accountRoute}\n          owner={readableOwnerAddress}\n          title={collectionTokenInfo.name}\n          className=\"nft-detail-widget__main-info\"\n        />\n        <NftDetailPortrait\n          backgroundImage={collectionTokenInfo.image || collectionImage}\n          className=\"nft-detail-widget__portrait\"\n        />\n        {(isLoading || price) && (\n          <NftDetailSaleInfo\n            isLoading={isLoading}\n            price={price}\n            symbol={currencyTokenInfo.symbol}\n            className=\"nft-detail-widget__price\"\n          />\n        )}\n        <Accordion\n          label=\"Description\"\n          content={(\n            <p>{collectionTokenInfo.description}</p>\n          )}\n          className=\"nft-detail-widget__description-accordion\"\n          isDefaultOpen\n        />\n        {((orderRoute || listRoute) && owner && !isLoading) && (\n          <NftDetailProceedButton\n            accountIsOwner={account === owner}\n            orderRoute={orderRoute}\n            listRoute={listRoute}\n          />\n        )}\n        <Accordion\n          label=\"Properties\"\n          content={(\n            <NftDetailAttributes attrs={collectionTokenInfo.attributes} />\n          )}\n          className=\"nft-detail-widget__properties-accordion\"\n          isDefaultOpen\n        />\n        <Accordion\n          label=\"Details\"\n          content={(\n            <NftDetailList\n              address={collectionToken}\n              id={collectionTokenInfo.id}\n              chainId={chainId}\n              standard={collectionTokenInfo.kind}\n              fee={protocolFee / 100}\n            />\n          )}\n          className=\"nft-detail-widget__description-accordion\"\n        />\n        <Accordion\n          label=\"Item Activity\"\n          content={(\n            <NftDetailActivity\n              chainId={chainId}\n              logs={transactionLogs}\n            />\n          )}\n          className=\"nft-detail-widget__description-accordion\"\n        />\n      </NftDetailContentContainer>\n      <NftDetailContentContainer className=\"nft-detail-widget__desktop-view\">\n        <div className=\"nft-detail-widget__column\">\n          <NftDetailPortrait\n            backgroundImage={collectionTokenInfo.image || collectionImage}\n            className=\"nft-detail-widget__portrait\"\n          />\n          <div className=\"nft-detail-widget__meta-container\">\n            <h2 className=\"nft-detail-widget__meta-container-label\">Details</h2>\n            <div className=\"accordion__content accordion__content--has-border\">\n              <NftDetailList\n                address={collectionToken}\n                id={collectionTokenInfo.id}\n                chainId={chainId}\n                standard={collectionTokenInfo.kind}\n                fee={protocolFee / 100}\n              />\n            </div>\n          </div>\n          <div className=\"nft-detail-widget__meta-container\">\n            <h2 className=\"nft-detail-widget__meta-container-label\">Item activity</h2>\n            <div className=\"accordion__content accordion__content--has-border\">\n              <NftDetailActivity\n                chainId={chainId}\n                logs={transactionLogs}\n              />\n            </div>\n          </div>\n          <div className=\"nft-detail-widget__meta-container\">\n            <NftDetailAttributes attrs={collectionTokenInfo.attributes} />\n          </div>\n        </div>\n        <div className=\"nft-detail-widget__column\">\n          <NftDetailMainInfo\n            accountRoute={accountRoute}\n            owner={readableOwnerAddress}\n            title={collectionTokenInfo.name}\n            className=\"nft-detail-widget__main-info\"\n          />\n          <div className=\"nft-detail-widget__meta-container\">\n            <h2 className=\"nft-detail-widget__meta-container-label\">Description</h2>\n            <p>{collectionTokenInfo.description}</p>\n          </div>\n          {(isLoading || price) && (\n            <NftDetailSaleInfo\n              isLoading={isLoading}\n              price={price}\n              symbol={currencyTokenInfo.symbol}\n              className=\"nft-detail-widget__price\"\n            />\n          )}\n          {((orderRoute || listRoute) && owner && !isLoading) && (\n            <NftDetailProceedButton\n              accountIsOwner={account === owner}\n              listRoute={listRoute}\n              orderRoute={orderRoute}\n            />\n          )}\n        </div>\n      </NftDetailContentContainer>\n    </div>\n  );\n};\n\nexport default ConnectedNftDetailWidget;\n","import React, { FC } from 'react';\n\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\n\ninterface DisconnectedNftDetailWidgetProps {\n  isLoading: boolean;\n  isNftNotFound: boolean;\n  id: string;\n  className?: string;\n}\n\nconst DisconnectedNftDetailWidget: FC<DisconnectedNftDetailWidgetProps> = ({\n  isLoading,\n  isNftNotFound,\n  id,\n  className = '',\n}) => (\n  <div className={`nft-detail-widget ${className}`}>\n    {isLoading && <LoadingSpinner className=\"nft-detail-widget__loading-spinner\" />}\n    {isNftNotFound && `NFT with id ${id} not found`}\n  </div>\n);\n\nexport default DisconnectedNftDetailWidget;\n","import React, { FC, useEffect } from 'react';\n\nimport useCollectionToken from '../../hooks/useCollectionToken';\nimport useDefaultProvider from '../../hooks/useDefaultProvider';\nimport { useAppSelector } from '../../redux/hooks';\nimport ConnectedNftDetailWidget from './subcomponents/ConnectedNftDetailWidget/ConnectedNftDetailWidget';\nimport DisconnectedNftDetailWidget from './subcomponents/DisconnectedNftDetailWidget/DisconnectedNftDetailWidget';\n\nimport './NftDetailWidget.scss';\n\ninterface NftDetailWidgetProps {\n  tokenId: string;\n  className?: string;\n}\n\nconst NftDetailWidget: FC<NftDetailWidgetProps> = ({ tokenId, className = '' }) => {\n  const { chainId, collectionToken } = useAppSelector(state => state.config);\n  const { isInitialized } = useAppSelector(state => state.indexer);\n  const { currencyTokenInfo, isLoading: isMetadataLoading } = useAppSelector(state => state.metadata);\n  const library = useDefaultProvider(chainId);\n\n  const [collectionTokenInfo, isLoadingCollectionTokenInfo] = useCollectionToken(collectionToken, tokenId);\n  const isLoading = isMetadataLoading || isLoadingCollectionTokenInfo;\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  if (!isLoadingCollectionTokenInfo\n    && !isMetadataLoading\n    && isInitialized\n    && collectionTokenInfo\n    && currencyTokenInfo\n    && library\n  ) {\n    return (\n      <ConnectedNftDetailWidget\n        collectionTokenInfo={collectionTokenInfo}\n        currencyTokenInfo={currencyTokenInfo}\n        library={library}\n        className={className}\n      />\n    );\n  }\n\n  return (\n    <DisconnectedNftDetailWidget\n      isLoading={isLoading}\n      isNftNotFound={!isLoading && !collectionTokenInfo}\n      id={tokenId}\n      className={className}\n    />\n  );\n};\n\nexport default NftDetailWidget;\n","import React, { FC } from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport Helmet from '../../compositions/Helmet/Helmet';\nimport Page from '../../compositions/Page/Page';\nimport NftDetailWidget from '../../widgets/NftDetailWidget/NftDetailWidget';\n\nconst NftDetailPage: FC = () => {\n  const { tokenId } = useParams<{ tokenId: string }>();\n\n  return (\n    <Page>\n      <Helmet title={`Token ${tokenId || 1}`} />\n      <NftDetailWidget\n        tokenId={tokenId || '1'}\n      />\n    </Page>\n  );\n};\n\nexport default NftDetailPage;\n","import React, { FC } from 'react';\n\nimport { routes } from '../../routes';\nimport IconNavLink from '../IconNavLink/IconNavLink';\n\nimport './OrderWidgetHeader.scss';\n\ninterface OrderWidgetHeaderProps {\n  nftId?: string;\n  title: string;\n  className?: string;\n}\n\nconst OrderWidgetHeader: FC<OrderWidgetHeaderProps> = ({ nftId, title, className = '' }) => (\n  <div className={`order-widget-header ${className}`}>\n    <h1 className=\"order-widget-header__title\">{title}</h1>\n    <IconNavLink\n      hideLabel\n      icon=\"close\"\n      text=\"Back\"\n      to={nftId ? routes.nftDetail(nftId) : routes.collection()}\n      className=\"order-widget-header__back-button\"\n    />\n  </div>\n);\n\nexport default OrderWidgetHeader;\n","import React, { FC } from 'react';\n\nimport LoadingSpinner from '../../components/LoadingSpinner/LoadingSpinner';\nimport OrderWidgetHeader from '../OrderWidgetHeader/OrderWidgetHeader';\n\nimport './DisconnectedOrderDetail.scss';\n\ninterface DisconnectedBuyNftWidgetProps {\n  isLoading?: boolean;\n  isOrderNonceUndefined?: boolean;\n  isOrderNotFound?: boolean;\n  nftId?: string;\n  orderNonce?: string;\n  className?: string;\n}\n\nconst DisconnectedOrderDetail: FC<DisconnectedBuyNftWidgetProps> = ({\n  isLoading,\n  isOrderNonceUndefined,\n  isOrderNotFound,\n  nftId,\n  orderNonce,\n  className = '',\n}) => (\n  <div className={`disconnected-order-detail ${className}`}>\n    <div className=\"disconnected-order-detail__widget\">\n      <OrderWidgetHeader\n        title=\"\"\n        nftId={nftId}\n        className=\"disconnected-order-detail__header\"\n      />\n      {isLoading && <LoadingSpinner className=\"disconnected-order-detail__loading-spinner\" />}\n      {isOrderNonceUndefined && 'Order nonce not defined'}\n      {isOrderNotFound && `Order with nonce ${orderNonce} not found`}\n    </div>\n  </div>\n);\n\nexport default DisconnectedOrderDetail;\n","import { FullOrder } from '@airswap/types';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { AppThunkApiConfig } from '../../store';\nimport { getOrdersFromIndexers } from '../indexer/indexerHelpers';\nimport { addGetOrderFailedToast } from '../toasts/toastsActions';\n\nexport const getNftOrderByOrderNonce = createAsyncThunk<\nFullOrder | undefined,\nstring,\nAppThunkApiConfig\n>('orderDetail/getNftOrderByNonce', async (orderNonce, { dispatch, getState }) => {\n  const { indexer } = getState();\n\n  try {\n    const orders = await getOrdersFromIndexers(\n      {\n        nonce: orderNonce,\n        offset: 0,\n        limit: 999,\n      },\n      indexer.urls,\n    );\n\n    return orders[0];\n  } catch {\n    dispatch(addGetOrderFailedToast());\n\n    return undefined;\n  }\n});\n","import { useEffect, useState } from 'react';\n\nimport { FullOrder } from '@airswap/types';\n\nimport { getNonceUsed } from '../redux/stores/orders/ordersApi';\nimport useDefaultProvider from './useDefaultProvider';\n\nconst useFullOrderNonceUsed = (fullOrder?: FullOrder, usePolling = true): [boolean, boolean] => {\n  const library = useDefaultProvider(fullOrder?.chainId);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isNonceUsed, setIsNonceUsed] = useState(false);\n\n  const getNonceUsedCall = async () => {\n    if (!library || !fullOrder) {\n      return;\n    }\n\n    const response = await getNonceUsed(fullOrder, library);\n\n    setIsNonceUsed(response);\n    setIsLoading(!response);\n  };\n\n  useEffect((): () => void => {\n    getNonceUsedCall();\n\n    const timer = setInterval(async () => {\n      if (!library || !fullOrder) {\n        return;\n      }\n\n      const response = await getNonceUsed(fullOrder, library);\n\n      if (response || !usePolling) {\n        clearInterval(timer);\n      }\n\n      setIsLoading(false);\n      setIsNonceUsed(response);\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [fullOrder, library]);\n\n  return [isNonceUsed, isLoading];\n};\n\nexport default useFullOrderNonceUsed;\n","import { useMemo } from 'react';\n\nimport { Erc20ApprovalTransaction } from '../entities/SubmittedTransaction/SubmittedTransaction';\nimport { useAppSelector } from '../redux/hooks';\nimport { selectErc20ApprovalTransactions } from '../redux/stores/transactions/transactionsSlice';\n\nconst useApproveCurrencyTokenTransaction = (hash?: string): Erc20ApprovalTransaction | undefined => {\n  const transactions = useAppSelector(selectErc20ApprovalTransactions);\n\n  return useMemo(() => {\n    if (!transactions.length || !hash) {\n      return undefined;\n    }\n\n    return transactions.find(transaction => transaction.hash === hash);\n  }, [transactions, hash]);\n};\n\nexport default useApproveCurrencyTokenTransaction;\n","import { useEffect, useState } from 'react';\n\nconst useFullOrderExpired = (orderExpiry: string): boolean => {\n  const expiry = +orderExpiry * 1000;\n\n  const [isExpired, setIsExpired] = useState(new Date().getTime() > expiry);\n\n  useEffect((): () => void => {\n    const timer = setInterval(() => {\n      setIsExpired(new Date().getTime() > expiry);\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [orderExpiry]);\n\n  return isExpired;\n};\n\nexport default useFullOrderExpired;\n","import { useMemo } from 'react';\n\nimport { BigNumber } from 'bignumber.js';\n\nimport { useAppSelector } from '../redux/hooks';\n\nconst useInsufficientBalance = (amount: string): boolean => {\n  const { currencyTokenBalance } = useAppSelector(store => store.balances);\n\n  return useMemo(() => new BigNumber(currencyTokenBalance).lt(amount), [currencyTokenBalance, amount]);\n};\n\nexport default useInsufficientBalance;\n","import { useMemo } from 'react';\n\nimport { OrderTransaction } from '../entities/SubmittedTransaction/SubmittedTransaction';\nimport { useAppSelector } from '../redux/hooks';\nimport { selectOrderTransactions } from '../redux/stores/transactions/transactionsSlice';\n\nconst useOrderTransaction = (orderNonce: string): OrderTransaction | undefined => {\n  const pendingOrders = useAppSelector(selectOrderTransactions);\n\n  return useMemo(() => {\n    if (!orderNonce || !pendingOrders.length) {\n      return undefined;\n    }\n\n    return pendingOrders.find(tx => tx.order.nonce === orderNonce);\n  }, [orderNonce, pendingOrders]);\n};\n\nexport default useOrderTransaction;\n","import { useEffect, useState } from 'react';\n\nimport { FullOrder } from '@airswap/types';\nimport { BigNumber } from 'bignumber.js';\n\nimport { getFullOrderSenderAmountPlusTotalFees } from '../entities/FullOrder/FullOrderHelpers';\nimport { useAppSelector } from '../redux/hooks';\n\nconst useSufficientErc20Allowance = (fullOrder: FullOrder): boolean => {\n  const { currencyTokenAllowance } = useAppSelector((state) => state.balances);\n\n  const [hasSufficientAllowance, setHasSufficientAllowance] = useState(false);\n\n  useEffect(() => {\n    const amount = getFullOrderSenderAmountPlusTotalFees(fullOrder);\n    setHasSufficientAllowance(new BigNumber(currencyTokenAllowance).gte(amount));\n  }, [fullOrder, currencyTokenAllowance]);\n\n  return hasSufficientAllowance;\n};\n\nexport default useSufficientErc20Allowance;\n","import React, { FC, useCallback } from 'react';\n\nimport { CollectionTokenInfo } from '@airswap/types';\nimport { NavLink } from 'react-router-dom';\n\nimport Button from '../../../../components/Button/Button';\nimport { routes } from '../../../../routes';\nimport { BuyNftState } from '../ConnectedBuyNftWidget/ConnectedBuyNftWidget';\n\nimport './BuyActionButtons.scss';\n\ninterface ActionButtonsProps {\n  hasInsufficientAmount: boolean;\n  hasNoCurrencyTokenApproval: boolean;\n  isOrderExpired: boolean;\n  isOrderNonceUsed: boolean;\n  ownerIsAccount: boolean;\n  account: string;\n  collectionTokenInfo: CollectionTokenInfo;\n  currencyTokenSymbol: string;\n  state: BuyNftState;\n  onActionButtonClick: () => void;\n  className?: string;\n}\n\nconst BuyActionButtons: FC<ActionButtonsProps> = ({\n  hasInsufficientAmount,\n  hasNoCurrencyTokenApproval,\n  isOrderExpired,\n  isOrderNonceUsed,\n  ownerIsAccount,\n  account,\n  collectionTokenInfo,\n  currencyTokenSymbol,\n  state,\n  onActionButtonClick,\n  className = '',\n}) => {\n  const getActionButton = useCallback((): JSX.Element | null => {\n    if (ownerIsAccount) {\n      return (\n        <Button\n          disabled\n          text=\"This is your own order\"\n          className=\"buy-action-buttons__action-button\"\n        />\n      );\n    }\n\n    if (isOrderNonceUsed && state === BuyNftState.details) {\n      return (\n        <Button\n          disabled\n          text=\"Order is already taken\"\n          className=\"buy-action-buttons__action-button\"\n        />\n      );\n    }\n\n    if (isOrderExpired && state === BuyNftState.details) {\n      return (\n        <Button\n          disabled\n          text=\"Order is expired\"\n          className=\"buy-action-buttons__action-button\"\n        />\n      );\n    }\n\n    if (hasInsufficientAmount && state === BuyNftState.details) {\n      return (\n        <Button\n          disabled\n          text={`Insufficient ${currencyTokenSymbol}`}\n          className=\"buy-action-buttons__action-button\"\n        />\n      );\n    }\n\n    if (state === BuyNftState.details) {\n      return (\n        <Button\n          text={hasNoCurrencyTokenApproval ? `Approve ${currencyTokenSymbol}` : 'Buy NFT'}\n          onClick={onActionButtonClick}\n          className=\"buy-action-buttons__action-button\"\n        />\n      );\n    }\n\n    if (state === BuyNftState.buying) {\n      return (\n        <NavLink\n          to=\"/\"\n          className=\"buy-action-buttons__action-button\"\n        >\n          Back to collection\n        </NavLink>\n      );\n    }\n\n    if (state === BuyNftState.success) {\n      return (\n        <NavLink\n          to={routes.profile(account)}\n          className=\"buy-action-buttons__action-button\"\n        >\n          View in my profile\n        </NavLink>\n      );\n    }\n\n    if (state === BuyNftState.failed) {\n      return (\n        <NavLink\n          to={routes.nftDetail(collectionTokenInfo.id.toString())}\n          onClick={onActionButtonClick}\n          className=\"buy-action-buttons__action-button\"\n        >\n          Go back\n        </NavLink>\n      );\n    }\n\n    return null;\n  }, [\n    hasInsufficientAmount,\n    hasNoCurrencyTokenApproval,\n    isOrderExpired,\n    isOrderNonceUsed,\n    ownerIsAccount,\n    account,\n    collectionTokenInfo,\n    currencyTokenSymbol,\n    state,\n  ]);\n\n  return (\n    <div className={`buy-action-buttons ${className}`}>\n      {getActionButton()}\n    </div>\n  );\n};\n\nexport default BuyActionButtons;\n","import React, { FC } from 'react';\n\nimport { CollectionTokenInfo } from '@airswap/types';\nimport classNames from 'classnames';\n\nimport Icon from '../Icon/Icon';\n\nimport './TradeNftDetails.scss';\n\nexport interface TradeNftDetailsProps {\n  collectionImage: string;\n  collectionName: string;\n  collectionToken: CollectionTokenInfo;\n  icon?: 'success' | 'failed';\n  className?: string;\n}\n\nconst TradeNftDetails: FC<TradeNftDetailsProps> = ({\n  collectionImage,\n  collectionName,\n  collectionToken,\n  icon,\n  className = '',\n}) => {\n  const wrapperClassName = classNames('trade-nft-details', {\n    [`trade-nft-details--has-${icon}-icon`]: icon,\n  }, className);\n\n  return (\n    <div className={wrapperClassName}>\n      {icon && (\n        <div className=\"trade-nft-details__check-icon-container\">\n          <div className=\"trade-nft-details__check-icon-circle\">\n            <Icon\n              name={icon === 'failed' ? 'close' : 'check'}\n              className=\"trade-nft-details__check-icon\"\n            />\n          </div>\n        </div>\n      )}\n      <div\n        style={{ backgroundImage: `url(\"${collectionToken.image}\")` }}\n        className=\"trade-nft-details__inner\"\n      >\n        <h2 className=\"trade-nft-details__token-name\">{collectionToken.name}</h2>\n        <div className=\"trade-nft-details__portrait-and-collection-details\">\n          <div\n            style={{ backgroundImage: `url(\"${collectionImage}\")` }}\n            className=\"trade-nft-details__collection-portrait\"\n          />\n          <div className=\"trade-nft-details__collection-details\">\n            <h3 className=\"trade-nft-details__collection-name\">{collectionName}</h3>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TradeNftDetails;\n","import React, { FC, useMemo } from 'react';\n\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\nimport { getReceiptUrl } from '@airswap/utils';\nimport classNames from 'classnames';\n\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\nimport TradeDetails from '../../../../components/TradeDetails/TradeDetails';\nimport TradeNftDetails, { TradeNftDetailsProps } from '../../../../components/TradeNftDetails/TradeNftDetails';\nimport TransactionLink from '../../../../compositions/TransactionLink/TransactionLink';\nimport { getFullOrderSenderAmountPlusTotalFees } from '../../../../entities/FullOrder/FullOrderHelpers';\nimport { Erc20ApprovalTransaction, OrderTransaction } from '../../../../entities/SubmittedTransaction/SubmittedTransaction';\nimport { AppError } from '../../../../errors/appError';\nimport SwapIcon from '../../../ListNftWidget/subcomponents/SwapIcon/SwapIcon';\nimport { getNftDetailsIcon } from '../../helpers';\nimport { BuyNftState } from '../ConnectedBuyNftWidget/ConnectedBuyNftWidget';\n\nimport './BuyNftWidgetDetailsContainer.scss';\n\ninterface BuyNftWidgetDetailsContainerProps {\n  chainId: number;\n  collectionImage: string;\n  collectionName: string;\n  collectionTokenInfo: CollectionTokenInfo;\n  currencyTokenInfo: TokenInfo;\n  error?: AppError;\n  fullOrder: FullOrder,\n  submittedApproval?: Erc20ApprovalTransaction;\n  submittedOrder?: OrderTransaction;\n  widgetState: BuyNftState;\n  className?: string;\n}\n\nconst BuyNftWidgetDetailsContainer: FC<BuyNftWidgetDetailsContainerProps> = ({\n  chainId,\n  collectionImage,\n  collectionName,\n  collectionTokenInfo,\n  currencyTokenInfo,\n  error,\n  fullOrder,\n  submittedApproval,\n  submittedOrder,\n  widgetState,\n  className = '',\n}) => {\n  const wrapperClassName = classNames('buy-nft-details-container', {\n    [`buy-nft-details-container--has-${widgetState}-state`]: widgetState,\n  }, className);\n\n  const pricePlusFees = useMemo(() => getFullOrderSenderAmountPlusTotalFees(fullOrder), [fullOrder]);\n  const nftDetailsIcon: TradeNftDetailsProps['icon'] = useMemo(() => getNftDetailsIcon(widgetState), [widgetState]);\n  const approvalUrl = useMemo(() => (submittedApproval?.hash ? getReceiptUrl(chainId, submittedApproval.hash) : undefined), [submittedApproval]);\n  const orderUrl = useMemo(() => (submittedOrder?.hash ? getReceiptUrl(chainId, submittedOrder.hash) : undefined), [submittedOrder]);\n\n  return (\n    <div className={wrapperClassName}>\n      {(widgetState === BuyNftState.details || widgetState === BuyNftState.success || widgetState === BuyNftState.failed) && (\n        <>\n          <TradeNftDetails\n            icon={nftDetailsIcon}\n            collectionImage={collectionImage}\n            collectionName={collectionName}\n            collectionToken={collectionTokenInfo}\n            className=\"buy-nft-details-container__trade-details\"\n          />\n          {widgetState === BuyNftState.details && (\n            <>\n              <SwapIcon />\n              <TradeDetails\n                amount={pricePlusFees}\n                logoURI={currencyTokenInfo.logoURI}\n                title=\"For\"\n                token={currencyTokenInfo}\n                className=\"buy-nft-details-container__trade-details\"\n              />\n            </>\n          )}\n          {(widgetState === BuyNftState.success && orderUrl) && (\n            <TransactionLink\n              to={orderUrl}\n              className=\"buy-nft-details-container__transaction-link\"\n            />\n          )}\n          {(widgetState === BuyNftState.failed && error) && (\n            <p className=\"buy-nft-details-container__message\">\n              {/* TODO: Add translations for errors */}\n              {`Failed for the following reason: ${error.type}`}\n            </p>\n          )}\n        </>\n      )}\n\n      {(widgetState === BuyNftState.sign || widgetState === BuyNftState.approve) && (\n        <>\n          <LoadingSpinner className=\"buy-nft-details-container__loading-spinner--is-hidden\" />\n\n          <p className=\"list-nft-details-container__message\">\n            If your wallet does not open something went wrong\n          </p>\n        </>\n      )}\n\n      {(widgetState === BuyNftState.approving) && (\n        <>\n          <LoadingSpinner className=\"buy-nft-details-container__loading-spinner\" />\n          <TradeDetails\n            logoURI={currencyTokenInfo.logoURI}\n            title=\"Approving\"\n            token={currencyTokenInfo}\n          />\n          {approvalUrl && (\n            <TransactionLink\n              to={approvalUrl}\n              className=\"list-nft-details-container__transaction-link\"\n            />\n          )}\n        </>\n      )}\n\n      {(widgetState === BuyNftState.buying) && (\n        <>\n          <LoadingSpinner className=\"buy-nft-details-container__loading-spinner\" />\n          <TradeDetails\n            amount={pricePlusFees}\n            logoURI={currencyTokenInfo.logoURI}\n            title=\"For\"\n            token={currencyTokenInfo}\n            className=\"buy-nft-details-container__trade-details\"\n          />\n          <SwapIcon />\n          <TradeDetails\n            logoURI={collectionTokenInfo ? collectionTokenInfo.image : collectionImage}\n            title=\"Buy\"\n            token={collectionTokenInfo}\n          />\n          {orderUrl && (\n            <TransactionLink\n              to={orderUrl}\n              className=\"buy-nft-details-container__transaction-link\"\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default BuyNftWidgetDetailsContainer;\n","import { TradeNftDetailsProps } from '../../../components/TradeNftDetails/TradeNftDetails';\nimport { BuyNftState } from '../subcomponents/ConnectedBuyNftWidget/ConnectedBuyNftWidget';\n\nexport const getNftDetailsIcon = (state: BuyNftState): TradeNftDetailsProps['icon'] => {\n  if (state === BuyNftState.success) {\n    return 'success';\n  }\n\n  if (state === BuyNftState.failed) {\n    return 'failed';\n  }\n\n  return undefined;\n};\n\nexport const getTitle = (state: BuyNftState): string => {\n  if (state === BuyNftState.approve) {\n    return 'Approve in Wallet';\n  }\n\n  if (state === BuyNftState.approving) {\n    return 'Transaction in progress';\n  }\n\n  if (state === BuyNftState.sign) {\n    return 'Sign in Wallet';\n  }\n\n  if (state === BuyNftState.buying) {\n    return 'Buying in progress';\n  }\n\n  if (state === BuyNftState.success) {\n    return 'Success';\n  }\n\n  if (state === BuyNftState.failed) {\n    return 'Failed';\n  }\n\n  return 'Buy NFT';\n};\n","import React, {\n  FC,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\nimport { Web3Provider } from '@ethersproject/providers';\n\nimport OrderWidgetHeader from '../../../../compositions/OrderWidgetHeader/OrderWidgetHeader';\nimport { getFullOrderSenderAmountPlusTotalFees } from '../../../../entities/FullOrder/FullOrderHelpers';\nimport { AppErrorType, isAppError } from '../../../../errors/appError';\nimport useApproveCurrencyTokenTransaction from '../../../../hooks/useApproveCurrencyTokenTransaction';\nimport useFullOrderExpired from '../../../../hooks/useFullOrderExpired';\nimport useInsufficientBalance from '../../../../hooks/useInsufficientBalance';\nimport useOrderTransaction from '../../../../hooks/useOrderTransaction';\nimport useSufficientErc20Allowance from '../../../../hooks/useSufficientErc20Allowance';\nimport { useAppDispatch, useAppSelector } from '../../../../redux/hooks';\nimport { approve as approveErc20, take } from '../../../../redux/stores/orders/ordersActions';\nimport { setError } from '../../../../redux/stores/orders/ordersSlice';\nimport { addInfoToast, addUserRejectedToast } from '../../../../redux/stores/toasts/toastsActions';\nimport { getTitle } from '../../helpers';\nimport BuyActionButtons from '../BuyActionButtons/BuyActionButtons';\nimport BuyNftWidgetDetailsContainer from '../BuyNftWidgetDetailsContainer/BuyNftWidgetDetailsContainer';\n\nexport enum BuyNftState {\n  details = 'details',\n  approve = 'approve',\n  approving = 'approving',\n  sign = 'sign',\n  buying = 'buying',\n  success = 'success',\n  failed = 'failed',\n}\n\ninterface ConnectedBuyNftWidgetProps {\n  isOrderNonceUsed: boolean;\n  account: string;\n  chainId: number\n  collectionTokenInfo: CollectionTokenInfo;\n  currencyTokenInfo: TokenInfo;\n  fullOrder: FullOrder;\n  library: Web3Provider;\n  className?: string;\n}\n\nconst BuyNftWidget: FC<ConnectedBuyNftWidgetProps> = ({\n  isOrderNonceUsed,\n  account,\n  chainId,\n  collectionTokenInfo,\n  currencyTokenInfo,\n  fullOrder,\n  library,\n  className = '',\n}) => {\n  const dispatch = useAppDispatch();\n  const { collectionImage, collectionName } = useAppSelector(state => state.config);\n  const { error } = useAppSelector(state => state.orders);\n\n  const [widgetState, setWidgetState] = useState<BuyNftState>(BuyNftState.details);\n  const [approvalTransactionHash, setApprovalTransactionHash] = useState<string>();\n\n  const hasInsufficientBalance = useInsufficientBalance(fullOrder.sender.amount);\n  const hasSufficientCurrencyAllowance = useSufficientErc20Allowance(fullOrder);\n  const approveTransaction = useApproveCurrencyTokenTransaction(approvalTransactionHash);\n  const orderTransaction = useOrderTransaction(fullOrder.nonce);\n  const isOrderExpired = useFullOrderExpired(fullOrder.expiry);\n  const ownerIsAccount = fullOrder.signer.wallet.toLowerCase() === account.toLowerCase();\n\n  const title = useMemo(() => getTitle(widgetState), [widgetState]);\n\n  const handleActionButtonClick = async () => {\n    if (widgetState === BuyNftState.details && !hasSufficientCurrencyAllowance) {\n      setWidgetState(BuyNftState.approve);\n\n      dispatch(approveErc20({\n        amount: getFullOrderSenderAmountPlusTotalFees(fullOrder).toNumber(),\n        tokenInfo: currencyTokenInfo,\n        library,\n        chainId,\n      }))\n        .unwrap()\n        .then((transactionHash) => {\n          if (typeof transactionHash === 'string') {\n            setApprovalTransactionHash(transactionHash);\n          }\n        })\n        .catch((e) => {\n          if (isAppError(e) && e.type === AppErrorType.rejectedByUser) {\n            dispatch(addUserRejectedToast());\n            setWidgetState(BuyNftState.details);\n          } else {\n            setWidgetState(BuyNftState.failed);\n          }\n        });\n    }\n\n    if (widgetState === BuyNftState.details && hasSufficientCurrencyAllowance) {\n      setWidgetState(BuyNftState.sign);\n\n      dispatch(take({\n        order: fullOrder,\n        senderWallet: account,\n        library,\n      }));\n    }\n\n    if (widgetState === BuyNftState.failed) {\n      dispatch(setError(undefined));\n    }\n  };\n\n  useEffect(() => {\n    if (approveTransaction?.status === 'processing') {\n      setWidgetState(BuyNftState.approving);\n    }\n\n    if (approveTransaction?.status === 'succeeded') {\n      dispatch(addInfoToast('Approved', `Approved ${currencyTokenInfo.symbol} to be spend.`));\n      setWidgetState(BuyNftState.details);\n    }\n  }, [approveTransaction]);\n\n  useEffect(() => {\n    if (orderTransaction?.status === 'processing') {\n      setWidgetState(BuyNftState.buying);\n    }\n\n    if (orderTransaction?.status === 'succeeded') {\n      setWidgetState(BuyNftState.success);\n    }\n  }, [orderTransaction]);\n\n  useEffect(() => {\n    if (!error) {\n      return;\n    }\n\n    if (error?.type === AppErrorType.rejectedByUser) {\n      dispatch(addUserRejectedToast());\n      setWidgetState(BuyNftState.details);\n    } else {\n      setWidgetState(BuyNftState.failed);\n    }\n  }, [error]);\n\n  // This will clear the store when unmounting the component\n  useEffect((): () => void => () => dispatch(setError(undefined)), []);\n\n  return (\n    <div className={`buy-nft-widget ${className}`}>\n      <OrderWidgetHeader\n        nftId={collectionTokenInfo.id.toString()}\n        title={title}\n        className=\"buy-nft-widget__header\"\n      />\n\n      <BuyNftWidgetDetailsContainer\n        chainId={chainId}\n        collectionImage={collectionImage}\n        collectionName={collectionName}\n        collectionTokenInfo={collectionTokenInfo}\n        currencyTokenInfo={currencyTokenInfo}\n        error={error}\n        fullOrder={fullOrder}\n        submittedApproval={approveTransaction}\n        submittedOrder={orderTransaction}\n        widgetState={widgetState}\n        className=\"buy-nft-widget__trade-details-container\"\n      />\n\n      <BuyActionButtons\n        hasInsufficientAmount={hasInsufficientBalance}\n        hasNoCurrencyTokenApproval={!hasSufficientCurrencyAllowance}\n        isOrderExpired={isOrderExpired}\n        isOrderNonceUsed={isOrderNonceUsed}\n        ownerIsAccount={ownerIsAccount}\n        account={account}\n        collectionTokenInfo={collectionTokenInfo}\n        currencyTokenSymbol={currencyTokenInfo.symbol}\n        state={widgetState}\n        onActionButtonClick={handleActionButtonClick}\n        className=\"buy-nft-widget__action-buttons\"\n      />\n    </div>\n  );\n};\n\nexport default BuyNftWidget;\n","import React, { FC, ReactElement } from 'react';\n\nimport { chainNames } from '@airswap/constants';\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\n\nimport Button from '../../../../components/Button/Button';\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\nimport OrderWidgetHeader from '../../../../compositions/OrderWidgetHeader/OrderWidgetHeader';\nimport { useAppDispatch } from '../../../../redux/hooks';\nimport { setShowConnectModal } from '../../../../redux/stores/web3/web3Slice';\nimport { ConnectionType } from '../../../../web3-connectors/connections';\nimport { switchNetwork } from '../../../../web3-connectors/helpers';\nimport BuyNftWidgetDetailsContainer from '../BuyNftWidgetDetailsContainer/BuyNftWidgetDetailsContainer';\nimport { BuyNftState } from '../ConnectedBuyNftWidget/ConnectedBuyNftWidget';\n\ninterface DisconnectedBuyNftWidgetProps {\n  isActive: boolean;\n  isLoading: boolean;\n  chainId?: number;\n  configChainId: number;\n  collectionImage: string;\n  collectionName: string;\n  collectionTokenInfo?: CollectionTokenInfo;\n  currencyTokenInfo?: TokenInfo;\n  connectionType?: ConnectionType;\n  fullOrder: FullOrder;\n  nftId: string\n  className?: string;\n}\n\nconst DisconnectedBuyNftWidget: FC<DisconnectedBuyNftWidgetProps> = ({\n  isActive,\n  isLoading,\n  chainId,\n  configChainId,\n  collectionImage,\n  collectionName,\n  collectionTokenInfo,\n  connectionType,\n  currencyTokenInfo,\n  fullOrder,\n  nftId,\n  className = '',\n}): ReactElement => {\n  const dispatch = useAppDispatch();\n\n  const handleSwitchChainClick = (): void => {\n    if (connectionType) {\n      switchNetwork(configChainId, connectionType);\n    }\n  };\n\n  const handleConnectWalletClick = (): void => {\n    dispatch(setShowConnectModal(true));\n  };\n\n  return (\n    <div className={`buy-nft-widget ${className}`}>\n      <OrderWidgetHeader\n        nftId={nftId}\n        title=\"Buy NFT\"\n        className=\"buy-nft-widget__header\"\n      />\n\n      {(collectionTokenInfo && currencyTokenInfo && configChainId) && (\n        <BuyNftWidgetDetailsContainer\n          chainId={configChainId}\n          collectionImage={collectionImage}\n          collectionName={collectionName}\n          collectionTokenInfo={collectionTokenInfo}\n          currencyTokenInfo={currencyTokenInfo}\n          fullOrder={fullOrder}\n          widgetState={BuyNftState.details}\n          className=\"buy-nft-widget__trade-details-container\"\n        />\n      )}\n\n      {isLoading && <LoadingSpinner className=\"buy-nft-widget__button-loading-spinner\" />}\n      {!isLoading && !isActive && (\n        <Button\n          text=\"Connect wallet\"\n          onClick={handleConnectWalletClick}\n          className=\"buy-nft-widget__action-button\"\n        />\n      )}\n      {!isLoading && isActive && chainId !== configChainId && (\n        <Button\n          text={`Switch to ${chainNames[configChainId]}`}\n          onClick={handleSwitchChainClick}\n          className=\"buy-nft-widget__action-button\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default DisconnectedBuyNftWidget;\n","import React, { FC } from 'react';\n\nimport { FullOrder } from '@airswap/types';\nimport { useWeb3React } from '@web3-react/core';\n\nimport useCollectionToken from '../../hooks/useCollectionToken';\nimport useFullOrderNonceUsed from '../../hooks/useFullOrderNonceUsed';\nimport { useAppSelector } from '../../redux/hooks';\nimport ConnectedBuyNftWidget from './subcomponents/ConnectedBuyNftWidget/ConnectedBuyNftWidget';\nimport DisconnectedBuyNftWidget from './subcomponents/DisconnectedBuyNftWidget/DisconnectedBuyNftWidget';\n\nimport './BuyNftWidget.scss';\n\ninterface BuyNftWidgetProps {\n  order: FullOrder;\n  className?: string;\n}\n\nconst BuyNftWidget: FC<BuyNftWidgetProps> = ({ order, className = '' }) => {\n  const {\n    account,\n    chainId,\n    isActive,\n  } = useWeb3React();\n  const tokenId = order.signer.id;\n\n  const {\n    collectionImage,\n    collectionName,\n    collectionToken,\n    chainId: configChainId,\n  } = useAppSelector((state) => state.config);\n  const { isLoading: isMetadataLoading, currencyTokenInfo } = useAppSelector(state => state.metadata);\n  const { connectionType } = useAppSelector(state => state.web3);\n\n  const { provider: library } = useWeb3React();\n\n  const [collectionTokenInfo, isCollectionTokenInfoLoading] = useCollectionToken(collectionToken, tokenId);\n  const [isNonceUsed, isNonceUsedLoading] = useFullOrderNonceUsed(order);\n  const isLoading = isMetadataLoading || isCollectionTokenInfoLoading || isNonceUsedLoading;\n\n  if (\n    !isLoading\n    && isActive\n    && account\n    && chainId === configChainId\n    && collectionTokenInfo\n    && currencyTokenInfo\n    && library\n  ) {\n    return (\n      <ConnectedBuyNftWidget\n        isOrderNonceUsed={isNonceUsed}\n        account={account}\n        chainId={chainId}\n        collectionTokenInfo={collectionTokenInfo}\n        currencyTokenInfo={currencyTokenInfo}\n        fullOrder={order}\n        library={library}\n        className={className}\n      />\n    );\n  }\n\n  return (\n    <DisconnectedBuyNftWidget\n      isActive={isActive}\n      isLoading={isLoading}\n      chainId={chainId}\n      configChainId={configChainId}\n      collectionImage={collectionImage}\n      collectionName={collectionName}\n      collectionTokenInfo={collectionTokenInfo}\n      connectionType={connectionType}\n      currencyTokenInfo={currencyTokenInfo}\n      fullOrder={order}\n      nftId={tokenId}\n      className={className}\n    />\n  );\n};\n\nexport default BuyNftWidget;\n","import { useMemo } from 'react';\n\nimport { CancelOrderTransaction } from '../entities/SubmittedTransaction/SubmittedTransaction';\nimport { useAppSelector } from '../redux/hooks';\nimport {\n  selectCancelOrderTransactions,\n} from '../redux/stores/transactions/transactionsSlice';\n\nconst useCancelOrderTransaction = (hash?: string): CancelOrderTransaction | undefined => {\n  const transactions = useAppSelector(selectCancelOrderTransactions);\n\n  return useMemo(() => {\n    if (!transactions.length || !hash) {\n      return undefined;\n    }\n\n    return transactions.find(transaction => transaction.hash === hash);\n  }, [transactions, hash]);\n};\n\nexport default useCancelOrderTransaction;\n","import React, { FC, ReactElement, useCallback } from 'react';\n\nimport { NavLink } from 'react-router-dom';\n\nimport Button from '../../../../components/Button/Button';\nimport { routes } from '../../../../routes';\nimport { CancelOrderState } from '../ConnectedCancelOrderWidget/ConnectedCancelOrderWidget';\n\nimport './CancelActionButtons.scss';\n\ninterface CancelActionButtonsProps {\n  nftId: string;\n  state: CancelOrderState;\n  onActionButtonClick: () => void;\n  className?: string;\n}\n\nconst CancelActionButtons: FC<CancelActionButtonsProps> = ({\n  nftId,\n  state,\n  onActionButtonClick,\n  className = '',\n}): ReactElement => {\n  const getActionButton = useCallback((): JSX.Element | null => {\n    if (state === CancelOrderState.details) {\n      return (\n        <Button\n          text=\"Cancel listing\"\n          onClick={onActionButtonClick}\n          className=\"cancel-action-buttons__cancel-button\"\n        />\n      );\n    }\n\n    if (state === CancelOrderState.success) {\n      return (\n        <>\n          <NavLink\n            to={routes.nftDetail(nftId)}\n            className=\"cancel-action-buttons__back-button\"\n          >\n            Back\n          </NavLink>\n          <NavLink\n            to={routes.listNft(nftId)}\n            className=\"cancel-action-buttons__action-button\"\n          >\n            Re-list NFT\n          </NavLink>\n        </>\n      );\n    }\n\n    if (state === CancelOrderState.failed) {\n      return (\n        <>\n          <NavLink\n            to={routes.nftDetail(nftId)}\n            className=\"cancel-action-buttons__back-button\"\n          >\n            Back\n          </NavLink>\n          <Button\n            text=\"Try again\"\n            onClick={onActionButtonClick}\n            className=\"cancel-action-buttons__action-button\"\n          />\n        </>\n      );\n    }\n\n    return null;\n  }, [state]);\n\n  return (\n    <div className={`cancel-action-buttons ${className}`}>\n      {getActionButton()}\n    </div>\n  );\n};\n\nexport default CancelActionButtons;\n","import React, { FC, ReactElement, useMemo } from 'react';\n\nimport './ExpiryDateInfo.scss';\n\ninterface ExpiryDateInfoProps {\n  expiry: Date;\n  className?: string;\n}\n\nconst ExpiryDateInfo: FC<ExpiryDateInfoProps> = ({ expiry, className = '' }): ReactElement => {\n  const readableDate = useMemo(() => `${expiry.toLocaleDateString()} ${expiry.getHours()}:${expiry.getMinutes()}`, [expiry]);\n\n  return (\n    <div className={`expiry-date-info ${className}`}>\n      <div className=\"expiry-date-info__title\">\n        Expires on\n      </div>\n      <div className=\"expiry-date-info__date\">\n        {readableDate}\n      </div>\n    </div>\n  );\n};\n\nexport default ExpiryDateInfo;\n","import React, { FC, ReactElement, useMemo } from 'react';\n\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\nimport { getReceiptUrl } from '@airswap/utils';\nimport classNames from 'classnames';\n\nimport ExpiryDateInfo from '../../../../components/ExpiryDateInfo/ExpiryDateInfo';\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\nimport ReviewNftDetails from '../../../../components/ReviewNftDetails/ReviewNftDetails';\nimport ReviewTokenDetails from '../../../../components/ReviewTokenDetails/ReviewTokenDetails';\nimport TradeDetails from '../../../../components/TradeDetails/TradeDetails';\nimport TransactionLink from '../../../../compositions/TransactionLink/TransactionLink';\nimport {\n  getFullOrderExpiryDate,\n  getFullOrderReadableSenderAmount,\n  getFullOrderReadableSenderAmountPlusTotalFees,\n} from '../../../../entities/FullOrder/FullOrderHelpers';\nimport { SubmittedTransaction } from '../../../../entities/SubmittedTransaction/SubmittedTransaction';\nimport SwapIcon from '../../../ListNftWidget/subcomponents/SwapIcon/SwapIcon';\nimport { CancelOrderState } from '../ConnectedCancelOrderWidget/ConnectedCancelOrderWidget';\n\nimport './CancelDetailsContainer.scss';\n\ninterface CancelDetailsContainerProps {\n  chainId: number;\n  collectionImage: string;\n  collectionTokenInfo: CollectionTokenInfo;\n  currencyTokenInfo: TokenInfo;\n  fullOrder: FullOrder;\n  projectFee: number;\n  protocolFee: number;\n  submittedTransaction?: SubmittedTransaction;\n  widgetState: CancelOrderState;\n  className?: string;\n}\n\nconst CancelDetailsContainer: FC<CancelDetailsContainerProps> = ({\n  chainId,\n  collectionImage,\n  collectionTokenInfo,\n  currencyTokenInfo,\n  fullOrder,\n  projectFee,\n  protocolFee,\n  submittedTransaction,\n  widgetState,\n  className = '',\n}): ReactElement => {\n  const wrapperClassName = classNames('cancel-details-container', {\n    [`cancel-details-container--has-${widgetState}-state`]: widgetState,\n  }, className);\n\n  const transactionUrl = useMemo(() => (submittedTransaction?.hash ? getReceiptUrl(chainId, submittedTransaction.hash) : undefined), [submittedTransaction]);\n  const expiryDate = useMemo(() => getFullOrderExpiryDate(fullOrder), [fullOrder]);\n  const readableSenderAmountPlusFees = useMemo(() => getFullOrderReadableSenderAmountPlusTotalFees(fullOrder, currencyTokenInfo), [fullOrder, currencyTokenInfo]);\n  const readableSenderAmount = useMemo(() => getFullOrderReadableSenderAmount(fullOrder, currencyTokenInfo), [fullOrder, currencyTokenInfo]);\n\n  return (\n    <div className={wrapperClassName}>\n      {widgetState === CancelOrderState.details && (\n        <>\n          <ReviewNftDetails\n            logoURI={collectionTokenInfo ? collectionTokenInfo.image : collectionImage}\n            title=\"Cancel\"\n            token={collectionTokenInfo}\n            className=\"cancel-details-container__review-nft-details\"\n          />\n          <SwapIcon className=\"cancel-details-container__swap-icon\" />\n          <ReviewTokenDetails\n            amount={readableSenderAmountPlusFees}\n            amountMinusProtocolFee={readableSenderAmount}\n            projectFeePercent={projectFee / 100}\n            protocolFeePercent={protocolFee / 100}\n            title=\"For\"\n            token={currencyTokenInfo}\n          />\n          <ExpiryDateInfo\n            expiry={expiryDate}\n            className=\"cancel-details-container__expiry-date-info\"\n          />\n        </>\n      )}\n\n      {widgetState === CancelOrderState.sign && (\n        <p className=\"cancel-details-container__message\">\n          If your wallet does not open something went wrong\n        </p>\n      )}\n\n      {widgetState === CancelOrderState.canceling && (\n        <>\n          <LoadingSpinner className=\"cancel-details-container__loading-spinner\" />\n          <TradeDetails\n            logoURI={collectionTokenInfo ? collectionTokenInfo.image : collectionImage}\n            title=\"Canceling\"\n            token={collectionTokenInfo}\n          />\n          {transactionUrl && (\n            <TransactionLink\n              to={transactionUrl}\n              className=\"cancel-details-container__transaction-link\"\n            />\n          )}\n        </>\n      )}\n\n      {(widgetState === CancelOrderState.success || widgetState === CancelOrderState.failed) && (\n        <>\n          <LoadingSpinner className=\"cancel-details-container__loading-spinner--is-hidden\" />\n          <TradeDetails\n            logoURI={collectionTokenInfo ? collectionTokenInfo.image : collectionImage}\n            title={widgetState === CancelOrderState.success ? 'Canceled' : 'Failed transaction'}\n            token={collectionTokenInfo}\n          />\n          {transactionUrl && (\n            <TransactionLink\n              to={transactionUrl}\n              className=\"cancel-details-container__transaction-link\"\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default CancelDetailsContainer;\n","import {\n  FC,\n  ReactElement,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\nimport { Web3Provider } from '@ethersproject/providers';\n\nimport OrderWidgetHeader from '../../../../compositions/OrderWidgetHeader/OrderWidgetHeader';\nimport { AppErrorType, isAppError } from '../../../../errors/appError';\nimport useCancelOrderTransaction from '../../../../hooks/useCancelOrderTransaction';\nimport { useAppDispatch, useAppSelector } from '../../../../redux/hooks';\nimport { cancel } from '../../../../redux/stores/orders/ordersActions';\nimport { addUserRejectedToast } from '../../../../redux/stores/toasts/toastsActions';\nimport { getTitle } from '../../helpers';\nimport CancelActionButtons from '../CancelActionButtons/CancelActionButtons';\nimport CancelDetailsContainer from '../CancelDetailsContainer/CancelDetailsContainer';\n\nexport enum CancelOrderState {\n  details = 'details',\n  sign = 'sign',\n  canceling = 'canceling',\n  success = 'success',\n  failed = 'failed',\n}\n\ninterface ConnectedCancelOrderWidgetProps {\n  chainId: number\n  collectionTokenInfo: CollectionTokenInfo;\n  currencyTokenInfo: TokenInfo;\n  fullOrder: FullOrder;\n  library: Web3Provider\n  className?: string;\n}\n\nconst ConnectedCancelOrderWidget: FC<ConnectedCancelOrderWidgetProps> = ({\n  chainId,\n  collectionTokenInfo,\n  currencyTokenInfo,\n  fullOrder,\n  library,\n  className = '',\n}): ReactElement => {\n  const dispatch = useAppDispatch();\n  const [widgetState, setWidgetState] = useState<CancelOrderState>(CancelOrderState.details);\n  const [cancelTransactionHash, setCancelTransactionHash] = useState<string>();\n\n  const { collectionImage } = useAppSelector(state => state.config);\n  const { protocolFee, projectFee } = useAppSelector(state => state.metadata);\n  const cancelOrderTransaction = useCancelOrderTransaction(cancelTransactionHash);\n\n  const title = useMemo(() => getTitle(widgetState), [widgetState]);\n\n  const handleActionButtonClick = async () => {\n    if (widgetState === CancelOrderState.details) {\n      setWidgetState(CancelOrderState.sign);\n      dispatch(cancel({ order: fullOrder, chainId, library }))\n        .unwrap()\n        .then((transactionHash) => {\n          if (typeof transactionHash === 'string') {\n            setCancelTransactionHash(transactionHash);\n          }\n        })\n        .catch((e) => {\n          if (isAppError(e) && e.type === AppErrorType.rejectedByUser) {\n            dispatch(addUserRejectedToast());\n            setWidgetState(CancelOrderState.details);\n          } else {\n            setWidgetState(CancelOrderState.failed);\n          }\n        });\n    }\n\n    if (widgetState === CancelOrderState.failed) {\n      setWidgetState(CancelOrderState.details);\n    }\n  };\n\n  useEffect(() => {\n    if (cancelOrderTransaction?.status === 'processing') {\n      setWidgetState(CancelOrderState.canceling);\n    }\n\n    if (cancelOrderTransaction?.status === 'succeeded') {\n      setWidgetState(CancelOrderState.success);\n    }\n\n    if (cancelOrderTransaction?.status === 'failed') {\n      setWidgetState(CancelOrderState.failed);\n    }\n  }, [cancelOrderTransaction]);\n\n  return (\n    <div className={`cancel-order-widget ${className}`}>\n      <OrderWidgetHeader\n        nftId={fullOrder.signer.id}\n        title={title}\n      />\n      <CancelDetailsContainer\n        chainId={chainId}\n        collectionImage={collectionImage}\n        collectionTokenInfo={collectionTokenInfo}\n        currencyTokenInfo={currencyTokenInfo}\n        fullOrder={fullOrder}\n        projectFee={projectFee}\n        protocolFee={protocolFee}\n        submittedTransaction={cancelOrderTransaction}\n        widgetState={widgetState}\n        className=\"cancel-order-widget__trade-details-container\"\n      />\n      <CancelActionButtons\n        nftId={fullOrder.signer.id}\n        state={widgetState}\n        onActionButtonClick={handleActionButtonClick}\n        className=\"cancel-order-widget__action-buttons\"\n      />\n    </div>\n  );\n};\n\nexport default ConnectedCancelOrderWidget;\n","import { CancelOrderState } from '../subcomponents/ConnectedCancelOrderWidget/ConnectedCancelOrderWidget';\n\nexport const getTitle = (state: CancelOrderState): string => {\n  if (state === CancelOrderState.sign) {\n    return 'Sign in Wallet';\n  }\n\n  if (state === CancelOrderState.canceling) {\n    return 'Canceling in progress';\n  }\n\n  if (state === CancelOrderState.success) {\n    return 'Successfully canceled';\n  }\n\n  if (state === CancelOrderState.failed) {\n    return 'Failed';\n  }\n\n  return 'Are you sure you want to cancel?';\n};\n","import React, { FC, ReactElement } from 'react';\n\nimport { FullOrder } from '@airswap/types';\n\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\nimport OrderWidgetHeader from '../../../../compositions/OrderWidgetHeader/OrderWidgetHeader';\n\ninterface DisconnectedCancelOrderWidgetProps {\n  isLoading: boolean;\n  isOrderNonceUsed: boolean;\n  fullOrder: FullOrder;\n  className?: string;\n}\n\nconst DisconnectedCancelOrderWidget: FC<DisconnectedCancelOrderWidgetProps> = ({\n  isLoading,\n  isOrderNonceUsed,\n  fullOrder,\n  className = '',\n}): ReactElement => (\n  <div className={`cancel-order-widget ${className}`}>\n    <OrderWidgetHeader\n      nftId={fullOrder.signer.id}\n      title=\"Are you sure you want to cancel?\"\n    />\n    <div className=\"cancel-order-widget__fail-details\">\n      {isOrderNonceUsed && 'Order nonce already used'}\n    </div>\n    {isLoading && <LoadingSpinner className=\"cancel-order-widget__loading-spinner\" />}\n  </div>\n);\n\nexport default DisconnectedCancelOrderWidget;\n","import { FC, ReactElement } from 'react';\n\nimport { FullOrder } from '@airswap/types';\nimport { useWeb3React } from '@web3-react/core';\n\nimport useCollectionToken from '../../hooks/useCollectionToken';\nimport useFullOrderNonceUsed from '../../hooks/useFullOrderNonceUsed';\nimport { useAppSelector } from '../../redux/hooks';\nimport ConnectedCancelOrderWidget from './subcomponents/ConnectedCancelOrderWidget/ConnectedCancelOrderWidget';\nimport DisconnectedCancelOrderWidget from './subcomponents/DisconnectedCancelOrderWidget/DisconnectedCancelOrderWidget';\n\nimport './CancelOrderWidget.scss';\n\ninterface CancelOrderWidgetProps {\n  order: FullOrder;\n  className?: string;\n}\n\nconst CancelOrderWidget: FC<CancelOrderWidgetProps> = ({ order, className = '' }): ReactElement => {\n  const { chainId, provider: library } = useWeb3React();\n  const tokenId = order.signer.id;\n\n  const { collectionToken } = useAppSelector((state) => state.config);\n  const { isLoading: isMetadataLoading, currencyTokenInfo } = useAppSelector(state => state.metadata);\n\n  const [collectionTokenInfo, isCollectionTokenInfoLoading] = useCollectionToken(collectionToken, tokenId);\n  const [isNonceUsed, isNonceUsedLoading] = useFullOrderNonceUsed(order, false);\n  const isLoading = isMetadataLoading || isCollectionTokenInfoLoading || isNonceUsedLoading;\n\n  if (\n    !isLoading\n    && !isNonceUsed\n    && chainId\n    && collectionTokenInfo\n    && currencyTokenInfo\n    && library\n  ) {\n    return (\n      <ConnectedCancelOrderWidget\n        chainId={chainId}\n        collectionTokenInfo={collectionTokenInfo}\n        currencyTokenInfo={currencyTokenInfo}\n        fullOrder={order}\n        library={library}\n        className={className}\n      />\n    );\n  }\n\n  return (\n    <DisconnectedCancelOrderWidget\n      isLoading={isLoading}\n      isOrderNonceUsed={isNonceUsed}\n      fullOrder={order}\n      className={className}\n    />\n  );\n};\n\nexport default CancelOrderWidget;\n","import React, { FC, ReactElement } from 'react';\n\nimport { FullOrder } from '@airswap/types';\n\nimport BuyNftWidget from '../../../BuyNftWidget/BuyNftWidget';\nimport CancelOrderWidget from '../../../CancelOrderWidget/CancelOrderWidget';\nimport NftDetailWidget from '../../../NftDetailWidget/NftDetailWidget';\n\ninterface ConnectedOrderDetailWidgetProps {\n  account?: string;\n  order: FullOrder;\n  className?: string;\n}\n\nconst ConnectedOrderDetailWidget: FC<ConnectedOrderDetailWidgetProps> = ({ account, order, className = '' }): ReactElement => {\n  const userIsOwner = account ? order.signer.wallet.toLowerCase() === account.toLowerCase() : false;\n\n  return (\n    <div className={`order-detail-widget ${className}`}>\n      <NftDetailWidget\n        tokenId={order.signer.id}\n        className=\"order-detail-widget__nft-detail-widget\"\n      />\n      <div className=\"order-detail-widget__buy-nft-widget-container\">\n        {userIsOwner ? (\n          <CancelOrderWidget\n            order={order}\n            className=\"order-detail-widget__cancel-order-widget\"\n          />\n        ) : (\n          <BuyNftWidget\n            order={order}\n            className=\"order-detail-widget__buy-nft-widget\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ConnectedOrderDetailWidget;\n","import React, { FC, ReactElement, useEffect } from 'react';\n\nimport { useWeb3React } from '@web3-react/core';\n\nimport DisconnectedOrderDetail from '../../compositions/DisconnectedOrderDetail/DisconnectedOrderDetail';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport { getNftOrderByOrderNonce } from '../../redux/stores/orderDetail/orderDetailApi';\nimport ConnectedOrderDetailWidget from './subcomponents/ConnectedOrderDetailWidget/ConnectedOrderDetailWidget';\n\nimport './OrderDetailWidget.scss';\n\ninterface OrderDetailWidgetProps {\n  orderNonce: string;\n  className?: string;\n}\n\nconst OrderDetailWidget: FC<OrderDetailWidgetProps> = ({ orderNonce, className = '' }): ReactElement => {\n  const dispatch = useAppDispatch();\n  const { account } = useWeb3React();\n\n  const { isInitialized, isLoading: isIndexerLoading } = useAppSelector(state => state.indexer);\n  const { isOrderNotFound, isLoading: isOrderLoading, order } = useAppSelector(state => state.orderDetail);\n  const isLoading = isIndexerLoading || isOrderLoading;\n\n  useEffect(() => {\n    if (!isInitialized || !orderNonce) {\n      return;\n    }\n\n    dispatch(getNftOrderByOrderNonce(orderNonce));\n  }, [isInitialized, orderNonce]);\n\n  if (\n    isInitialized\n    && !isLoading\n    && order\n  ) {\n    return (\n      <ConnectedOrderDetailWidget\n        account={account || undefined}\n        order={order}\n        className={className}\n      />\n    );\n  }\n\n  return (\n    <DisconnectedOrderDetail\n      isLoading={isLoading}\n      isOrderNotFound={isOrderNotFound}\n      orderNonce={orderNonce}\n      className={className}\n    />\n  );\n};\n\nexport default OrderDetailWidget;\n","import React, { FC } from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport DisconnectedOrderDetail from '../../compositions/DisconnectedOrderDetail/DisconnectedOrderDetail';\nimport Helmet from '../../compositions/Helmet/Helmet';\nimport Page from '../../compositions/Page/Page';\nimport OrderDetailWidget from '../../widgets/OrderDetailWidget/OrderDetailWidget';\n\nimport './OrderDetailPage.scss';\n\nconst OrderDetailPage: FC = () => {\n  const { orderNonce } = useParams<{ account: string, orderNonce: string }>();\n\n  if (!orderNonce) {\n    return (\n      <Page className=\"order-detail-page\">\n        <DisconnectedOrderDetail isOrderNonceUndefined />\n      </Page>\n    );\n  }\n\n  return (\n    <Page className=\"order-detail-page\">\n      <Helmet title=\"Order detail\" />\n      <OrderDetailWidget orderNonce={orderNonce} />\n    </Page>\n  );\n};\n\nexport default OrderDetailPage;\n","import { getAccountUrl } from '@airswap/utils';\n\nconst getOwnedTokensByAccountUrl = (chainId: number, account: string, contract: string): string => {\n  const accountUrl = getAccountUrl(chainId, account);\n  const [etherScanUrl] = accountUrl.split('/address/');\n\n  return `${etherScanUrl}/token/${contract}?a=${account}`;\n};\n\nexport default getOwnedTokensByAccountUrl;\n","import { FC, ReactElement } from 'react';\n\nimport { NavLink, NavLinkProps } from 'react-router-dom';\n\nimport './ProfileNavigationNavLink.scss';\n\ninterface ProfileNavigationNavLinkProps extends NavLinkProps {\n  className?: string;\n}\n\nconst ProfileNavigationNavLink: FC<ProfileNavigationNavLinkProps> = ({ className = '', ...props }): ReactElement => (\n  <NavLink\n    {...props}\n    className={`profile-navigation-nav-link ${className}`}\n  />\n);\n\nexport default ProfileNavigationNavLink;\n","import { FC, ReactElement } from 'react';\n\nimport { routes } from '../../../../routes';\nimport ProfileNavigationNavLink from '../ProfileNavigationNavLink/ProfileNavigationNavLink';\n\nimport './ProfileNavigation.scss';\n\ninterface ProfileNavigationProps {\n  account: string;\n  className?: string;\n}\n\nconst ProfileNavigation: FC<ProfileNavigationProps> = ({ account, className = '' }): ReactElement => (\n  <div className={`profile-navigation ${className}`}>\n    <ProfileNavigationNavLink to={routes.profile(account)}>\n      All tokens\n    </ProfileNavigationNavLink>\n    <ProfileNavigationNavLink\n      to=\"activity\"\n      aria-disabled\n    >\n      Activity\n    </ProfileNavigationNavLink>\n    <ProfileNavigationNavLink\n      to={routes.userOrders(account)}\n    >\n      For sale\n    </ProfileNavigationNavLink>\n  </div>\n);\n\nexport default ProfileNavigation;\n","import React, { FC } from 'react';\n\nimport WalletInfo from '../../../../components/WalletInfo/WalletInfo';\nimport ProfileNavigation from '../ProfileNavigation/ProfileNavigation';\n\nimport './ProfileHeader.scss';\n\ninterface ProfileHeaderProp {\n  accountUrl?: string;\n  avatarUrl?: string;\n  address?: string;\n  backgroundImage?: string;\n  ensAddress?: string;\n  className?: string;\n}\n\nconst ProfileHeader: FC<ProfileHeaderProp> = ({\n  accountUrl,\n  avatarUrl,\n  ensAddress,\n  address,\n  backgroundImage,\n  className = '',\n}) => (\n  <div\n    className={`profile-header ${className}`}\n  >\n    <div\n      style={{ backgroundImage: `url(\"${backgroundImage}\")` }}\n      className=\"profile-header__portrait\"\n    >\n      <WalletInfo\n        isBanner\n        accountUrl={accountUrl}\n        avatarUrl={avatarUrl}\n        ensAddress={ensAddress}\n        address={address}\n        className=\"profile-header__wallet-info\"\n      />\n    </div>\n\n    <div className=\"profile-header__navigation-container\">\n      {address && (\n        <ProfileNavigation\n          account={address}\n          className=\"profile-header__navigation\"\n        />\n      )}\n    </div>\n  </div>\n);\n\n\nexport default ProfileHeader;\n","import { FC, useMemo } from 'react';\n\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\nimport SearchInput from '../../../../components/SearchInput/SearchInput';\nimport getOwnedTokensByAccountUrl from '../../../../helpers/airswap/getOwnedTokensByAccountUrl';\nimport useEnsAddress from '../../../../hooks/useEnsAddress';\nimport { useAppSelector } from '../../../../redux/hooks';\nimport ProfileHeader from '../ProfileHeader/ProfileHeader';\n\ninterface ConnectedProfileWidgetProps {\n  profileAccount?: string;\n  className?: string;\n}\n\nconst ConnectedProfileWidget: FC<ConnectedProfileWidgetProps> = ({\n  profileAccount,\n  className = '',\n}) => {\n  const { chainId, collectionToken, collectionImage } = useAppSelector((state) => state.config);\n  const { avatarUrl } = useAppSelector((state) => state.user);\n\n  const ensAddress = useEnsAddress(profileAccount);\n  const accountUrl = useMemo(() => (\n    profileAccount ? getOwnedTokensByAccountUrl(chainId, profileAccount, collectionToken) : undefined\n  ), [profileAccount, chainId, collectionToken]);\n\n  return (\n    <div className={`profile-widget ${className}`}>\n      <ProfileHeader\n        accountUrl={accountUrl}\n        avatarUrl={avatarUrl}\n        backgroundImage={collectionImage}\n        ensAddress={ensAddress}\n        address={profileAccount}\n        className=\"profile-widget__header\"\n      />\n      <div className=\"profile-widget__content\">\n        <SearchInput\n          disabled\n          placeholder=\"Search tokens\"\n          value=\"\"\n          className=\"profile-widget__search-input\"\n        />\n        <LoadingSpinner className=\"profile-widget__loading-spinner\" />\n      </div>\n    </div>\n  );\n};\n\nexport default ConnectedProfileWidget;\n","import { FullOrder } from '@airswap/types';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { INDEXER_ORDERS_OFFSET } from '../../../constants/indexer';\nimport { getProfileOrders } from './profileOrdersApi';\n\nexport interface ProfileOrdersState {\n  hasServerError: boolean;\n  isLoading: boolean;\n  isTotalOrdersReached: boolean;\n  offset: number;\n  orders: FullOrder[];\n}\n\nconst initialState: ProfileOrdersState = {\n  hasServerError: false,\n  isLoading: false,\n  isTotalOrdersReached: false,\n  offset: 0,\n  orders: [],\n};\n\nconst profileSlice = createSlice({\n  name: 'profileOrders',\n  initialState,\n  reducers: {\n    reset: (): ProfileOrdersState => ({\n      ...initialState,\n    }),\n    setOrdersOffset: (state, action: PayloadAction<number>): ProfileOrdersState => ({\n      ...state,\n      offset: action.payload,\n    }),\n  },\n  extraReducers: builder => {\n    builder.addCase(getProfileOrders.pending, (state): ProfileOrdersState => ({\n      ...state,\n      isLoading: true,\n    }));\n\n    builder.addCase(getProfileOrders.fulfilled, (state, action): ProfileOrdersState => {\n      const newOrders = [\n        ...state.orders,\n        ...action.payload,\n      ];\n      const isTotalOrdersReached = action.payload.length < INDEXER_ORDERS_OFFSET;\n\n      return {\n        ...state,\n        isLoading: false,\n        isTotalOrdersReached,\n        orders: newOrders,\n      };\n    });\n\n    builder.addCase(getProfileOrders.rejected, (state, action): ProfileOrdersState => {\n      console.error('profileOrders/getProfileOrders', action);\n\n      return {\n        ...state,\n        hasServerError: true,\n        isTotalOrdersReached: true,\n        isLoading: false,\n      };\n    });\n  },\n});\n\nexport const {\n  reset,\n  setOrdersOffset,\n} = profileSlice.actions;\n\nexport default profileSlice.reducer;\n","import { FullOrder, OrderFilter } from '@airswap/types';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nimport { AppThunkApiConfig } from '../../store';\nimport { getOrdersFromIndexers } from '../indexer/indexerHelpers';\nimport { addGetOrderFailedToast } from '../toasts/toastsActions';\nimport { setOrdersOffset } from './profileOrdersSlice';\n\nexport const getProfileOrders = createAsyncThunk<\nFullOrder[],\nOrderFilter,\nAppThunkApiConfig\n>('profileOrders/getProfileOrders', async (filter, { dispatch, getState }) => {\n  const { indexer } = getState();\n\n  try {\n    dispatch(setOrdersOffset(filter.limit + filter.offset));\n\n    return await getOrdersFromIndexers(filter, indexer.urls);\n  } catch {\n    dispatch(addGetOrderFailedToast());\n\n    throw new Error('Failed to get orders');\n  }\n});\n","const getListCallToActionText = (searchValue: string, userHasOrders: boolean, hasServerError: boolean): string => {\n  if (hasServerError) {\n    return 'Unable to fetch listings.';\n  }\n\n  if (userHasOrders && searchValue.length) {\n    return 'No listing results. Try another search term.';\n  }\n\n  return 'No active listings by this wallet.';\n};\n\nexport default getListCallToActionText;\n","import React, {\n  FC,\n  ReactElement,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { TokenInfo } from '@airswap/types';\n\nimport SearchInput from '../../../../components/SearchInput/SearchInput';\nimport Helmet from '../../../../compositions/Helmet/Helmet';\nimport { INDEXER_ORDERS_OFFSET } from '../../../../constants/indexer';\nimport OrdersContainer from '../../../../containers/OrdersContainer/OrdersContainer';\nimport { filterCollectionTokenBySearchValue } from '../../../../entities/CollectionToken/CollectionTokenHelpers';\nimport getOwnedTokensByAccountUrl from '../../../../helpers/airswap/getOwnedTokensByAccountUrl';\nimport useCollectionTokens from '../../../../hooks/useCollectionTokens';\nimport useEnsAddress from '../../../../hooks/useEnsAddress';\nimport useScrollToBottom from '../../../../hooks/useScrollToBottom';\nimport { useAppDispatch, useAppSelector } from '../../../../redux/hooks';\nimport { getProfileOrders } from '../../../../redux/stores/profileOrders/profileOrdersApi';\nimport { reset } from '../../../../redux/stores/profileOrders/profileOrdersSlice';\nimport ProfileHeader from '../../../ProfileWidget/subcomponents/ProfileHeader/ProfileHeader';\nimport getListCallToActionText from '../../helpers/getListCallToActionText';\n\ninterface ConnectedProfileOrdersWidgetProps {\n  account?: string;\n  currencyTokenInfo: TokenInfo;\n  profileAccount: string;\n  className?: string;\n}\n\nconst ConnectedProfileOrdersWidget: FC<ConnectedProfileOrdersWidgetProps> = ({\n  account,\n  currencyTokenInfo,\n  profileAccount,\n  className = '',\n}): ReactElement => {\n  const dispatch = useAppDispatch();\n\n  const scrolledToBottom = useScrollToBottom();\n\n  const { chainId, collectionToken, collectionImage } = useAppSelector((state) => state.config);\n  const { tokens: userTokens } = useAppSelector((state) => state.balances);\n  const { avatarUrl } = useAppSelector((state) => state.user);\n  const {\n    hasServerError,\n    isLoading,\n    isTotalOrdersReached,\n    offset,\n    orders,\n  } = useAppSelector((state) => state.profileOrders);\n\n  const [searchValue, setSearchValue] = useState('');\n\n  const ensAddress = useEnsAddress(profileAccount);\n  const accountUrl = useMemo(() => (\n    profileAccount ? getOwnedTokensByAccountUrl(chainId, profileAccount, collectionToken) : undefined\n  ), [profileAccount, chainId, collectionToken]);\n  const tokenIds = useMemo(() => orders.map(order => order.signer.id), [orders]);\n  const [tokens] = useCollectionTokens(collectionToken, tokenIds);\n  const filteredOrders = useMemo(() => (\n    orders.filter(order => {\n      const orderToken = tokens.find(token => token.id === +order.signer.id);\n\n      return orderToken ? filterCollectionTokenBySearchValue(orderToken, searchValue) : true;\n    })), [orders, tokens, searchValue]);\n  const userIsProfileAccount = account === profileAccount;\n  const listCallToActionText = getListCallToActionText(searchValue, !!orders.length, hasServerError);\n\n  const getOrders = () => {\n    if (isLoading || isTotalOrdersReached) {\n      return;\n    }\n\n    dispatch(getProfileOrders({\n      signerTokens: [collectionToken],\n      signerWallet: profileAccount,\n      offset,\n      limit: INDEXER_ORDERS_OFFSET,\n    }));\n  };\n\n  useEffect((): () => void => {\n    getOrders();\n\n    return () => dispatch(reset());\n  }, []);\n\n  useEffect(() => {\n    if (scrolledToBottom) {\n      getOrders();\n    }\n  }, [scrolledToBottom]);\n\n  return (\n    <div className={`profile-orders-widget ${className}`}>\n      <Helmet title={`Listed orders of ${ensAddress || profileAccount}`} />\n      <ProfileHeader\n        accountUrl={accountUrl}\n        address={profileAccount}\n        avatarUrl={avatarUrl}\n        backgroundImage={collectionImage}\n        ensAddress={ensAddress}\n        className=\"profile-widget__header\"\n      />\n\n      <div className=\"profile-orders-widget__content\">\n        <SearchInput\n          placeholder=\"Search listings\"\n          onChange={e => setSearchValue(e.target.value)}\n          value={searchValue || ''}\n          className=\"profile-orders-widget__search-input\"\n        />\n        <OrdersContainer\n          hasListCallToActionButton={!!userTokens.length && userIsProfileAccount && !hasServerError}\n          isEndOfOrders={isTotalOrdersReached}\n          isLoading={isLoading || offset === 0}\n          currencyTokenInfo={currencyTokenInfo}\n          listCallToActionText={listCallToActionText}\n          orders={filteredOrders}\n          tokens={tokens}\n          className=\"profile-orders-widget__nfts-container\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ConnectedProfileOrdersWidget;\n","import { FC } from 'react';\n\nimport { Web3Provider } from '@ethersproject/providers';\nimport { useWeb3React } from '@web3-react/core';\nimport { useParams } from 'react-router-dom';\n\nimport { useAppSelector } from '../../redux/hooks';\nimport DisconnectedProfileWidget\n  from '../ProfileWidget/subcomponents/DisconnectedProfileWidget/DisconnectedProfileWidget';\nimport ConnectedProfileOrdersWidget from './subcomponents/ConnectedProfileOrdersWidget/ConnectedProfileOrdersWidget';\n\nimport './ProfileOrdersWidget.scss';\n\nconst ProfileOrdersWidget: FC = () => {\n  const { account } = useWeb3React<Web3Provider>();\n  const { account: profileAccount } = useParams();\n\n  const { isInitialized } = useAppSelector((state) => state.indexer);\n  const { currencyTokenInfo } = useAppSelector((state) => state.metadata);\n\n  if (\n    isInitialized\n    && currencyTokenInfo\n    && profileAccount\n  ) {\n    return (\n      <ConnectedProfileOrdersWidget\n        account={account}\n        currencyTokenInfo={currencyTokenInfo}\n        profileAccount={profileAccount}\n      />\n    );\n  }\n\n  return (\n    <DisconnectedProfileWidget\n      profileAccount={profileAccount}\n    />\n  );\n};\n\nexport default ProfileOrdersWidget;\n","import React, { FC } from 'react';\n\nimport Page from '../../compositions/Page/Page';\nimport ProfileOrdersWidget from '../../widgets/ProfileOrdersWidget/ProfileOrdersWidget';\n\nimport './ProfileOrdersPage.scss';\n\nconst ProfileOrdersPage: FC = () => (\n  <Page\n    className=\"profile-page\"\n    contentClassName=\"profile-page__content\"\n  >\n    <ProfileOrdersWidget />\n  </Page>\n);\n\nexport default ProfileOrdersPage;\n","import { TokenKinds } from '@airswap/constants';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { Event } from '@ethersproject/contracts';\nimport erc721AbiContract from '@openzeppelin/contracts/build/contracts/ERC721.json';\nimport erc721EnumerableContract from '@openzeppelin/contracts/build/contracts/ERC721Enumerable.json';\nimport erc1155Contract from '@openzeppelin/contracts/build/contracts/ERC1155.json';\nimport { BigNumber, ethers } from 'ethers';\n\nimport { getUniqueSingleDimensionArray } from '../../../helpers/array';\n\nconst getUniqueTokenIds = (tokenIds: BigNumber[]): string[] => tokenIds\n  .sort((a, b) => a.sub(b).toNumber())\n  .map(t => t.toString())\n  .filter(getUniqueSingleDimensionArray);\n\nexport const getOwnedTokenIdsOfWallet = async (\n  provider: ethers.providers.BaseProvider,\n  walletAddress: string,\n  collectionToken: string,\n): Promise<string[]> => {\n  const contract = new ethers.Contract(collectionToken, erc721AbiContract.abi, provider);\n\n  const [isErc721Enumerable, isErc721, isErc1155] = await Promise.all([\n    contract.supportsInterface('0x780e9d63'), // The interface ID for erc721 enumerable\n    contract.supportsInterface(TokenKinds.ERC721),\n    contract.supportsInterface(TokenKinds.ERC1155),\n  ]) as boolean[];\n\n  if (isErc721Enumerable) {\n    const collectionContract = new ethers.Contract(collectionToken, erc721EnumerableContract.abi, provider);\n\n    const balance: number = await collectionContract.balanceOf(walletAddress);\n    const indexes = Array.from({ length: balance }, (_, i) => i);\n\n    const tokenIdsPromises = indexes.map(async index => (await collectionContract.tokenOfOwnerByIndex(walletAddress, BigNumber.from(index))) as BigNumber);\n    const tokenIds = await Promise.all(tokenIdsPromises);\n\n    return getUniqueTokenIds(tokenIds);\n  }\n\n  if (isErc721) {\n    const collectionContract = new ethers.Contract(collectionToken, erc721AbiContract.abi, provider);\n    const transferFilter = collectionContract.filters.Transfer(null, walletAddress);\n\n    const events: Event[] = await collectionContract.queryFilter(transferFilter, 0);\n\n    /* get token ids from past events */\n    const foundTokenIds: BigNumber[] = events.map(e => e.args?.at(2));\n    const uniqueTokenIds = getUniqueTokenIds(foundTokenIds);\n\n    /* get owners of tokens */\n    const tokenOwners: string[] = await Promise.all(\n      uniqueTokenIds.map(tokenId => collectionContract.ownerOf(tokenId)),\n    );\n\n    /* get only the owned token ids */\n    const ownedTokenIds = uniqueTokenIds.filter((_, index) => tokenOwners[index] === walletAddress);\n\n    /* return sorted array of numbers */\n    return ownedTokenIds.sort((a, b) => +a - +b);\n  }\n\n  if (isErc1155) {\n    const collectionContract = new ethers.Contract(collectionToken, erc1155Contract.abi, provider);\n    const transferFilter = collectionContract.filters.TransferSingle(null, null, walletAddress);\n\n    const events: Event[] = await collectionContract.queryFilter(transferFilter, 0);\n\n    /* get token ids from past events */\n    const foundTokenIds: BigNumber[] = events.map(e => e.args?.at(3));\n\n    const uniqueTokenIds = getUniqueTokenIds(foundTokenIds);\n\n    /* get balances of tokens */\n    const tokenBalances: BigNumber[] = await Promise.all(\n      uniqueTokenIds.map(\n        async tokenId => collectionContract.balanceOf(walletAddress, tokenId),\n      ),\n    );\n\n    /* get only the owned token ids */\n    const ownedTokenIds = uniqueTokenIds.filter((_, index) => tokenBalances[index].toNumber() > 0);\n\n    /* return sorted array of numbers */\n    return ownedTokenIds.sort((a, b) => +a - +b);\n  }\n\n  throw new Error('Unknown nft interface. Could not fetch token ids.');\n};\n","import { FullOrder, OrderFilter } from '@airswap/types';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { ethers } from 'ethers';\n\nimport { AppThunkApiConfig } from '../../store';\nimport { getOwnedTokenIdsOfWallet } from '../balances/balancesHelpers';\nimport { getOrdersFromIndexers } from '../indexer/indexerHelpers';\n\nexport const getProfileOrders = createAsyncThunk<\nFullOrder[],\nOrderFilter,\nAppThunkApiConfig\n>('profile/getProfileOrders', async (filter, { getState }) => {\n  const { indexer } = getState();\n\n  return getOrdersFromIndexers(filter, indexer.urls);\n});\n\ninterface GetOwnedTokensOfAccountParams {\n  account: string,\n  provider: ethers.providers.BaseProvider,\n}\n\nexport const getProfileTokens = createAsyncThunk<\nstring[],\nGetOwnedTokensOfAccountParams,\nAppThunkApiConfig\n>('profile/getProfileTokens', async ({ account, provider }, { getState }) => {\n  const { config } = getState();\n\n  return getOwnedTokenIdsOfWallet(provider, account, config.collectionToken);\n});\n","import { FullOrder } from '@airswap/types';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { getProfileOrders, getProfileTokens } from './profileApi';\n\nexport interface ProfileState {\n  isLoadingOrders: boolean;\n  isLoadingTokens: boolean;\n  isTotalOrdersReached: boolean;\n  orders: FullOrder[];\n  tokens: string[];\n  tokensOffset: number;\n}\n\nexport const tokensOffsetInterval = 16;\n\nconst initialState: ProfileState = {\n  isLoadingOrders: false,\n  isLoadingTokens: false,\n  isTotalOrdersReached: false,\n  orders: [],\n  tokens: [],\n  tokensOffset: tokensOffsetInterval,\n};\n\nconst profileSlice = createSlice({\n  name: 'profile',\n  initialState,\n  reducers: {\n    reset: (): ProfileState => ({\n      ...initialState,\n    }),\n    setTokensOffset: (state, action: PayloadAction<number>): ProfileState => ({\n      ...state,\n      tokensOffset: action.payload,\n    }),\n  },\n  extraReducers: builder => {\n    builder.addCase(getProfileOrders.pending, (state): ProfileState => ({\n      ...state,\n      isLoadingOrders: true,\n    }));\n\n    builder.addCase(getProfileOrders.fulfilled, (state, action): ProfileState => {\n      const newOrders = [\n        ...state.orders,\n        ...action.payload,\n      ];\n\n      return {\n        ...state,\n        isLoadingOrders: false,\n        orders: newOrders,\n      };\n    });\n\n    builder.addCase(getProfileOrders.rejected, (state, action): ProfileState => {\n      console.error('profile/getProfileOrders', action);\n\n      return {\n        ...state,\n        isLoadingOrders: false,\n      };\n    });\n\n    builder.addCase(getProfileTokens.pending, (state): ProfileState => ({\n      ...state,\n      isLoadingTokens: true,\n    }));\n\n    builder.addCase(getProfileTokens.fulfilled, (state, action): ProfileState => ({\n      ...state,\n      isLoadingTokens: false,\n      tokens: action.payload,\n    }));\n\n    builder.addCase(getProfileTokens.rejected, (state, action): ProfileState => {\n      console.error('profile/getProfileTokens', action);\n\n      return {\n        ...state,\n        isLoadingTokens: false,\n      };\n    });\n  },\n});\n\nexport const {\n  reset,\n  setTokensOffset,\n} = profileSlice.actions;\n\nexport default profileSlice.reducer;\n","const getEmptyStateText = (searchValue: string, userHasTokens: boolean): string => {\n  if (userHasTokens && searchValue.length) {\n    return 'No tokens found. Try another search term.';\n  }\n\n  return 'No tokens held by this wallet.';\n};\n\nexport default getEmptyStateText;\n","import { FC, ReactElement } from 'react';\n\nimport { CollectionTokenInfo, FullOrder, TokenInfo } from '@airswap/types';\n\nimport Icon from '../../../../components/Icon/Icon';\nimport LoadingSpinner from '../../../../components/LoadingSpinner/LoadingSpinner';\nimport NftCard from '../../../../components/NftCard/NftCard';\nimport { getFullOrderReadableSenderAmountPlusTotalFees } from '../../../../entities/FullOrder/FullOrderHelpers';\nimport { routes } from '../../../../routes';\n\nimport './OwnedNftsContainer.scss';\n\ninterface OwnedNftsContainerProps {\n  isEndOfTokens: boolean;\n  isLoading: boolean;\n  currencyTokenInfo: TokenInfo;\n  orders: FullOrder[];\n  tokens: CollectionTokenInfo[];\n  className?: string;\n}\n\nconst OwnedNftsContainer: FC<OwnedNftsContainerProps> = ({\n  isEndOfTokens,\n  isLoading,\n  currencyTokenInfo,\n  orders,\n  tokens,\n  className = '',\n}): ReactElement => (\n  <div className={`owned-nfts-container ${className}`}>\n    <div className=\"owned-nfts-container__tokens\">\n      {tokens.map((nft) => {\n        const tokenOrder = orders.find(order => +order.signer.id === nft.id);\n        const price = (tokenOrder && currencyTokenInfo) ? getFullOrderReadableSenderAmountPlusTotalFees(tokenOrder, currencyTokenInfo) : undefined;\n\n        return (\n          <NftCard\n            key={nft.id}\n            imageURI={nft.image}\n            name={nft.name}\n            price={price}\n            to={routes.nftDetail(nft.id.toString())}\n            symbol={currencyTokenInfo?.symbol}\n            className=\"profile-widget__nft-card\"\n          />\n        );\n      })}\n    </div>\n    {isLoading && <LoadingSpinner className=\"owned-nfts-container__loader\" />}\n    {(!isLoading && isEndOfTokens) && <Icon name=\"airswap\" className=\"owned-nfts-container__end-of-orders-icon\" />}\n  </div>\n);\n\nexport default OwnedNftsContainer;\n","import {\n  FC,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { TokenInfo } from '@airswap/types';\nimport { BaseProvider } from '@ethersproject/providers';\n\nimport SearchInput from '../../../../components/SearchInput/SearchInput';\nimport EmptyState from '../../../../compositions/EmptyState/EmptyState';\nimport Helmet from '../../../../compositions/Helmet/Helmet';\nimport { INDEXER_ORDERS_OFFSET } from '../../../../constants/indexer';\nimport { filterCollectionTokenBySearchValue } from '../../../../entities/CollectionToken/CollectionTokenHelpers';\nimport getOwnedTokensByAccountUrl from '../../../../helpers/airswap/getOwnedTokensByAccountUrl';\nimport useCollectionTokens from '../../../../hooks/useCollectionTokens';\nimport useEnsAddress from '../../../../hooks/useEnsAddress';\nimport useScrollToBottom from '../../../../hooks/useScrollToBottom';\nimport { useAppDispatch, useAppSelector } from '../../../../redux/hooks';\nimport { getProfileOrders, getProfileTokens } from '../../../../redux/stores/profile/profileApi';\nimport { reset, setTokensOffset } from '../../../../redux/stores/profile/profileSlice';\nimport getEmptyStateText from '../../helpers/getEmptyTokensText';\nimport OwnedNftsContainer from '../OwnedNftsContainer/OwnedNftsContainer';\nimport ProfileHeader from '../ProfileHeader/ProfileHeader';\n\ninterface ConnectedProfileWidgetProps {\n  currencyTokenInfo: TokenInfo;\n  library: BaseProvider;\n  profileAccount: string;\n  className?: string;\n}\n\nconst ConnectedProfileWidget: FC<ConnectedProfileWidgetProps> = ({\n  currencyTokenInfo,\n  library,\n  profileAccount,\n  className = '',\n}) => {\n  const dispatch = useAppDispatch();\n  const scrolledToBottom = useScrollToBottom();\n\n  const { chainId, collectionToken, collectionImage } = useAppSelector((state) => state.config);\n  const { avatarUrl } = useAppSelector((state) => state.user);\n  const {\n    isLoadingTokens: isLoadingUserTokens,\n    tokens: ownedTokenIds,\n    orders,\n    tokensOffset,\n  } = useAppSelector((state) => state.profile);\n\n  const [searchValue, setSearchValue] = useState('');\n\n  const isEndOfTokens = tokensOffset >= ownedTokenIds.length;\n  const ensAddress = useEnsAddress(profileAccount);\n  const accountUrl = useMemo(() => (\n    profileAccount ? getOwnedTokensByAccountUrl(chainId, profileAccount, collectionToken) : undefined\n  ), [profileAccount, chainId, collectionToken]);\n  const [tokens, isLoadingTokens] = useCollectionTokens(collectionToken, ownedTokenIds);\n\n  const isLoading = isLoadingUserTokens || isLoadingTokens;\n  const filteredTokens = useMemo(() => (tokens\n    .filter(nft => filterCollectionTokenBySearchValue(nft, searchValue))\n    .slice(0, tokensOffset)\n  ), [tokens, tokensOffset, searchValue]);\n  const emptyStateText = getEmptyStateText(searchValue, !!tokens.length);\n\n  useEffect((): () => void => {\n    dispatch(getProfileOrders({\n      signerTokens: [collectionToken],\n      signerWallet: profileAccount,\n      offset: 0,\n      limit: 9999,\n    }));\n\n    dispatch(getProfileTokens({ account: profileAccount, provider: library }));\n\n    return () => {\n      dispatch(reset());\n    };\n  }, [profileAccount]);\n\n  useEffect(() => {\n    if (scrolledToBottom && !isEndOfTokens) {\n      dispatch(setTokensOffset(tokensOffset + INDEXER_ORDERS_OFFSET));\n    }\n  }, [scrolledToBottom]);\n\n  return (\n    <div className={`profile-widget ${className}`}>\n      <Helmet title={`Owned nft's of ${ensAddress || profileAccount}`} />\n      <ProfileHeader\n        accountUrl={accountUrl}\n        address={profileAccount}\n        avatarUrl={avatarUrl}\n        backgroundImage={collectionImage}\n        ensAddress={ensAddress}\n        className=\"profile-widget__header\"\n      />\n      <div className=\"profile-widget__content\">\n        <SearchInput\n          placeholder=\"Search tokens\"\n          value={searchValue}\n          onChange={(e) => setSearchValue(e.target.value)}\n          className=\"profile-widget__search-input\"\n        />\n        <div className=\"profile-widget__collections\">\n          {!filteredTokens.length && !isLoading ? (\n            <EmptyState\n              text={emptyStateText}\n              className=\"profile-widget__empty-state\"\n            />\n            ) : (\n              <OwnedNftsContainer\n                isEndOfTokens={isEndOfTokens}\n                isLoading={isLoading || tokensOffset === 0}\n                currencyTokenInfo={currencyTokenInfo}\n                orders={orders}\n                tokens={filteredTokens}\n                className=\"profile-widget__nfts-container\"\n              />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConnectedProfileWidget;\n","import { FC } from 'react';\n\nimport { useParams } from 'react-router-dom';\n\nimport useDefaultLibrary from '../../hooks/useDefaultProvider';\nimport { useAppSelector } from '../../redux/hooks';\nimport ConnectedProfileWidget from './subcomponents/ConnectedProfileWidget/ConnectedProfileWidget';\nimport DisconnectedProfileWidget from './subcomponents/DisconnectedProfileWidget/DisconnectedProfileWidget';\n\nimport './ProfileWidget.scss';\n\nconst ProfileWidget: FC = () => {\n  const { account: profileAccount } = useParams();\n\n  const { chainId } = useAppSelector((state) => state.config);\n  const { isInitialized } = useAppSelector((state) => state.indexer);\n  const { currencyTokenInfo } = useAppSelector((state) => state.metadata);\n\n  const library = useDefaultLibrary(chainId);\n\n  if (\n    isInitialized\n    && currencyTokenInfo\n    && library\n    && profileAccount\n  ) {\n    return (\n      <ConnectedProfileWidget\n        currencyTokenInfo={currencyTokenInfo}\n        library={library}\n        profileAccount={profileAccount}\n      />\n    );\n  }\n\n  return (\n    <DisconnectedProfileWidget\n      profileAccount={profileAccount}\n    />\n  );\n};\n\nexport default ProfileWidget;\n","import React, { FC } from 'react';\n\nimport Page from '../../compositions/Page/Page';\nimport ProfileWidget from '../../widgets/ProfileWidget/ProfileWidget';\n\nimport './ProfilePage.scss';\n\nconst ProfilePage: FC = () => (\n  <Page\n    className=\"profile-page\"\n    contentClassName=\"profile-page__content\"\n  >\n    <ProfileWidget />\n  </Page>\n);\n\nexport default ProfilePage;\n","import React, { FC } from 'react';\n\nimport { createHashRouter, Navigate, RouterProvider } from 'react-router-dom';\n\nimport {\n  CollectionPage,\n  ListNftPage,\n  NftDetailPage,\n  OrderDetailPage,\n  ProfileOrdersPage,\n  ProfilePage,\n} from '../../pages';\nimport { AppRoutes, ProfileRoutes } from '../../routes';\n\nconst Routes: FC = () => {\n  const router = createHashRouter([\n    {\n      path: '/',\n      element: <CollectionPage />,\n    },\n    {\n      path: `/${AppRoutes.listNft}`,\n      element: <ListNftPage />,\n    },\n    {\n      path: `/${AppRoutes.nftDetail}/:tokenId`,\n      element: <NftDetailPage />,\n    },\n    {\n      path: `/${AppRoutes.orderDetail}/:account/:orderNonce`,\n      element: <OrderDetailPage />,\n    },\n    {\n      path: `/${AppRoutes.profile}/:account`,\n      children: [\n        {\n          element: <ProfilePage />,\n          path: ProfileRoutes.ownedNfts,\n        },\n        {\n          path: ProfileRoutes.orders,\n          element: <ProfileOrdersPage />,\n        },\n        {\n          element: <Navigate to={ProfileRoutes.ownedNfts} />,\n          index: true,\n        },\n      ],\n    },\n  ]);\n\n  return (\n    <RouterProvider router={router} />\n  );\n};\n\nexport default Routes;\n","import { useEffect } from 'react';\n\nimport { useWeb3React } from '@web3-react/core';\n\nimport { clearedCachedLibrary, setCachedLibrary } from '../helpers/ethers';\nimport { useAppDispatch } from '../redux/hooks';\nimport { setHasLibrary, setWeb3Data } from '../redux/stores/web3/web3Slice';\n\nconst useMapWeb3ReactToStore = (): void => {\n  const dispatch = useAppDispatch();\n\n  const {\n    account,\n    isActive,\n    chainId,\n    provider: library,\n  } = useWeb3React();\n\n  useEffect(() => {\n    dispatch(setWeb3Data({\n      isActive,\n      account: account || undefined,\n      chainId,\n    }));\n  }, [\n    isActive,\n    account,\n    chainId,\n    library,\n  ]);\n\n  useEffect(() => {\n    if (!library) {\n      clearedCachedLibrary();\n      dispatch(setHasLibrary(false));\n\n      return;\n    }\n\n    if (library && chainId) {\n      setCachedLibrary(library, chainId);\n      dispatch(setHasLibrary(true));\n    }\n  }, [library]);\n};\n\nexport default useMapWeb3ReactToStore;\n","import { useEffect, useState } from 'react';\n\nimport { chainNames } from '@airswap/constants';\nimport { Web3Provider } from '@ethersproject/providers';\nimport { useWeb3React } from '@web3-react/core';\n\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport { addToast, hideToast } from '../redux/stores/toasts/toastsActions';\nimport { setLastToastActionButtonIdClicked } from '../redux/stores/toasts/toastsSlice';\nimport { ToastType } from '../types/ToastType';\nimport { switchNetwork } from '../web3-connectors/helpers';\n\nconst useSwitchChain = (): void => {\n  const dispatch = useAppDispatch();\n  const { isActive, chainId } = useWeb3React<Web3Provider>();\n  const { config } = useAppSelector((state) => state);\n  const { connectionType } = useAppSelector((state) => state.web3);\n  const { lastToastActionButtonIdClicked } = useAppSelector((state) => state.toasts);\n\n  const [lastToastId, setLastToastId] = useState<string>();\n\n  useEffect(() => {\n    if (!chainId) {\n      return;\n    }\n\n    if (lastToastId) {\n      dispatch(hideToast(lastToastId));\n\n      setLastToastId(undefined);\n    }\n\n    if (chainId !== config.chainId) {\n      const toastId = crypto.randomUUID();\n\n      setLastToastId(toastId);\n\n      dispatch(addToast({\n        type: ToastType.warning,\n        hideCloseButton: true,\n        willAutomaticallyHide: false,\n        actionButtonText: `Switch to ${chainNames[config.chainId]}`,\n        id: toastId,\n        title: 'Wrong network',\n        text: `Your wallet must be connected to ${chainNames[config.chainId]}.`,\n      }));\n    }\n  }, [chainId, config.chainId]);\n\n  useEffect(() => {\n    if (!isActive && lastToastId) {\n      dispatch(hideToast(lastToastId));\n\n      setLastToastId(undefined);\n    }\n  }, [isActive]);\n\n  useEffect(() => {\n    if (!connectionType) {\n      return;\n    }\n\n    if (lastToastActionButtonIdClicked && lastToastActionButtonIdClicked === lastToastId) {\n      switchNetwork(config.chainId, connectionType).then(() => {\n        dispatch(setLastToastActionButtonIdClicked(undefined));\n      });\n    }\n  }, [lastToastActionButtonIdClicked]);\n};\n\nexport default useSwitchChain;\n","import { TokenKinds } from '@airswap/constants';\n\nexport const supportedCollectionTokenKinds: TokenKinds[] = [\n  TokenKinds.ERC721,\n  TokenKinds.ERC1155,\n];\n\nexport const supportedCurrencyTokenKinds: TokenKinds[] = [\n  TokenKinds.ERC20,\n];\n","import { TokenKinds } from '@airswap/constants';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { ethers } from 'ethers';\n\nimport { AppThunkApiConfig } from '../../store';\nimport { getCollectionTokenKindHelper, getCurrencyTokenKindHelper } from './configHelpers';\n\ninterface GetTokenKindParams {\n  address: string,\n  provider: ethers.providers.Web3Provider,\n}\n\nexport const getCollectionTokenKind = createAsyncThunk<\nTokenKinds | undefined,\nGetTokenKindParams,\nAppThunkApiConfig\n>('config/getCollectionTokenKind', async ({ address, provider }) => (\n  getCollectionTokenKindHelper(provider, address)\n));\n\nexport const getCurrencyTokenKind = createAsyncThunk<\nTokenKinds | undefined,\nGetTokenKindParams,\nAppThunkApiConfig\n>('config/getCurrencyTokenKind', async ({ address, provider }) => (\n  getCurrencyTokenKindHelper(provider, address)\n));\n","import { TokenKinds } from '@airswap/constants';\nimport erc20AbiContract from '@openzeppelin/contracts/build/contracts/ERC20.json';\nimport erc721AbiContract from '@openzeppelin/contracts/build/contracts/ERC721.json';\nimport { ethers } from 'ethers';\n\nexport const getCollectionTokenKindHelper = async (provider: ethers.providers.Web3Provider, address: string): Promise<TokenKinds | undefined> => {\n  const contract = new ethers.Contract(address, erc721AbiContract.abi, provider);\n\n  const [isErc721, isErc1155] = await Promise.all([\n    contract.supportsInterface(TokenKinds.ERC721),\n    contract.supportsInterface(TokenKinds.ERC1155),\n  ]) as boolean[];\n\n  if (isErc721) {\n    return TokenKinds.ERC721;\n  }\n\n  if (isErc1155) {\n    return TokenKinds.ERC1155;\n  }\n\n  return undefined;\n};\n\nexport const getCurrencyTokenKindHelper = async (provider: ethers.providers.Web3Provider, address: string): Promise<TokenKinds | undefined> => {\n  const contract = new ethers.Contract(address, erc20AbiContract.abi, provider);\n\n  const totalSupply = await contract.totalSupply();\n\n  if (totalSupply) {\n    return TokenKinds.ERC20;\n  }\n\n  return undefined;\n};\n","import { TokenKinds } from '@airswap/constants';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { getCollectionTokenKind, getCurrencyTokenKind } from './configApi';\n\nexport interface ConfigState {\n  isFailed: boolean;\n  isLoadingCollectionTokenKind: boolean;\n  isLoadingCurrencyTokenKind: boolean;\n  isSuccessful: boolean;\n  chainId: number;\n  currencyToken: string;\n  currencyTokenKind?: TokenKinds;\n  collectionToken: string;\n  collectionTokenKind?: TokenKinds;\n  collectionName: string;\n  collectionImage: string;\n}\nconst initialState: ConfigState = {\n  isFailed: false,\n  isLoadingCollectionTokenKind: false,\n  isLoadingCurrencyTokenKind: false,\n  isSuccessful: false,\n  chainId: process.env.REACT_APP_CHAIN_ID ? parseInt(process.env.REACT_APP_CHAIN_ID, 10) : 1,\n  currencyToken: (process.env.REACT_APP_CURRENCY_TOKEN || '').toLowerCase(),\n  collectionToken: (process.env.REACT_APP_COLLECTION_TOKEN || '').toLowerCase(),\n  collectionName: process.env.REACT_APP_COLLECTION_NAME || '',\n  collectionImage: process.env.REACT_APP_COLLECTION_IMAGE || '',\n};\n\nconst configSlice = createSlice({\n  name: 'config',\n  initialState,\n  reducers: {\n    reset: (): ConfigState => ({\n      ...initialState,\n    }),\n    setIsSuccessful: (state, action: PayloadAction<boolean>): ConfigState => ({\n      ...state,\n      isSuccessful: action.payload,\n    }),\n  },\n  extraReducers: builder => {\n    builder.addCase(getCollectionTokenKind.pending, (state): ConfigState => ({\n      ...state,\n      isLoadingCollectionTokenKind: true,\n    }));\n    builder.addCase(getCollectionTokenKind.fulfilled, (state, action): ConfigState => ({\n      ...state,\n      isLoadingCollectionTokenKind: false,\n      collectionTokenKind: action.payload,\n    }));\n    builder.addCase(getCollectionTokenKind.rejected, (state): ConfigState => ({\n      ...state,\n      isLoadingCollectionTokenKind: false,\n      isFailed: true,\n    }));\n    builder.addCase(getCurrencyTokenKind.pending, (state): ConfigState => ({\n      ...state,\n      isLoadingCurrencyTokenKind: true,\n    }));\n    builder.addCase(getCurrencyTokenKind.fulfilled, (state, action): ConfigState => ({\n      ...state,\n      isLoadingCurrencyTokenKind: false,\n      currencyTokenKind: action.payload,\n    }));\n    builder.addCase(getCurrencyTokenKind.rejected, (state): ConfigState => ({\n      ...state,\n      isLoadingCurrencyTokenKind: false,\n      isFailed: true,\n    }));\n  },\n});\n\nexport const {\n  setIsSuccessful,\n  reset,\n} = configSlice.actions;\n\nexport default configSlice.reducer;\n","import { useEffect } from 'react';\n\nimport { useWeb3React } from '@web3-react/core';\n\nimport { supportedCollectionTokenKinds, supportedCurrencyTokenKinds } from '../../../constants/supportedTokenKinds';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { getCollectionTokenKind, getCurrencyTokenKind } from './configApi';\nimport { reset, setIsSuccessful } from './configSlice';\n\nexport const useConfig = (): void => {\n  const dispatch = useAppDispatch();\n\n  const { provider: library } = useWeb3React();\n  const { chainId } = useAppSelector(state => state.web3);\n  const {\n    collectionToken,\n    collectionTokenKind,\n    chainId: configChainId,\n    currencyToken,\n    currencyTokenKind,\n  } = useAppSelector(state => state.config);\n\n  useEffect(() => {\n    if (!library || chainId !== configChainId) {\n      return;\n    }\n\n    dispatch(getCollectionTokenKind({ address: collectionToken, provider: library }));\n    dispatch(getCurrencyTokenKind({ address: currencyToken, provider: library }));\n  }, [chainId]);\n\n  useEffect(() => {\n    if (\n      collectionTokenKind\n      && supportedCollectionTokenKinds.includes(collectionTokenKind)\n      && currencyTokenKind\n      && supportedCurrencyTokenKinds.includes(currencyTokenKind)\n    ) {\n      dispatch(setIsSuccessful(true));\n    }\n  }, [collectionTokenKind]);\n\n  useEffect(() => {\n    if (chainId !== configChainId) {\n      dispatch(reset());\n    }\n  }, [chainId]);\n};\n","import { Protocols } from '@airswap/constants';\nimport { RegistryV4 } from '@airswap/libraries';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { ethers } from 'ethers';\n\ninterface InitializeParams {\n  chainId: number,\n  provider: ethers.providers.BaseProvider,\n}\n\nexport const initialize = createAsyncThunk<\nstring[],\nInitializeParams\n>('indexer/initialize', async ({ chainId, provider }) => RegistryV4.getServerURLs(\n  provider,\n  chainId,\n  Protocols.Storage,\n));\n","import { FullOrder } from '@airswap/types';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { initialize } from './indexerApi';\n\nexport interface IndexerState {\n  isInitialized: boolean;\n  isLoading: boolean;\n  lastFailedOrder?: FullOrder;\n  lastSentOrder?: FullOrder;\n  urls: string[];\n}\n\nconst initialState: IndexerState = {\n  isInitialized: false,\n  isLoading: false,\n  urls: [],\n};\n\nexport const indexerSlice = createSlice({\n  name: 'indexer',\n  initialState,\n  reducers: {\n    setLastFailedOrder: (state: IndexerState, action: PayloadAction<FullOrder>): IndexerState => ({\n      ...state,\n      lastFailedOrder: action.payload,\n    }),\n    setLastSentOrder: (state: IndexerState, action: PayloadAction<FullOrder>): IndexerState => ({\n      ...state,\n      lastSentOrder: action.payload,\n    }),\n  },\n  extraReducers: (builder) => {\n    builder.addCase(initialize.pending, (state): IndexerState => ({\n      ...state,\n      isLoading: true,\n    }));\n    builder.addCase(initialize.fulfilled, (state, action: PayloadAction<string[]>): IndexerState => ({\n      ...state,\n      isInitialized: true,\n      isLoading: false,\n      urls: action.payload,\n    }));\n  },\n});\n\nexport const { setLastFailedOrder, setLastSentOrder } = indexerSlice.actions;\n\nexport default indexerSlice.reducer;\n","import { useEffect } from 'react';\n\nimport { FullOrder } from '@airswap/types';\n\nimport useDefaultLibrary from '../../../hooks/useDefaultProvider';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { clearLastUserOrder } from '../listNft/listNftSlice';\nimport { initialize } from './indexerApi';\nimport { sendOrderToIndexers } from './indexerHelpers';\nimport { setLastFailedOrder, setLastSentOrder } from './indexerSlice';\n\nexport const useIndexers = (): void => {\n  const dispatch = useAppDispatch();\n\n  const { lastUserOrder } = useAppSelector(state => state.listNft);\n  const { chainId } = useAppSelector(state => state.config);\n  const { isInitialized, isLoading, urls } = useAppSelector(state => state.indexer);\n  const library = useDefaultLibrary(chainId);\n\n  const sendAndClearLastOrder = async (lastOrder: FullOrder) => {\n    if (!isInitialized) return;\n\n    const isSuccessful = await sendOrderToIndexers(lastOrder, urls);\n\n    if (isSuccessful) {\n      dispatch(setLastSentOrder(lastOrder));\n    } else {\n      dispatch(setLastFailedOrder(lastOrder));\n    }\n\n    dispatch(clearLastUserOrder());\n  };\n\n  useEffect(() => {\n    if (library && !isInitialized && !isLoading) {\n      dispatch(initialize({ chainId, provider: library }));\n    }\n  }, [library]);\n\n  useEffect(() => {\n    if (lastUserOrder) sendAndClearLastOrder(lastUserOrder);\n  }, [lastUserOrder]);\n};\n","import { BaseProvider, TransactionReceipt } from '@ethersproject/providers';\n\nimport { SubmittedTransaction, SubmittedTransactionStatus } from '../../../entities/SubmittedTransaction/SubmittedTransaction';\nimport { parseJsonArray } from '../../../helpers/json';\nimport { AppDispatch } from '../../store';\nimport { updateTransaction } from './transactionsActions';\n\nexport const getTransactionsLocalStorageKey = (account: string, chainId: number): string => `airswap-marketplace/transactions-v2/${account}/${chainId}`;\n\nexport const getLocalStorageTransactions = (account: string, chainId: number): SubmittedTransaction[] => {\n  const key = getTransactionsLocalStorageKey(account, chainId);\n  const value = localStorage.getItem(key);\n\n  return value ? parseJsonArray<SubmittedTransaction>(value) : [];\n};\n\nexport const handleTransactionReceipt = (status: number, transaction: SubmittedTransaction, dispatch: AppDispatch): void => {\n  dispatch(updateTransaction({\n    ...transaction,\n    status: status === 1 ? SubmittedTransactionStatus.succeeded : SubmittedTransactionStatus.failed,\n  }));\n};\n\nexport const listenForTransactionReceipt = (transaction: SubmittedTransaction, library: BaseProvider, dispatch: AppDispatch): string => {\n  library.once(transaction.hash, () => {\n    library.getTransactionReceipt(transaction.hash)\n      .then((receipt: TransactionReceipt) => {\n        if (receipt?.status !== undefined) {\n          handleTransactionReceipt(receipt.status, transaction, dispatch);\n        }\n      });\n  });\n  return transaction.hash;\n};\n","import { useEffect, useState } from 'react';\n\nimport useDefaultProvider from '../../../hooks/useDefaultProvider';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport {\n  getLocalStorageTransactions,\n  getTransactionsLocalStorageKey,\n  listenForTransactionReceipt,\n} from './transactionsHelpers';\nimport { setTransactions } from './transactionsSlice';\n\nexport const useTransactions = (): void => {\n  const dispatch = useAppDispatch();\n\n  const library = useDefaultProvider();\n  const { account, chainId } = useAppSelector(state => state.web3);\n  const { transactions } = useAppSelector(state => state.transactions);\n\n  const [activeListenerHashes, setActiveListenerHashes] = useState<string[]>([]);\n\n  useEffect(() => {\n    if (!account || !chainId || !library) {\n      return;\n    }\n\n    const localStorageKey = getTransactionsLocalStorageKey(account, chainId);\n    localStorage.setItem(localStorageKey, JSON.stringify(transactions));\n\n    const newListenerHashes = transactions\n      .filter(transaction => transaction.status === 'processing' && !activeListenerHashes.includes(transaction.hash))\n      .map(transaction => listenForTransactionReceipt(transaction, library, dispatch));\n\n    setActiveListenerHashes([...activeListenerHashes, ...newListenerHashes]);\n  }, [transactions]);\n\n  useEffect(() => {\n    if (!account || !chainId) {\n      return;\n    }\n\n    dispatch(setTransactions(getLocalStorageTransactions(account, chainId)));\n  }, [account, chainId]);\n};\n","import React, {\n  FC,\n  ReactElement,\n  useEffect, useRef,\n  useState,\n} from 'react';\n\nimport classnames from 'classnames';\n\nimport IconButton from '../../compositions/IconButton/IconButton';\nimport { Toast as ToastInterface } from '../../entities/Toast/Toast';\nimport Button from '../Button/Button';\nimport Icon from '../Icon/Icon';\nimport { getToastIcon } from './helpers/getToastIcon';\n\nimport './Toast.scss';\n\ninterface ToastProps {\n  toast: ToastInterface;\n  onActionButtonClick: (toastId: string) => void;\n  onHide: (id: string) => void;\n  className?: string;\n}\n\nconst Toast: FC<ToastProps> = ({\n  toast,\n  onActionButtonClick,\n  onHide,\n  className = '',\n}): ReactElement => {\n  const [height, setHeight] = useState(0);\n\n  const elementRef = useRef<HTMLDivElement>(null);\n\n  const toastClassName = classnames('toast', {\n    [`toast--is-${toast.type}`]: toast.type,\n    'toast--is-hidden': toast.isHidden,\n  }, className);\n\n  const iconName = getToastIcon(toast.type);\n\n  const handleActionButtonClick = () => {\n    onActionButtonClick(toast.id);\n  };\n\n  useEffect(() => {\n    let timeoutId: NodeJS.Timeout | undefined;\n\n    if (toast.willAutomaticallyHide) {\n      timeoutId = setTimeout(() => onHide(toast.id), 3000);\n    }\n\n    return () => clearTimeout(timeoutId);\n  }, [toast.willAutomaticallyHide]);\n\n  useEffect(() => {\n    if (elementRef.current && !height) {\n      setHeight(elementRef.current.clientHeight);\n    }\n  }, [elementRef.current]);\n\n  return (\n    <div\n      style={{ height: height || 'auto' }}\n      className={toastClassName}\n    >\n      <div ref={elementRef} className=\"toast__inner\">\n        <div className=\"toast__icon-wrapper\">\n          <div className=\"toast__icon-wrapper-background\" />\n          <Icon className=\"toast__icon\" name={iconName} />\n        </div>\n        <div className=\"toast__title-text-wrapper\">\n          <h1 className=\"toast__title\">{toast.title}</h1>\n          {toast.text && (\n            <p className=\"toast__text\">\n              {toast.text}\n            </p>\n          )}\n          {toast.actionButtonText && (\n            <Button\n              text={toast.actionButtonText}\n              onClick={handleActionButtonClick}\n              className=\"toast__action-button\"\n            />\n          )}\n        </div>\n        {!toast.hideCloseButton && (\n          <IconButton\n            hideLabel\n            icon=\"button-x\"\n            text=\"close\"\n            className=\"toast__close-button\"\n            onClick={() => onHide(toast.id)}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Toast;\n","import { ToastType } from '../../../types/ToastType';\nimport { icons } from '../../Icon/Icon';\n\nexport const getToastIcon = (toastType: ToastType): keyof typeof icons => {\n  if (toastType === ToastType.success) {\n    return 'marker-check';\n  }\n\n  if (toastType === ToastType.pending) {\n    return 'transaction-pending';\n  }\n\n  if (toastType === ToastType.fail) {\n    return 'button-x';\n  }\n\n  if (toastType === ToastType.deny) {\n    return 'deny';\n  }\n\n  if (toastType === ToastType.warning) {\n    return 'information-circle-outline';\n  }\n\n  return 'airswap';\n};\n","import React, {\n  FC,\n  ReactElement,\n  useCallback,\n  useEffect,\n} from 'react';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport debounce from 'lodash.debounce';\n\nimport Toast from '../../components/Toast/Toast';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport { hideToast, removeHiddenToasts } from '../../redux/stores/toasts/toastsActions';\nimport { setLastToastActionButtonIdClicked } from '../../redux/stores/toasts/toastsSlice';\n\nimport './ToastsWidget.scss';\n\nconst ToastsWidget: FC = (): ReactElement => {\n  const dispatch = useAppDispatch();\n  const { toasts } = useAppSelector((state) => state.toasts);\n\n  const cleanupToasts = () => {\n    dispatch(removeHiddenToasts());\n  };\n\n  const debouncedCleanupToasts = useCallback(\n    debounce(cleanupToasts, 1000),\n    [],\n  );\n\n  const handleActionButtonClick = async (toastId: string) => {\n    dispatch(setLastToastActionButtonIdClicked(toastId));\n  };\n\n  const handleToastHide = async (toastId: string) => {\n    dispatch(hideToast(toastId));\n    debouncedCleanupToasts();\n  };\n\n  useEffect(() => {\n    debouncedCleanupToasts();\n  }, [toasts]);\n\n  return (\n    <div className=\"toasts-widget\">\n      {\n        [...toasts]\n          .reverse()\n          .map(toast => (\n            <Toast\n              key={toast.id}\n              toast={toast}\n              onActionButtonClick={handleActionButtonClick}\n              onHide={handleToastHide}\n              className=\"toasts-widget__toast\"\n            />\n          ))\n      }\n    </div>\n  );\n};\n\nexport default ToastsWidget;\n","import React from 'react';\n\nimport { Web3ReactProvider } from '@web3-react/core';\n\nimport Routes from './compositions/Routes/Routes';\nimport useMapWeb3ReactToStore from './hooks/useMapWeb3ReactToStore';\nimport useSwitchChain from './hooks/useSwitchChain';\nimport DebugPage from './pages/DebugPage/DebugPage';\nimport { useAppSelector } from './redux/hooks';\nimport { useConfig } from './redux/stores/config/configHooks';\nimport { useIndexers } from './redux/stores/indexer/indexerHooks';\nimport { useMetadata } from './redux/stores/metadata/metadataHooks';\nimport { useTransactions } from './redux/stores/transactions/transactionsHooks';\nimport { useWeb3 } from './redux/stores/web3/web3Hooks';\nimport { prioritizedConnectors } from './web3-connectors/connections';\nimport ToastsWidget from './widgets/ToastsWidget/ToastsWidget';\n\nconst ConnectedApp = () => {\n  const { isFailed } = useAppSelector(state => state.config);\n\n  useConfig();\n  useMapWeb3ReactToStore();\n  useTransactions();\n  useMetadata();\n  useIndexers();\n  useSwitchChain();\n  useWeb3();\n\n  if (isFailed) {\n    return (\n      <DebugPage />\n    );\n  }\n\n  return (\n    <Routes />\n  );\n};\n\nconst App = () => (\n  <Web3ReactProvider connectors={Object.values(prioritizedConnectors).map((connector) => [connector.connector, connector.hooks])}>\n    <ConnectedApp />\n    <ToastsWidget />\n  </Web3ReactProvider>\n);\n\nexport default App;\n","import { useEffect } from 'react';\n\nimport useDefaultLibrary from '../../../hooks/useDefaultProvider';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { fetchProtocolFee } from './metadataActions';\nimport { getCurrencyTokenInfo } from './metadataApi';\nimport { setCollectionTokens } from './metadataSlice';\nimport { getLocalStorageCollectionTokens } from './metdataHelpers';\n\nexport const useMetadata = (): void => {\n  const dispatch = useAppDispatch();\n\n  const { chainId, collectionToken, currencyToken } = useAppSelector(state => state.config);\n  const { currencyTokenInfo, protocolFee } = useAppSelector(state => state.metadata);\n  const library = useDefaultLibrary(chainId);\n\n  useEffect(() => {\n    dispatch(setCollectionTokens(getLocalStorageCollectionTokens(collectionToken)));\n  }, [collectionToken]);\n\n  useEffect(() => {\n    if (!library || !chainId) {\n      return;\n    }\n\n    if (!currencyTokenInfo) {\n      dispatch(getCurrencyTokenInfo({\n        currencyToken,\n        library,\n        chainId,\n      }));\n    }\n\n    if (!protocolFee) {\n      dispatch(fetchProtocolFee({\n        provider: library,\n        chainId,\n      }));\n    }\n  }, [library]);\n};\n","import { useEffect } from 'react';\n\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { setShowConnectModal } from './web3Slice';\n\nexport const useWeb3 = (): void => {\n  const dispatch = useAppDispatch();\n\n  const { isActive, isInitialized, userHasClosedConnectModal } = useAppSelector((state) => state.web3);\n\n  useEffect(() => {\n    if (isInitialized && !isActive && !userHasClosedConnectModal) {\n      dispatch(setShowConnectModal(true));\n    }\n  }, [isInitialized]);\n\n  useEffect(() => {\n    if (isInitialized && isActive) {\n      dispatch(setShowConnectModal(false));\n    }\n  }, [isActive]);\n};\n","import BalanceChecker from '@airswap/balances/build/contracts/BalanceChecker.sol/BalanceChecker.json';\nimport balancesDeploys from '@airswap/balances/deploys';\nimport { Swap } from '@airswap/libraries';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport { ethers, providers } from 'ethers';\n\nimport { getErc20TokenAllowance } from '../orders/ordersApi';\nimport { getOwnedTokenIdsOfWallet } from './balancesHelpers';\n\nconst balancesInterface = new ethers.utils.Interface(\n  JSON.stringify(BalanceChecker.abi),\n);\n\nconst getBalancesContract = (\n  chainId: keyof typeof balancesDeploys,\n  provider: ethers.providers.Web3Provider,\n) => new ethers.Contract(\n  balancesDeploys[chainId],\n  balancesInterface,\n  provider as providers.Provider,\n);\n\ninterface WalletParams {\n  chainId: number;\n  provider: ethers.providers.Web3Provider;\n  walletAddress: string;\n  collectionTokenAddress: string;\n}\n\nexport const fetchCurrencyTokenBalance = createAsyncThunk<string, WalletParams>(\n  'balances/fetchBalances',\n  async (params) => {\n    const contract = getBalancesContract(params.chainId, params.provider);\n\n    const response = await contract.walletBalances(params.walletAddress, [params.collectionTokenAddress]);\n\n    return response.toString();\n  },\n);\n\nexport const fetchCurrencyTokenAllowance = createAsyncThunk<string, WalletParams>(\n  'balances/fetchAllowances',\n  async (params) => {\n    const response = await getErc20TokenAllowance(\n      params.collectionTokenAddress,\n      params.walletAddress,\n      Swap.getAddress(params.chainId) || '',\n      params.provider,\n    );\n\n    return response.toString();\n  },\n);\n\nexport const getTransactionsLocalStorageKey: (\n  walletAddress: string,\n  chainId: number\n) => string = (walletAddress, chainId) => `airswap-marketplace/transactions/${walletAddress}/${chainId}`;\n\ninterface fetchTokenIdsParams {\n  provider: ethers.providers.Web3Provider;\n  walletAddress: string;\n  collectionToken: string;\n}\n\nexport const fetchUserTokens = createAsyncThunk<string[], fetchTokenIdsParams>(\n  'balances/fetchUserTokens',\n  async ({\n    provider,\n    walletAddress,\n    collectionToken,\n  }) => getOwnedTokenIdsOfWallet(provider, walletAddress, collectionToken),\n);\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { fetchCurrencyTokenAllowance, fetchCurrencyTokenBalance, fetchUserTokens } from './balancesApi';\n\ninterface BalancesState {\n  isInitialized: boolean;\n  isLoading: boolean;\n  isLoadingAllowances: boolean;\n  isLoadingBalances: boolean;\n  isLoadingTokens: boolean;\n  currencyTokenAllowance: string;\n  currencyTokenBalance: string;\n  tokens: string[];\n}\n\nconst initialState: BalancesState = {\n  isInitialized: false,\n  isLoading: false,\n  isLoadingAllowances: false,\n  isLoadingBalances: false,\n  isLoadingTokens: false,\n  currencyTokenAllowance: '0',\n  currencyTokenBalance: '0',\n  tokens: [],\n};\n\nconst balancesSlice = createSlice({\n  name: 'balances',\n  initialState,\n  reducers: {\n    setIsLoading: (state, action: PayloadAction<boolean>): BalancesState => ({\n      ...state,\n      isLoading: action.payload,\n    }),\n    setIsInitialized: (state, action: PayloadAction<boolean>): BalancesState => ({\n      ...state,\n      isInitialized: action.payload,\n    }),\n    setAllowance: (state, action: PayloadAction<string>): BalancesState => ({\n      ...state,\n      currencyTokenAllowance: action.payload,\n    }),\n    setBalance: (state, action: PayloadAction<string>): BalancesState => ({\n      ...state,\n      currencyTokenBalance: action.payload,\n    }),\n    setTokens: (state, action: PayloadAction<string[]>): BalancesState => ({\n      ...state,\n      tokens: action.payload,\n    }),\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchCurrencyTokenBalance.pending, (state): BalancesState => ({\n      ...state,\n      isLoading: true,\n      isLoadingBalances: true,\n    }));\n\n    builder.addCase(fetchCurrencyTokenBalance.fulfilled, (state, action): BalancesState => ({\n      ...state,\n      isLoading: state.isLoadingAllowances || state.isLoadingTokens,\n      isLoadingBalances: false,\n      currencyTokenBalance: action.payload,\n    }));\n\n    builder.addCase(fetchUserTokens.pending, (state): BalancesState => ({\n      ...state,\n      isLoading: true,\n      isLoadingTokens: true,\n    }));\n\n    builder.addCase(fetchUserTokens.fulfilled, (state, action): BalancesState => ({\n      ...state,\n      isLoading: state.isLoadingAllowances || state.isLoadingBalances,\n      isLoadingTokens: false,\n      tokens: action.payload,\n    }));\n\n    builder.addCase(fetchCurrencyTokenAllowance.pending, (state): BalancesState => ({\n      ...state,\n      isLoading: true,\n      isLoadingAllowances: true,\n    }));\n\n    builder.addCase(fetchCurrencyTokenAllowance.fulfilled, (state, action): BalancesState => ({\n      ...state,\n      isLoading: state.isLoadingBalances || state.isLoadingTokens,\n      isLoadingAllowances: false,\n      currencyTokenAllowance: action.payload,\n    }));\n  },\n});\n\nexport const {\n  setIsLoading,\n  setAllowance,\n  setBalance,\n  setTokens,\n  setIsInitialized,\n} = balancesSlice.actions;\n\nexport default balancesSlice.reducer;\n","import { SubmittedTransactionType } from '../../../entities/SubmittedTransaction/SubmittedTransaction';\nimport { getLibrary } from '../../../helpers/ethers';\nimport { store } from '../../store';\nimport { fetchCurrencyTokenAllowance, fetchCurrencyTokenBalance, fetchUserTokens } from './balancesApi';\nimport {\n  setAllowance,\n  setBalance,\n  setIsInitialized,\n  setTokens,\n} from './balancesSlice';\n\nexport const configureBalancesSubscriber = () => {\n  let account: string;\n  let chainId: number;\n  let lastTransactionHash: string | undefined;\n\n  store.subscribe(() => {\n    const { config, transactions, web3 } = store.getState();\n\n    const lastTransaction = transactions.transactions[0];\n    const lastSucceededTransaction = lastTransaction?.status === 'succeeded' ? lastTransaction : undefined;\n\n    if (web3.chainId && chainId !== web3.chainId && web3.chainId !== config.chainId) {\n      chainId = web3.chainId;\n\n      store.dispatch(setIsInitialized(false));\n      store.dispatch(setAllowance('0'));\n      store.dispatch(setBalance('0'));\n      store.dispatch(setTokens([]));\n\n      return;\n    }\n\n    if (!web3.chainId || !web3.account || !web3.hasLibrary || web3.chainId !== config.chainId) {\n      return;\n    }\n\n    const library = getLibrary(web3.chainId);\n\n    if (!library) {\n      return;\n    }\n\n    if (account !== web3.account || chainId !== web3.chainId) {\n      account = web3.account;\n      chainId = web3.chainId;\n\n      store.dispatch(setIsInitialized(false));\n\n      Promise.all([\n        store.dispatch(fetchCurrencyTokenBalance({\n          chainId,\n          provider: library,\n          collectionTokenAddress: config.currencyToken,\n          walletAddress: account,\n        })),\n\n        store.dispatch(fetchCurrencyTokenAllowance({\n          chainId,\n          provider: library,\n          collectionTokenAddress: config.currencyToken,\n          walletAddress: account,\n        })),\n\n        store.dispatch(fetchUserTokens({\n          provider: library,\n          walletAddress: account,\n          collectionToken: config.collectionToken,\n        })),\n      ]).then(() => {\n        store.dispatch(setIsInitialized(true));\n      });\n    }\n\n    if (lastSucceededTransaction && lastSucceededTransaction.hash !== lastTransactionHash) {\n      lastTransactionHash = lastSucceededTransaction.hash;\n\n      if (lastSucceededTransaction.type === SubmittedTransactionType.order) {\n        store.dispatch(fetchUserTokens({\n          provider: library,\n          walletAddress: web3.account,\n          collectionToken: config.collectionToken,\n        }));\n\n        store.dispatch(fetchCurrencyTokenBalance({\n          chainId: web3.chainId,\n          provider: library,\n          collectionTokenAddress: config.currencyToken,\n          walletAddress: web3.account,\n        }));\n      }\n\n      if (lastSucceededTransaction.type === SubmittedTransactionType.erc20Approval) {\n        store.dispatch(fetchCurrencyTokenAllowance({\n          chainId: web3.chainId,\n          provider: library,\n          collectionTokenAddress: config.currencyToken,\n          walletAddress: web3.account,\n        }));\n      }\n    }\n  });\n};\n","import { FullOrder } from '@airswap/types';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { getNftOrderByOrderNonce } from './orderDetailApi';\n\nexport interface OrderDetailState {\n  isLoading: boolean;\n  isOrderNotFound: boolean;\n  order?: FullOrder;\n}\n\nconst initialState: OrderDetailState = {\n  isLoading: false,\n  isOrderNotFound: false,\n};\n\nexport const OrderDetailSlice = createSlice({\n  name: 'orderDetailReducer',\n  initialState,\n  reducers: {\n    setIsLoading(state, action: PayloadAction<boolean>): OrderDetailState {\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    },\n    setOrder(state, action: PayloadAction<FullOrder>): OrderDetailState {\n      return {\n        ...state,\n        order: action.payload,\n      };\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(getNftOrderByOrderNonce.fulfilled, (state, action: PayloadAction<FullOrder | undefined>): OrderDetailState => ({\n      ...state,\n      isLoading: false,\n      isOrderNotFound: !action.payload,\n      order: action.payload,\n    }));\n    builder.addCase(getNftOrderByOrderNonce.pending, (state): OrderDetailState => ({\n      ...state,\n      isLoading: true,\n      isOrderNotFound: false,\n    }));\n    builder.addCase(getNftOrderByOrderNonce.rejected, (state): OrderDetailState => ({\n      ...state,\n      isLoading: false,\n      isOrderNotFound: true,\n    }));\n  },\n});\n\nexport const {\n  setIsLoading,\n  setOrder,\n} = OrderDetailSlice.actions;\n\nexport default OrderDetailSlice.reducer;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\n\nconst convertBase64ToBlob = async (base64: string) => {\n  const response = await fetch(base64);\n  return response.blob();\n};\n\nconst convertBlobToBase64 = (blob: any) => new Promise<any>((resolve, reject) => {\n  const reader = new FileReader();\n  reader.onerror = reject;\n  reader.onload = () => {\n    resolve(reader.result);\n  };\n  reader.readAsDataURL(blob);\n});\n\nexport const fetchAvatarByAddress = createAsyncThunk<\nstring, { address: string }>(\n  'user/fetchAvatarByAddress',\n  async ({ address }) => {\n    const avatarUrl = localStorage.getItem(`airswap/avatarUrl/${address}`);\n    if (avatarUrl) {\n      const blob = await convertBase64ToBlob(avatarUrl);\n      return URL.createObjectURL(blob);\n    }\n\n    const response = await fetch(\n      `https://api.dicebear.com/5.x/identicon/svg?seed=${address}`,\n    );\n    const blob = await response.blob();\n\n    const base64 = await convertBlobToBase64(blob);\n    localStorage.setItem(`airswap/avatarUrl/${address}`, base64);\n\n    return URL.createObjectURL(blob);\n  },\n);\n\n","import { createSlice } from '@reduxjs/toolkit';\n\nimport { setWeb3Data } from '../web3/web3Slice';\nimport { fetchAvatarByAddress } from './userApi';\n\nexport interface UserState {\n  isLoading: boolean;\n  avatarUrl?: string;\n}\n\nconst initialState: UserState = {\n  isLoading: false,\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchAvatarByAddress.pending, (state) => ({\n      ...state,\n      isLoading: true,\n    }));\n\n    builder.addCase(fetchAvatarByAddress.fulfilled, (state, action) => ({\n      ...state,\n      isLoading: false,\n      avatarUrl: action.payload,\n    }));\n\n    builder.addCase(setWeb3Data, (state, action) => ({\n      ...state,\n      avatarUrl: action.payload.account ? state.avatarUrl : undefined,\n    }));\n  },\n});\n\nexport default userSlice.reducer;\n\n\n","import { getLibrary } from '../../../helpers/ethers';\nimport { store } from '../../store';\nimport { fetchAvatarByAddress } from './userApi';\n\nexport const configureUserSubscriber = () => {\n  let userAccount = '';\n\n  store.subscribe(async () => {\n    const { web3 } = store.getState();\n\n    if (!web3.account) {\n      userAccount = '';\n    }\n\n    if (\n      web3.account\n      && userAccount !== web3.account\n      && web3.chainId\n      && web3.hasLibrary\n    ) {\n      userAccount = web3.account;\n      const library = getLibrary(web3.chainId);\n\n      const ensAddress = await library.lookupAddress(web3.account);\n      store.dispatch(fetchAvatarByAddress({ address: ensAddress || web3.account }));\n    }\n  });\n};\n","import {\n  Action,\n  AnyAction,\n  configureStore,\n  ThunkAction,\n  ThunkDispatch,\n} from '@reduxjs/toolkit';\n\nimport balancesReducer from './stores/balances/balancesSlice';\nimport { configureBalancesSubscriber } from './stores/balances/balancesSubscriber';\nimport collectionReducer from './stores/collection/collectionSlice';\nimport configReducer from './stores/config/configSlice';\nimport indexerReducer from './stores/indexer/indexerSlice';\nimport listNftReducer from './stores/listNft/listNftSlice';\nimport metadataReducer from './stores/metadata/metadataSlice';\nimport nftDetailReducer from './stores/nftDetail/nftDetailSlice';\nimport orderDetailReducer from './stores/orderDetail/orderDetailSlice';\nimport ordersReducer from './stores/orders/ordersSlice';\nimport profileReducer from './stores/profile/profileSlice';\nimport profileOrdersReducer from './stores/profileOrders/profileOrdersSlice';\nimport toastsReducer from './stores/toasts/toastsSlice';\nimport transactionsReducer from './stores/transactions/transactionsSlice';\nimport userReducer from './stores/user/userSlice';\nimport { configureUserSubscriber } from './stores/user/userSubscriber';\nimport web3Reducer from './stores/web3/web3Slice';\n\nexport const store = configureStore({\n  reducer: {\n    balances: balancesReducer,\n    collection: collectionReducer,\n    config: configReducer,\n    indexer: indexerReducer,\n    listNft: listNftReducer,\n    metadata: metadataReducer,\n    nftDetail: nftDetailReducer,\n    orders: ordersReducer,\n    orderDetail: orderDetailReducer,\n    profile: profileReducer,\n    profileOrders: profileOrdersReducer,\n    toasts: toastsReducer,\n    transactions: transactionsReducer,\n    user: userReducer,\n    web3: web3Reducer,\n  },\n});\n\nconfigureBalancesSubscriber();\nconfigureUserSubscriber();\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = ThunkDispatch<RootState, unknown, AnyAction>;\nexport type AppThunkApiConfig = { dispatch: AppDispatch; state: RootState }\nexport type AppThunk<ReturnType = void> = ThunkAction<\nReturnType,\nRootState,\nunknown,\nAction<string>\n>;\n\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\n\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport { store } from './redux/store';\nimport reportWebVitals from './reportWebVitals';\n\nimport './styles/global.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}