(this["webpackJsonpairswap-marketplace"]=this["webpackJsonpairswap-marketplace"]||[]).push([[6],{972:function(e,t,r){"use strict";r.r(t),r.d(t,"AlchemyProvider",(function(){return h}));var i=r(971),s=r(176),n=r(74),o=r(51);r(258);class c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;this.sendBatchFn=e,this.maxBatchSize=t,this.pendingBatch=[]}enqueueRequest(e){return Object(i.i)(this,void 0,void 0,(function*(){const t={request:e,resolve:void 0,reject:void 0},r=new Promise(((e,r)=>{t.resolve=e,t.reject=r}));return this.pendingBatch.push(t),this.pendingBatch.length===this.maxBatchSize?this.sendBatchRequest():this.pendingBatchTimer||(this.pendingBatchTimer=setTimeout((()=>this.sendBatchRequest()),10)),r}))}sendBatchRequest(){return Object(i.i)(this,void 0,void 0,(function*(){const e=this.pendingBatch;this.pendingBatch=[],this.pendingBatchTimer&&(clearTimeout(this.pendingBatchTimer),this.pendingBatchTimer=void 0);const t=e.map((e=>e.request));return this.sendBatchFn(t).then((t=>{e.forEach(((e,r)=>{const i=t[r];if(i.error){const t=new Error(i.error.message);t.code=i.error.code,t.data=i.error.data,e.reject(t)}else e.resolve(i.result)}))}),(t=>{e.forEach((e=>{e.reject(t)}))}))}))}}class h extends n.a{constructor(e){const t=h.getApiKey(e.apiKey),r=h.getAlchemyNetwork(e.network),s=h.getAlchemyConnectionInfo(r,t,"http");void 0!==e.url&&(s.url=e.url),s.throttleLimit=e.maxRetries;super(s,i.d[r]),this.apiKey=e.apiKey,this.maxRetries=e.maxRetries,this.batchRequests=e.batchRequests;const n=Object.assign(Object.assign({},this.connection),{headers:Object.assign(Object.assign({},this.connection.headers),{"Alchemy-Ethers-Sdk-Method":"batchSend"})});this.batcher=new c((e=>Object(o.b)(n,JSON.stringify(e)))),this.modifyFormatter()}static getApiKey(e){if(null==e)return i.c;if(e&&"string"!==typeof e)throw new Error("Invalid apiKey '".concat(e,"' provided. apiKey must be a string."));return e}static getNetwork(e){return"string"===typeof e&&e in i.b?i.b[e]:Object(s.a)(e)}static getAlchemyNetwork(e){if(void 0===e)return i.j;if("number"===typeof e)throw new Error("Invalid network '".concat(e,"' provided. Network must be a string."));if(!Object.values(i.f).includes(e))throw new Error("Invalid network '".concat(e,"' provided. Network must be one of: ")+"".concat(Object.values(i.f).join(", "),"."));return e}static getAlchemyConnectionInfo(e,t,r){const s="http"===r?Object(i.p)(e,t):Object(i.k)(e,t);return{headers:i.e?{"Alchemy-Ethers-Sdk-Version":i.h}:{"Alchemy-Ethers-Sdk-Version":i.h,"Accept-Encoding":"gzip"},allowGzip:!0,url:s}}detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Object(i.i)(this,void 0,void 0,(function*(){let t=this.network;if(null==t&&(t=yield e.detectNetwork.call(this),!t))throw new Error("No network detected");return t}))}_startPending(){Object(i.u)("WARNING: Alchemy Provider does not support pending filters")}isCommunityResource(){return this.apiKey===i.c}send(e,t){return this._send(e,t,"send")}_send(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};if(Object.assign({},this.connection).headers["Alchemy-Ethers-Sdk-Method"]=r,this.batchRequests||s)return this.batcher.enqueueRequest(n);this.emit("debug",{action:"request",request:Object(i.m)(n),provider:this});const c=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(c&&this._cache[e])return this._cache[e];const h=Object(o.b)(this.connection,JSON.stringify(n),a).then((e=>(this.emit("debug",{action:"response",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:n,provider:this}),e}));return c&&(this._cache[e]=h,setTimeout((()=>{this._cache[e]=null}),0)),h}modifyFormatter(){this.formatter.formats.receiptLog.removed=e=>{if("boolean"===typeof e)return e}}}function a(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}}}]);
//# sourceMappingURL=6.b419430e.chunk.js.map